(self.webpackChunkclear_horizon=self.webpackChunkclear_horizon||[]).push([[886],{43590:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var o,r=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(){var n=t.call(this)||this;return n.name="CancelError",Object.setPrototypeOf(n,e.prototype),n}return r(e,t),e}(Error),s=function(){function t(t){void 0===t&&(t={}),this.options=t,this._promises=new Map}return Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._promises.size>0},enumerable:!1,configurable:!0}),t.prototype.remove=function(t){this._promises.has(t)&&(this._promises.delete(t),this._onStop())},t.prototype.get=function(t){return this._promises.get(t)},t.prototype.add=function(t,e){var n=this,o=e||t,r=this._promises.get(o);return this.options.onStart&&!this.isLoaded&&this.options.onStart(),r||(this._promises.set(o,t),t.finally((function(){n.remove(o)})),t)},t.prototype.abort=function(){this.isLoaded&&(this._promises.forEach((function(t){t.cancel&&t.cancel()})),this._promises.clear(),this._onStop())},t.prototype.waitFunc=function(t,e){return void 0===e&&(e=""),e=e||t.name,this.get(e)||this.add(t(),e)},t.prototype.WaitForMe=function(t){void 0===t&&(t="");var e=this.get.bind(this),n=this.add.bind(this);return function(o,r,i){var s=i.value;return t=t||r,i.value=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=e(t);if(i)return i;var c=n(s.apply(this,o),t);return c},i}},t.prototype.GetOrCreateDecorator=function(t){return void 0===t&&(t=""),this.WaitForMe(t)},t.prototype._onStop=function(){this.options.onStop&&!this.isLoaded&&this.options.onStop()},t}(),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t){function e(){var n=t.call(this)||this;return n.name="TimeoutError",Object.setPrototypeOf(n,e.prototype),n}return c(e,t),e}(Error),u=function(t,e,n,o){try{t(n(o))}catch(t){e(t)}},p=0,h=function(){function t(e,n){var o=this;this.id=p++,this._isCanceled=!1,this._isPending=!0,this._cancelHandlers=[],this._children=[],this._cancelPromise=new Promise((function(t,e){o._setCanceledCallback=function(e){return t(e||new i)}}));var r=[this._cancelPromise,new Promise((function(n,r){return e((function(e){e instanceof t?o.attach(e):o._isPending=!1,n(e)}),(function(t){o._isPending=!1,r(t)}),(function(t){if(!o._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");o._cancelHandlers.push(t)}))}))];n&&r.push(new Promise((function(t,e){setTimeout((function(){if(o._isPending)try{o.cancel()}finally{e(new a)}}),n)}))),this._promise=Promise.race(r)}return t.createControl=function(t){return new s(t)},t.resolve=function(e){return new t((function(t){return t(e)}))},t.reject=function(e){return new t((function(t,n){return n(e)}))},t.all=function(e){return new t((function(t,n){Promise.all(e).then(t).catch(n)}))},t.prototype.attach=function(t){this._isCanceled?t.cancel():this._children.push(t)},t.prototype.then=function(e,n){var o=this,r=new t((function(t,r){if(o._promise){var i=function(e){n?u(t,r,n,e):r(e)};o._promise.then((function(n){o._isCanceled?i(n):e?u(t,r,e,n):t(n)}),i)}}));return r._parentPromise=this,this._children.push(r),r},t.prototype.catch=function(t){return this._isCanceled&&t&&t(new i),this.then(void 0,t)},t.prototype.finally=function(t){return this._promise?this._promise.finally(t):this._isCanceled?Promise.reject(new i):Promise.reject(t)},t.prototype.cancel=function(){if(this._isCanceled)return this;this._isCanceled=!0;var t=this._getTopParent();if(t&&t.cancel(),this._children&&this._children.forEach((function(t){return t.cancel()})),this._isPending){if(this._cancelHandlers.length)try{for(var e=0,n=this._cancelHandlers;e<n.length;e++)(0,n[e])()}catch(t){}this._setCanceledCallback&&this._setCanceledCallback()}return this._destroy(),this},t.prototype._getTopParent=function(){for(var t=this._parentPromise,e=!!t;e;)e=!(!t||!t._parentPromise||!(t=t._parentPromise));return t},t.prototype._destroy=function(){this._setCanceledCallback=void 0,this._cancelPromise=void 0,this._promise=void 0},t.CancelError=i,t.TimeoutError=a,t.PromiseControl=s,t}();Object.setPrototypeOf(h.prototype,Promise.prototype);var f=h}}]);
//# sourceMappingURL=main-9dbcb6f1f299dae.js.map