(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{119:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var o=r(120),n=function(){return(n=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},i=function(){function t(t,e){this.item=t,this.options={},this._properties={},this._propertiesList=[],e&&e.forEach(this._setPropertyHandler.bind(this))}return t.prototype.add=function(t){this._setPropertyHandler(t)},t.prototype._setPropertyHandler=function(e){var r=t.handlers,o=e.handler;if(!o&&e.type)switch(e.type){case"boolean":o=r.CheckProperty;break;case"string":o=r.BaseProperty;break;default:o=r.BaseProperty}if(o&&e.name){var i=n({},e||{});this._properties[e.name]=new o(e.name,this.item,i),this._propertiesList.push(e.name)}},t.prototype.update=function(){this.list().forEach((function(t){t.update()}))},t.prototype.get=function(t){var e=this.property(t);if(e)return e.get()},t.prototype.set=function(t,e,r){var o=this.property(t);if(o)return o.set(e,r)},t.prototype.property=function(t){return this._properties[t]},t.prototype.list=function(){var t=this;return this._propertiesList.map((function(e){return t._properties[e]}))},t.prototype.destroy=function(){for(var t in this._properties){var e=this.property(t);e&&e.destroy&&e.destroy()}this._properties={},this._propertiesList=[]},t.handlers={CheckProperty:o.a},t}()},120:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var o,n=r(121),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(){return(a=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},s=function(t){function e(r,o,n){var i=t.call(this,r,o,a(a({},e.options),n))||this;return i.set(i.get()),i}return i(e,t),e.prototype.update=function(t,e){if(t){if(e&&e.bubble||this.options.bubble){this.unBlock(e);var r=this.getParent(),o=r&&r.properties&&r.properties.property(this.name);o&&o.set(t,Object.assign({},e,{bubble:!0,propagation:!1}))}this.isBlocked()||this._turnOn(e)}else this._turnOff(e);(e&&e.propagation||this.options.propagation)&&this._propagation(t,e)},e.prototype.getHierarchyValue=function(){var t=this;return this.get()&&this.getParents().every((function(e){var r=e.properties&&e.properties.get(t.name);return r&&r.get()}))},e.prototype._prepareValue=function(t){return t},e.prototype._turnOff=function(t){this.options.turnOff&&this.options.turnOff.call(this,t),this._callOnSet(!1,t),this.options.hierarchy&&this.isGroup()&&this.blockChild(t)},e.prototype._turnOn=function(t){this.options.turnOn&&this.options.turnOn.call(this,t),this._callOnSet(!0,t),this.options.hierarchy&&this.isGroup()&&this.unblockChild(t)},e.prototype.block=function(t){this._blocked=!0,this._block(t)},e.prototype._block=function(t){this._turnOff(t)},e.prototype.unBlock=function(t){this._blocked=!1,this.getValue()&&this._unBlock(t)},e.prototype._unBlock=function(t){this._turnOn(t)},e.prototype.blockChild=function(t){var e=this;this.item.tree.getDescendants().forEach((function(r){return e._blockChild(r,t)}))},e.prototype.unblockChild=function(t){var e=this;this.item.tree.getChildren().forEach((function(r){return e._unBlockChild(r,t)}))},e.prototype._blockChild=function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.block&&r.block(e)},e.prototype._unBlockChild=function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.unBlock&&r.unBlock(e)},e.prototype._propagation=function(t,e){if(this.isGroup())for(var r=this.item.tree.getChildren(),o=0;o<r.length;o++){var n=r[o],i=n.properties&&n.properties.property(this.name);i&&i.set(t,a(a({},e),{propagation:!0,bubble:!1}))}},e.options={hierarchy:!0,bubble:!1,propagation:!1,label:"Toggle"},e}(n.a)},121:function(t,e,r){"use strict";var o;r.d(e,"a",(function(){return i}));try{o=r(29)}catch(t){}var n=o&&o.EventEmitter,i=function(){function t(t,e,r){this.emitter=n&&new n,this._blocked=!1,this.item=e,this.options=Object.assign({},r),this.name=t,this._value=this.getProperty()}return t.prototype.getProperty=function(){return"function"==typeof this.options.getProperty?this.options.getProperty.call(this,this.item):this.options.value},t.prototype.getParents=function(){return this.item.tree.getParents()||[]},t.prototype.getParent=function(){return this.item.tree.getParent()},t.prototype.isGroup=function(){return this.item.tree.getDescendants().length},t.prototype.isBlocked=function(){var t=this;if(void 0===this._blocked){var e=this.item.tree.getParents();if(e){var r=e.find((function(e){var r=e.properties&&e.properties.property(t.name);return!!r&&!r.get()}));this._blocked=!!r}else this._blocked=!1}return this._blocked},t.prototype.set=function(t,e){this._value=this._prepareValue(t),this.update(this._value,e),this._fireChangeEvent(this._value,e)},t.prototype.get=function(){return this.getValue()},t.prototype.update=function(t,e){this._callOnSet(t,e)},t.prototype.getContainer=function(){return this._container},t.prototype.destroy=function(){if(this._container){var t=this._container.parentNode;t&&t.removeChild(this._container)}this._removeEventsListener&&this._removeEventsListener()},t.prototype.getValue=function(){return void 0!==this._value?this._value:this.getProperty()},t.prototype._prepareValue=function(t){return t},t.prototype._callOnSet=function(t,e){this.options.onSet&&this.options.onSet.call(this,t,e,this.item)},t.prototype._fireChangeEvent=function(t,e){var r=this;this.emitter&&(t=void 0!==t?t:this.getValue(),this.emitter.emit("change",{value:t,options:e}),this.item.tree.getParents().forEach((function(o){var n=o.properties&&o.properties.property(r.name);n&&n.emitter.emit("change-tree",{value:t,options:e,item:r.item})})))},t}()},124:function(t,e,r){"use strict";var o=r(260);r(238),r(239),r(240),r(241),r(242);e.default=o.a},125:function(t,e,r){"use strict";function o(t){return"[object Object]"===Object.prototype.toString.call(t)}r.d(e,"a",(function(){return o}))},129:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var o,n=r(53),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(r){var o=t.call(this,r)||this;return o.name="ResourceNotFoundError",o.exception="nextgisweb.resource.exception.ResourceNotFound",Object.setPrototypeOf(o,e.prototype),o}return i(e,t),e}(n.a)},166:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=/\{ *([\w_-]+) *\}/g;function n(t,e){return t.replace(o,(function(t,r){var o=e[r];if(void 0===o)throw new Error("No value provided for letiable "+t);return"function"==typeof o&&(o=o(e)),o}))}},238:function(t,e){},239:function(t,e){},240:function(t,e){},241:function(t,e){},242:function(t,e){},243:function(t,e){},254:function(t,e,r){"use strict";function o(t,e,r,n){void 0===e&&(e=function(t){return!!t}),void 0===n&&(n=[]);var i=[];if(Array.isArray(t))i=t;else{e(t)&&n.push(t);var a=r(t);a&&(Array.isArray(a)?i=a:i.push(a))}for(var s=0;s<i.length;s++)i[s]&&o(i[s],e,r,n);return n}r.d(e,"a",(function(){return c}));var n,i=function(){function t(t){this._children=[],this.item=t}return t.prototype.setParent=function(t){this._parent=t},t.prototype.addChild=function(t){this._children.push(t)},t.prototype.getParent=function(){return this._parent},t.prototype.getParents=function(t){var e=this.getParent();return e?o(e,t,(function(t){return t.tree.getParent()})):[]},t.prototype.getRoot=function(){for(var t=this.getParent(),e=t;t;)(t=t.tree.getParent())&&(e=t);return e},t.prototype.find=function(t){return o(this._children,t,(function(t){return t.tree.getChildren()}))[0]},t.prototype.all=function(t){return this.getDescendants(t)},t.prototype.getDescendants=function(t){return o(this._children,t,(function(t){return t.tree.getChildren()}))},t.prototype.getChildren=function(){return this._children},t}(),a=r(119),s=function(){return(s=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};try{n=r(29)}catch(t){}var u=n&&n.EventEmitter,p=0,c=function(){function t(t){this.options={},this.id=p,this.emitter=u&&new u,p+=1,this.options=s({},t),this.tree=new i(this)}return t.prototype.initProperties=function(){this.properties=new a.a(this,this.options.properties)},t}()},260:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return m}));var o=r(31),n=r(11),i=r(29),a=r(270),s=r(166),u=r(261),p=r(262),c=r(129),f=r(53),h=r(125),l=r(263),y=function(){return(y=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},d=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o},v="undefined"!=typeof window&&void 0!==window.document,m=function(){function e(t){this.options=t,this.emitter=new i.EventEmitter,this.routeStr="/api/component/pyramid/route",this._loadingQueue={},this._loadingStatus={},this._queriesCache={},this._resourcesCache={},this.options.route&&(this.routeStr=this.options.route)}return e.prototype.setNgw=function(t){this.logout(),this.options.baseUrl=t},e.prototype.setNextGisWeb=function(t){this.setNgw(t)},e.prototype.connect=function(){var t=this;return new o.a((function(e,r){var o=function(){return t.makeQuery(t.routeStr,{},{}).then((function(r){t.route=r,e(r)})).catch(r)};if(t.route)return e(t.route);if(t.options.auth){var n=t.options.auth,i=n.login,a=n.password;if(i&&a)return t.getUserInfo({login:i,password:a}).then((function(){return o()}))}o()}))},e.prototype.login=function(t){return this.logout(),this.getUserInfo(t)},e.prototype.logout=function(){this._rejectLoadingQueue(),this._loadingStatus={},this.options.auth=void 0,this.route=void 0,this.user=void 0,this.emitter.emit("logout")},e.prototype.getUserInfo=function(t){var e=this;if(this.user&&this.user.id)return o.a.resolve(this.user);t&&(this.options.auth=t);var r={headers:this.getAuthorizationHeaders(t)};return this.makeQuery("/api/component/auth/current_user",{},r).then((function(t){return e.user=t,e.emitter.emit("login",t),t})).catch((function(t){throw e.emitter.emit("login:error",t),t}))},e.prototype.getAuthorizationHeaders=function(t){var e=this.makeClientId(t);if(e)return{Authorization:"Basic "+e}},e.prototype.makeClientId=function(e){if(e=e||this.options.auth){var r=e.login,o=e.password,n=unescape(encodeURIComponent(r+":"+o));return v?window.btoa(n):t.from(n).toString("base64")}},e.prototype.apiRequest=function(t,e,r){var n=this;return void 0===e&&(e={}),new o.a((function(o,i){n.connect().then((function(a){var u=a&&a[t];if(u){var p=(u=d(u)).shift();if(u.length){for(var c={},f=0;f<u.length;f++){var h=u[f];if(c[f]="{"+h+"}",void 0===e[h])throw new Error("`"+h+"` url api argument is not specified")}p&&(p=Object(s.a)(p,c))}if(e){var l=[],y=e.paramList;for(var v in Array.isArray(y)&&(delete e.paramList,y.forEach((function(t){l.push(t[0]+"="+t[1])}))),e)-1===u.indexOf(v)&&l.push(v+"="+e[v]);l.length&&(p=p+"?"+l.join("&"))}if(p)return n.makeQuery(p,e,r).then((function(t){o(t)})).catch(i);i(new Error("request url is not set"))}else o({})}))}))},e.prototype.post=function(t,e,r){return(e=e||{}).method="POST",e.nocache=!0,this.apiRequest(t,r,e)},e.prototype.get=function(t,e,r){return(e=e||{}).method="GET",e.nocache=!0,this.apiRequest(t,r,e)},e.prototype.patch=function(t,e,r){return(e=e||{}).method="PATCH",e.nocache=!0,this.apiRequest(t,r,e)},e.prototype.put=function(t,e,r){return(e=e||{}).method="PUT",e.nocache=!0,this.apiRequest(t,r,e)},e.prototype.delete=function(t,e,r){return(e=e||{}).method="DELETE",e.nocache=!0,this.apiRequest(t,r,e)},e.prototype.makeQuery=function(t,e,r){var n=this;if(void 0===r&&(r={}),t=(this.options.baseUrl?this.options.baseUrl:"")+t)return e&&(t=Object(s.a)(t,e)),t=t.replace(/([^:]\/)\/+/g,"$1"),r.cache&&this._queriesCache[t]?this._queriesCache[t]:!this._loadingStatus[t]||r.nocache?(this._loadingStatus[t]=!0,this._loadData(t,r).then((function(e){return n._loadingStatus[t]=!1,r.cache&&(n._queriesCache[t]=e),n._executeLoadingQueue(t,e),e})).catch((function(e){throw n._loadingStatus[t]=!1,n._executeLoadingQueue(t,e,!0),n.emitter.emit("error",e),e}))):(this._loadingStatus[t]=!1,new o.a((function(e,r){n._setLoadingQueue(t,e,r)})));throw new Error("No `url` parameter set for option "+name)},e.prototype.getResource=function(t){return"string"==typeof t?this.getResourceByKeyname(t):"number"==typeof t?this.getResourceById(t):Object(h.a)(t)?this.getResourceBy(t):o.a.resolve(void 0)},e.prototype.getResourceId=function(t){return"number"==typeof t?o.a.resolve(t):"string"==typeof t?this.getResourceByKeyname(t).then((function(t){if(t)return t.resource.id})):o.a.resolve(void 0)},e.prototype.getResourcesBy=function(t){var e=this,r=[];if(t.id){var n=this._resourcesCache[t.id];n&&r.push(n)}else r=this._resourceCacheFilter(t);if(!r.length){var i={};return t.keyname?i.keyname=t.keyname:Object.assign(i,Object(u.a)(t)),this.get("resource.search",null,y({serialization:"full"},i)).then((function(t){return t&&t.forEach((function(t){e._resourcesCache[t.resource.id]=t})),t})).catch((function(){return[]}))}return o.a.resolve(r)},e.prototype.getResourceBy=function(t){return this.getResourcesBy(t).then((function(t){return t[0]}))},e.prototype.getResourceByKeyname=function(t){return this.getResourceBy({keyname:t})},e.prototype.getResourceById=function(t){var e=this,r=this._resourcesCache[t];return r?o.a.resolve(r):this.get("resource.item",null,{id:t}).then((function(r){return r&&(e._resourcesCache[t]=r),r})).catch((function(t){if(!(t instanceof c.a))throw t}))},e.prototype.getResourceChildren=function(t){var e=this,r={};"string"==typeof t?r.keyname=t:"number"==typeof t?r.resourceId=t:r=t;var o=r.resourceId,n=r.keyname;if(!r.keyname&&!r.resourceId&&!r.resource)throw new Error("No keyname or resourceId is set");r.resource&&("string"==typeof r.resource?n=r.resource:"number"==typeof r.resource&&(o=r.resource));var i=function(){return e.get("resource.collection",null,{parent:o})};return n?this.getResourceByKeyname(n).then((function(t){return t&&(o=t.resource.id),i()})):i()},e.prototype.deleteResource=function(t){var e=this;return this.getResourceId(t).then((function(t){if(void 0!==t)return e.delete("resource.item",null,{id:t}).then((function(){delete e._resourcesCache[t]}))}))},e.prototype._setLoadingQueue=function(t,e,r){this._loadingQueue[t]=this._loadingQueue[t]||{name:t,waiting:[]},this._loadingQueue[t].waiting.push({resolve:e,reject:r,timestamp:new Date})},e.prototype._rejectLoadingQueue=function(){for(var t in this._loadingQueue){this._loadingQueue[t].waiting.forEach((function(t){t.reject()})),delete this._loadingQueue[t]}},e.prototype._executeLoadingQueue=function(t,e,r){var o=this._loadingQueue[t];if(o){for(var n=0;n<o.waiting.length;n++){var i=o.waiting[n];r?i.reject&&i.reject():i.resolve(e)}o.waiting=[]}},e.prototype._loadData=function(t,e){var r=this;return e.responseType=e.responseType||"json",new o.a((function(o,n,i){r.user&&((e=e||{}).headers=y(y({},r.getAuthorizationHeaders()),e.headers)),Object(a.a)(t,o,e,n,i)})).catch((function(t){var e=r._handleHttpError(t);if(e)throw e}))},e.prototype._handleHttpError=function(t){if(t&&t instanceof f.a){if("nextgisweb.resource.exception.ResourceNotFound"===t.exception)throw new c.a(t);if("nextgisweb.core.exception.InsufficientPermissions"===t.exception)throw new l.a(t)}return t},e.prototype._resourceCacheFilter=function(t){return Object.values(this._resourcesCache).filter((function(e){return t.keyname&&e.resource.keyname?t.keyname===e.resource.keyname:Object(n.defined)(t.id)&&Object(n.defined)(e.resource.id)?t.id===e.resource.id:Object(p.a)(t,e.resource)}))},e.errors={NgwError:f.a,ResourceNotFoundError:c.a},e}()}).call(this,r(643).Buffer)},261:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var o=r(11),n=r(125);function i(t,e){void 0===e&&(e=""),e=e?e+"__":"";var r={};return Object.entries(t).forEach((function(t){var a=t[0],s=t[1];if(Object(n.a)(s)){var u=i(s,a);Object.assign(r,u)}else Object(o.defined)(s)&&(r[e+a]=s)})),r}},262:function(t,e,r){"use strict";function o(t,e){return function t(e,r){return Object.entries(e).every((function(e){var o=e[0],i=e[1],a=r[o];return n(i)?!!n(a)&&t(i,a):void 0===a||i===a}))}(t,e)}function n(t){return"[object Object]"===Object.prototype.toString.call(t)}r.d(e,"a",(function(){return o}))},263:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var o,n=r(53),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(r){var o=t.call(this,r)||this;return o.name="InsufficientPermissionsError",o.exception="nextgisweb.core.exception.InsufficientPermissions",Object.setPrototypeOf(o,e.prototype),o}return i(e,t),e}(n.a)},264:function(t,e,r){"use strict";var o=r(254);r.d(e,"Item",(function(){return o.a}));r(243),r(121),r(120),r(119)},269:function(t,e,r){"use strict";var o=r(7),n=r.n(o),i=r(29),a=r(11);function s(t,e,r){var o=new XMLHttpRequest;for(var n in o.open("GET",t),o.responseType="arraybuffer",r)o.setRequestHeader(n,r[n]);o.onload=function(){var t=new Uint8Array(this.response),r=new Blob([t],{type:"image/png"}),o=(window.URL||window.webkitURL).createObjectURL(r);e(o)},o.send()}var u,p=function(){function t(){}return t.prototype.createTile=function(t,e){var r=this.getTileUrl(t),o=document.createElement("img");return s(r,(function(t){o.src=t,e(null,o)}),this.options.headers),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o.alt="",o.setAttribute("role","presentation"),o},t}(),c=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(e,r){return t.call(this,e,r)||this}return c(e,t),e}(o.TileLayer);Object(a.applyMixins)(f,[p]);var h=function(){function t(t,e){if(this.map=t,this.options=e,this.pane="order-0",void 0!==e.order){var r="order-"+e.order,o=t.getPane(r);o||(o=t.createPane(r)),o.style.zIndex=String(100*e.order),this.pane=r}}return t.prototype.addLayer=function(t){},t}(),l=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),y=function(){return(y=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},d=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r},v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.addLayer=function(t){if(t){var e=t.url,r=d(t,["url"]);if(e){var n={pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom};return r.headers?new f(e,y(y({},n),{headers:r.headers})):new o.TileLayer(e,n)}}},e}(h),m=r(60),_={Point:"point",LineString:"line",MultiPoint:"point",Polygon:"polygon",MultiLineString:"line",MultiPolygon:"polygon",GeometryCollection:"polygon"},g={stroke:!1,opacity:1},O={};for(var b in _){var P=_[b],w=O[P]||[];w.push(b),O[P]=w}function j(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1+(e[t[r]]||0);var o="";for(var n in e){var i=o?e[o]:0;e[n]>i&&(o=n)}return o}function L(t,e){return-1!==(O[e]||[]).indexOf(t)}function k(t){var e=t.containerPoint;return{latLng:t.latlng,pixel:{left:e.x,top:e.y},source:t}}var C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),E=function(){return(E=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},x=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r},S=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.selected=!1,n._layers=[],n._selectedLayers=[],n._filteredLayers=[],n.layer=new o.FeatureGroup([],{pane:n.pane}),n}return C(e,t),e.prototype.addLayer=function(t){if(t)return this.options=t,this.paint=t.paint,this.selectedPaint=t.selectedPaint,t.paint=this.paint,t.data&&this.addData(t.data),this.layer},e.prototype.select=function(t){var e=this;t?this._layers.filter(t).forEach((function(t){e._selectLayer(t.layer)})):this.selected||(this.selected=!0,this.selectedPaint&&this.setPaintEachLayer(this.selectedPaint))},e.prototype.unselect=function(t){var e=this;t?this._layers.filter(t).forEach((function(t){e._unSelectLayer(t.layer)})):this.selected&&(this.selected=!1,this.paint&&this.setPaintEachLayer(this.paint))},e.prototype.getSelected=function(){return this._selectedLayers.map((function(t){return{feature:t.feature,layer:t}}))},e.prototype.getFiltered=function(){return this._filteredLayers},e.prototype.filter=function(t){var e=this;this._filterFun=t;var r=this.layer._map;r&&this.layer.remove();var o=[];return this._layers.forEach((function(r){var n=r.feature,i=r.layer;i&&(!t||t({feature:n,layer:i})?(e.layer.addLayer(i),o.push({feature:n,layer:i})):e.layer.removeLayer(i))})),this._filteredLayers=o,r&&this.layer.addTo(r),this._filteredLayers},e.prototype.cleanFilter=function(){this.filter()},e.prototype.getLayers=function(){return this._layers.map((function(t){var e=t.layer;return{feature:t.feature,layer:e,visible:e&&e._map}}))},e.prototype.clearLayer=function(t){if(t)for(var e=this._layers.length;e--;){var r=this._layers[e];r.feature&&t(r.feature)&&(this.layer.removeLayer(r.layer),this._layers.splice(e,1))}else this.layer.clearLayers(),this._layers=[]},e.prototype.setData=function(t){this.clearLayer(),this.addData(t)},e.prototype.addData=function(t){var e,r=this.options;if(r){if(t){var n=void 0;if(r.type)n=r.type;else{var i=function(t){var e;if("FeatureCollection"===t.type)e=j(t.features.map((function(t){return t.geometry.type})));else if("GeometryCollection"===t.type){e=j(t.geometries.map((function(t){return t.type})))}else e="Feature"===t.type?t.geometry.type:t.type;return e}(t);n=_[i]}if(this.type&&this.type!==n)return console.warn("no other data type than layer can be added"),!1;this.type=n,(t=function(t,e){if("FeatureCollection"===t.type)(r=t).features=r.features.filter((function(t){return L(t.geometry.type,e)}));else if("Feature"===t.type){if(!L(t.geometry.type,e))return!1}else if("GeometryCollection"===t.type){var r;(r=t).geometries=r.geometries.filter((function(t){return L(t.type,e)}))}return t}(t,n))&&(e=this.getGeoJsonOptions(r,n))}new o.GeoJSON(t||void 0,e)}},e.prototype.openPopup=function(t,e){var r=this;t&&this._layers.filter(t).forEach((function(t){r._openPopup(t.layer,e)}))},e.prototype.closePopup=function(t){var e=this;(t?this._layers.filter(t):this._layers).forEach((function(t){e._closePopup(t.layer)}))},e.prototype.updateTooltip=function(t){var e=this;t?this._updateTooltip(t):this.getLayers().forEach((function(t){return e._updateTooltip(t)}))},e.prototype._updateTooltip=function(t){var e=t.feature,r=t.layer;if(this.options.labelField&&e&&e.properties){r.unbindTooltip();var o=e.properties[this.options.labelField];void 0!==o&&r.bindTooltip(String(o),{permanent:!0}).openTooltip()}},e.prototype._openPopup=function(t,e){var r=t.feature,o=E({minWidth:300},e=e||{}),n=o.minWidth,i=o.autoPan,a=e&&e.createPopupContent?e.createPopupContent({layer:t,feature:r}):"";if(a){var s=t.bindPopup(a,{minWidth:n,autoPan:i});setTimeout((function(){s.openPopup()}),0)}},e.prototype._closePopup=function(t){t.closePopup().unbindPopup()},e.prototype.setPaintEachLayer=function(t){var e=this;this.layer.eachLayer((function(r){e.setPaint(r,t)}))},e.prototype.setPaint=function(t,e){var r=void 0;if(Object(m.isPaintCallback)(e)?r=e(t.feature):Object(m.isPaint)(e)&&(r=e),r)if("point"===this.type&&"icon"===r.type){var o=t,n=this.createDivIcon(r);o.setIcon(n)}else"setStyle"in t&&t.setStyle(this.preparePaint(r))},e.prototype.preparePaint=function(t){if("get-paint"!==t.type){var e="line"===this.type?[["color","strokeColor"],["opacity","strokeOpacity"],["weight","weight"]]:[["color","strokeColor"],["opacity","strokeOpacity"],["stroke","stroke"],["fillColor","fillColor"],["fillOpacity","fillOpacity"],["fill","fill"],["weight","weight"]],r={};return"radius"in t&&"number"==typeof t.radius&&(r.radius=t.radius),e.forEach((function(e){var o=e[0],n=e[1],i=t[n];void 0!==i&&Object.defineProperty(r,o,{enumerable:!0,value:i})})),r}return g},e.prototype.getGeoJsonOptions=function(t,e){var r=this,o=t.paint,n={};return(n="function"==typeof o?"point"===e?{pointToLayer:function(t,e){var n=o(t);return r.createPaintToLayer(n)(t,e)}}:{style:function(t){return t?r.preparePaint(E(E({},g),o(t))):r.preparePaint(E(E({},g),{type:"path"}))}}:this.createPaintOptions(o,e)).onEachFeature=function(e,o){o.options.pane=r.pane,r._layers.push({feature:e,layer:o});var n=!0;r._filterFun&&(n=r._filterFun({feature:e,layer:o})),n&&(o.options.interactive=r.options.selectable||r.options.interactive,r.layer.addLayer(o),t.selectable&&(t.selectOnHover?(o.on("mouseover",(function(){r._selectLayer(o)})),o.on("mouseout",(function(){r._unSelectLayer(o)}))):o.on("click",(function(t){return r._onLayerClick(t)}),r)),r.options.popup&&r._openPopup(o,r.options.popupOptions),r._updateTooltip({layer:o,feature:e}))},n},e.prototype._onLayerClick=function(t){o.DomEvent.stopPropagation(t);var e=t.target,r=-1!==this._selectedLayers.indexOf(e);r?this.options&&this.options.unselectOnSecondClick&&(this._unSelectLayer(e),r=!1):(this._selectLayer(e),r=!0),this.options.onLayerClick&&this.options.onLayerClick({layer:this,feature:e.feature,selected:r,event:k(t),source:t})},e.prototype._selectLayer=function(t){var e=this;this.options&&!this.options.multiselect&&this._selectedLayers.forEach((function(t){return e._unSelectLayer(t)})),this._selectedLayers.push(t),this.selected=!0,this.options&&(this.options.selectedPaint&&this.setPaint(t,this.options.selectedPaint),this.options.popupOnSelect&&this._openPopup(t,this.options.popupOptions))},e.prototype._unSelectLayer=function(t){var e=this._selectedLayers.indexOf(t);-1!==e&&this._selectedLayers.splice(e,1),this.selected=this._selectedLayers.length>0,this.options&&(this.options.paint&&this.setPaint(t,this.options.paint),this.options.popupOnSelect&&this._closePopup(t))},e.prototype.createDivIcon=function(t){var e=x(t,[]);return new o.DivIcon(E({className:""},e))},e.prototype.createPaintToLayer=function(t){var e=this;if("icon"===t.type){var r=t.className,n=t.html;if(r||n)return function(r,n){var i=e.createDivIcon(t);return new o.Marker(n,{icon:i})}}else if("pin"===t.type)return function(t,e){return new o.Marker(e)};return function(r,n){var i=g;return new o.CircleMarker(n,e.preparePaint(E(E({},i),t)))}},e.prototype.createPaintOptions=function(t,e){var r={},o=t&&this.preparePaint(t)||{};return t&&(r.style=function(){return o}),"point"===e?r.pointToLayer=this.createPaintToLayer(t):"line"===e&&(o.stroke=!0),r},e}(h),T=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),A=function(t){function e(e){var r=t.call(this,e)||this,o=e&&e.customAttribution;if(o){var n=[];Array.isArray(o)?n=o:o&&(n=[o]),n.forEach((function(t){return r.addAttribution(t)}))}return r}return T(e,t),e}(o.Control.Attribution),B=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),R=function(t){function e(e,r,o){return t.call(this,e,r,o)||this}return B(e,t),e.prototype._initImage=function(){t.prototype._initImage.call(this);var e=this.options.headers;if(e){var r=this._image,o=r.src;r.src="",s(o,(function(t){r.src=t}),e)}},e}(n.a.ImageOverlay),I=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),U=function(t){function e(e,r){var o=t.call(this,r)||this;o.defaultWmsParams={service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},o.options={crs:null,uppercase:!1,attribution:"",opacity:1,isBack:!1,minZoom:0,maxZoom:18,pane:"tilePane",headers:null,viewPortBuffer:0},o._url=e;var i={},a={};for(var s in r)s in o.options?a[s]=r[s]:i[s]=r[s];return n.a.Util.setOptions(o,a),o.wmsParams=n.a.Util.extend({},o.defaultWmsParams,i),o}return I(e,t),e.prototype.setParams=function(t){n.a.Util.extend(this.wmsParams,t),this.update()},e.prototype.getAttribution=function(){return this.options.attribution||""},e.prototype.onAdd=function(){return this.update(),this},e.prototype.onRemove=function(t){return this._currentOverlay&&(t.removeLayer(this._currentOverlay),delete this._currentOverlay),this._currentUrl&&delete this._currentUrl,this},e.prototype.getEvents=function(){return{moveend:this.update}},e.prototype.update=function(){var t=this;if(this._map){this.updateWmsParams();var e=this.getImageUrl();if(this._currentUrl!==e){this._currentUrl=e;var r=this.options.viewPortBuffer||0,o=this._map.getBounds().pad(r),n=new R(e,o,{opacity:0,pane:this.options.pane,headers:this.options.headers});n.addTo(this._map),n.once("load",(function(){t._map&&(n._url===t._currentUrl?(t._currentOverlay&&t._map.removeLayer(t._currentOverlay),t._currentOverlay=n,n.setOpacity(void 0!==t.options.opacity?t.options.opacity:1),!0===t.options.isBack&&n.bringToBack(),!1===t.options.isBack&&n.bringToFront(),void 0!==t.options.zIndex&&n.setZIndex(t.options.zIndex)):t._map.removeLayer(n))}),this);var i=this.options,a=i.minZoom,s=i.maxZoom;(a&&this._map.getZoom()<a||s&&this._map.getZoom()>s)&&this._map.removeLayer(n)}}},e.prototype.setOpacity=function(t){this.options.opacity=t,this._currentOverlay&&this._currentOverlay.setOpacity(t)},e.prototype.bringToBack=function(){this.options.isBack=!0,this._currentOverlay&&this._currentOverlay.bringToBack()},e.prototype.bringToFront=function(){this.options.isBack=!1,this._currentOverlay&&this._currentOverlay.bringToFront()},e.prototype.setZIndex=function(t){this.options.zIndex=t,this._currentOverlay&&this._currentOverlay.setZIndex(t)},e.prototype.updateWmsParams=function(t){t||(t=this._map);var e=this.options.viewPortBuffer||0,r=t.getBounds().pad(e),o=t.getSize();if(0!==this.options.viewPortBuffer){var i=e+1;o.x=Math.ceil(o.x*i),o.y=Math.ceil(o.y*i)}var a=parseFloat(this.wmsParams.version),s=this.options.crs||t.options.crs,u=a>=1.3?"crs":"srs";if(s){var p=s.project(r.getNorthWest()),c=s.project(r.getSouthEast()),f={width:o.x,height:o.y};f[u]=s.code,f.bbox=(a>=1.3&&s===n.a.CRS.EPSG4326?[c.y,p.x,p.y,c.x]:[p.x,c.y,c.x,p.y]).join(","),n.a.Util.extend(this.wmsParams,f)}},e.prototype.getImageUrl=function(){var t=this.options.uppercase||!1,e=n.a.Util.getParamString(this.wmsParams,this._url,t);return this._url+e},e}(n.a.Layer),M=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Z=function(){return(Z=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.addLayer=function(t){var e=t&&t.url;if(e){var r=(t=Z({transparent:!0},t)).updateWmsParams;if(this.layer=new U(e,Z({pane:this.pane,headers:t.headers},t)),r){var o=this.layer.updateWmsParams;this.layer.updateWmsParams=function(t){o.call(this,t),this.wmsParams=r(this.wmsParams)}}return this.layer}},e}(h);function F(t,e){return void 0===e&&(e={}),new(o.Control.extend({onAdd:function(){var r=document.createElement("div"),n=t.onAdd();return r.classList.add("leaflet-control"),e.bar&&r.classList.add("leaflet-bar"),e.margin||e.bar||(r.style.marginBottom="0px",r.style.marginTop="0px",r.style.marginLeft="0px",r.style.marginRight="0px"),n&&r.appendChild(n),o.DomEvent.disableClickPropagation(r),r},onRemove:function(){t.onRemove()}}))}var D=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),G=function(t){function e(e,r){return t.call(this,e,r)||this}return D(e,t),e}(o.TileLayer.WMS);Object(a.applyMixins)(G,[p]);var Q=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),q=function(){return(q=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},W=function(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r},z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.addLayer=function(t){if(t){var e=t.url,r=W(t,["url"]);if(e){var n={pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom,layers:t.layers,format:t.format};return r.headers?new G(e,q(q({},n),{headers:r.headers})):new o.TileLayer.WMS(e,n)}}},e}(h),H=function(){return(H=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},V=function(){function t(){this.options={target:"map"},this.layerAdapters=t.layerAdapters,this.controlAdapters=t.controlAdapters,this.emitter=new i.EventEmitter,this._universalEvents=["zoomstart","zoom","zoomend","movestart","move","moveend"]}return t.prototype.create=function(t){if(this.options=H({},t),this.options.target){var e=this.options,r=e.maxZoom,n=e.minZoom,i=e.zoom,a=e.center;this.map=new o.Map(this.options.target,{zoomControl:!1,attributionControl:!1,maxZoom:r,minZoom:n,zoom:i,center:a}),this.map.createPane("order-0").style.zIndex=String(0),this.emitter.emit("create",this),this._addMapListeners()}},t.prototype.destroy=function(){this.map&&this.map.remove()},t.prototype.getContainer=function(){return this.map&&this.map.getContainer()},t.prototype.setCursor=function(t){this.map&&(this.map.getContainer().style.cursor=t)},t.prototype.setView=function(t,e){var r=t[0],o=t[1];this.map&&(e?this.map.setView([o,r],e,{animate:!1}):this.setCenter([r,o]))},t.prototype.setCenter=function(t){var e=t[0],r=t[1];this.map&&this.map.panTo([r,e])},t.prototype.getCenter=function(){var t=this.map;if(t){var e=t.getBounds().getCenter();return[e.lng,e.lat]}},t.prototype.setZoom=function(t){this.map&&this.map.setZoom(t)},t.prototype.getZoom=function(){return this.map&&this.map.getZoom()||void 0},t.prototype.getBounds=function(){if(this.map){var t=this.map.getBounds(),e=t.getSouthWest(),r=t.getNorthEast();return[e.lng,e.lat,r.lng,r.lat]}},t.prototype.fitBounds=function(t){this.map&&this.map.fitBounds([[t[3],t[0]],[t[1],t[2]]])},t.prototype.getLayerAdapter=function(e){return t.layerAdapters[e]},t.prototype.createControl=function(t,e){return F(t,e)},t.prototype.createButtonControl=function(t){return function(t){var e=document.createElement("a"),r=t.title||"";e.href="#",e.title=r,e.setAttribute("role","button"),e.setAttribute("aria-label",r),o.DomEvent.disableClickPropagation(e),o.DomEvent.on(e,"click",o.DomEvent.stop),t.html instanceof HTMLElement?e.appendChild(t.html):"string"==typeof t.html&&(e.innerHTML=t.html);var n=function(e){e.stopPropagation(),t.onClick()};return void 0!==t.onClick&&e.addEventListener("click",n),F({onAdd:function(){return e},onRemove:function(){var r=e.parentNode;r&&r.removeChild(e),void 0!==t.onClick&&e.removeEventListener("click",n)}},{bar:!0})}(t)},t.prototype.addControl=function(t,e){if(t.options.position=e.replace("-",""),this.map)return this.map.addControl(t),t},t.prototype.removeControl=function(t){this.map&&this.map.removeControl(t)},t.prototype.removeLayer=function(t){t&&t.remove&&t.remove()},t.prototype.showLayer=function(t){this.map&&t.addTo(this.map)},t.prototype.hideLayer=function(t){t.remove()},t.prototype.setLayerOpacity=function(t,e){"setOpacity"in t&&t.setOpacity(e)},t.prototype.setLayerOrder=function(t,e,r){},t.prototype.onMapClick=function(t){this.emitter.emit("click",k(t))},t.prototype.locate=function(t,e){var r=this.map;if(r&&(r.locate(t),e)){var o=e.locationfound,n=e.locationerror,i=function(t){var e=t,r=[e.latlng.lng,e.latlng.lat];o({lngLat:r})};void 0!==o&&r.on("locationfound",i,this),n&&r.on("locationerror",n,this);return{stop:function(){void 0!==o&&r.off("locationfound",i),n&&r.off("locationerror",n)}}}return{stop:function(){}}},t.prototype._addMapListeners=function(){var t=this,e=this.map;e&&(e.on("click",(function(e){t.onMapClick(e)})),this._universalEvents.forEach((function(r){e.on(r,(function(){return t.emitter.emit(r,t)}),e)})))},t.layerAdapters={IMAGE:N,TILE:v,GEOJSON:S,WMS:z},t.controlAdapters={ZOOM:o.Control.Zoom,ATTRIBUTION:A},t.Map=n.a,t}();e.a=V},270:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o,n,i=r(53),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(r){var o=t.call(this)||this;return o.name="NetworkError",Object.setPrototypeOf(o,e.prototype),o.message="Unable to request "+r+".\n    Possibly invalid NGW URL entered or CORS not configured to get request from "+location.origin,o}return a(e,t),e}(Error);n=function(t,e,r,o,n){void 0===r&&(r={}),r.method=r.method||"GET";var a=new XMLHttpRequest;a.open(r.method||"GET",t,!0),"blob"===r.responseType&&(a.responseType=r.responseType);var u=function(){try{return JSON.parse(a.responseText)}catch(t){return a.responseText}};a.onload=function(){-1!==[403,404,500].indexOf(a.status)&&o(new i.a(u())),function(t){void 0===t&&(t=!1);var n=t?o:e;"blob"===r.responseType?n(a.response):a.responseText?n(u()):o({message:""})}()},a.onerror=function(e){0===a.status?o(new s(t)):o(e)},a.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;r.onProgress&&r.onProgress(e,t)}};var p,c=r.headers;if(c)for(var f in c){var h=c[f];"string"==typeof h&&a.setRequestHeader(f,h)}if(void 0!==r.withCredentials&&(a.withCredentials=r.withCredentials),r.file){if((p=new FormData).append("file",r.file),r.data)for(var l in p)p.append(l,p[l])}else p=r.data?"string"==typeof r.data?r.data:JSON.stringify(r.data):null;n&&n((function(){a.abort()})),a.send(p)}},53:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var o,n=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=function(t){function e(r){var o=t.call(this)||this;return o.name="NgwError",Object.assign(o,r),Object.setPrototypeOf(o,e.prototype),o}return n(e,t),e}(Error)}}]);