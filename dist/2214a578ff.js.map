{"version":3,"file":"2214a578ff.js","mappings":"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","sources":["webpack://clear_horizon/./node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js","webpack://clear_horizon/./node_modules/chart.js/auto/auto.js","webpack://clear_horizon/./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack://clear_horizon/./node_modules/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.esm.js"],"sourcesContent":["/*!\n  * chartjs-adapter-moment v1.0.1\n  * https://www.chartjs.org\n  * (c) 2022 chartjs-adapter-moment Contributors\n  * Released under the MIT license\n  */\nimport moment from 'moment';\nimport { _adapters } from 'chart.js';\n\nconst FORMATS = {\n  datetime: 'MMM D, YYYY, h:mm:ss a',\n  millisecond: 'h:mm:ss.SSS a',\n  second: 'h:mm:ss a',\n  minute: 'h:mm a',\n  hour: 'hA',\n  day: 'MMM D',\n  week: 'll',\n  month: 'MMM YYYY',\n  quarter: '[Q]Q - YYYY',\n  year: 'YYYY'\n};\n\n_adapters._date.override(typeof moment === 'function' ? {\n  _id: 'moment', // DEBUG ONLY\n\n  formats: function() {\n    return FORMATS;\n  },\n\n  parse: function(value, format) {\n    if (typeof value === 'string' && typeof format === 'string') {\n      value = moment(value, format);\n    } else if (!(value instanceof moment)) {\n      value = moment(value);\n    }\n    return value.isValid() ? value.valueOf() : null;\n  },\n\n  format: function(time, format) {\n    return moment(time).format(format);\n  },\n\n  add: function(time, amount, unit) {\n    return moment(time).add(amount, unit).valueOf();\n  },\n\n  diff: function(max, min, unit) {\n    return moment(max).diff(moment(min), unit);\n  },\n\n  startOf: function(time, unit, weekday) {\n    time = moment(time);\n    if (unit === 'isoWeek') {\n      weekday = Math.trunc(Math.min(Math.max(0, weekday), 6));\n      return time.isoWeekday(weekday).startOf('day').valueOf();\n    }\n    return time.startOf(unit).valueOf();\n  },\n\n  endOf: function(time, unit) {\n    return moment(time).endOf(unit).valueOf();\n  }\n} : {});\n","import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n","/*!\n * Chart.js v4.4.1\n * https://www.chartjs.org\n * (c) 2023 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || typeof value === 'undefined';\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\nfunction isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , _parsed  } = meta;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = _limitValue(Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            count = _limitValue(Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop)) {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, fontString as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, overrideTextDirection as aA, _textX as aB, restoreTextDirection as aC, drawPointLegend as aD, distanceBetweenPoints as aE, noop as aF, _setMinAndMaxByKey as aG, niceNum as aH, almostWhole as aI, almostEquals as aJ, _decimalPlaces as aK, Ticks as aL, log10 as aM, _longestText as aN, _filterBetween as aO, _lookup as aP, isPatternOrGradient as aQ, getHoverColor as aR, clone as aS, _merger as aT, _mergerIf as aU, _deprecated as aV, _splitKey as aW, toFontString as aX, splineCurve as aY, splineCurveMonotone as aZ, getStyle as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, _elementsEqual as ah, _isClickEvent as ai, _isBetween as aj, _readValueToProps as ak, _updateBezierControlPoints as al, _computeSegments as am, _boundSegments as an, _steppedInterpolation as ao, _bezierInterpolation as ap, _pointInLine as aq, _steppedLineTo as ar, _bezierCurveTo as as, drawPoint as at, addRoundedRectPath as au, toTRBL as av, toTRBLCorners as aw, _boundSegment as ax, _normalizeAngle as ay, getRtlAdapter as az, isArray as b, toLineHeight as b0, PITAU as b1, INFINITY as b2, RAD_PER_DEG as b3, QUARTER_PI as b4, TWO_THIRDS_PI as b5, _angleDiff as b6, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.segment.js.map\n","/*!\n* chartjs-plugin-annotation v3.0.1\n* https://www.chartjs.org/chartjs-plugin-annotation/index\n * (c) 2023 chartjs-plugin-annotation Contributors\n * Released under the MIT License\n */\nimport { Element, defaults, Animations, Chart } from 'chart.js';\nimport { distanceBetweenPoints, defined, isFunction, callback, isObject, valueOrDefault, toRadians, isArray, toFont, addRoundedRectPath, toTRBLCorners, QUARTER_PI, PI, HALF_PI, TWO_THIRDS_PI, TAU, isNumber, RAD_PER_DEG, toPadding, isFinite, toDegrees, clipArea, unclipArea } from 'chart.js/helpers';\n\n/**\n * @typedef { import(\"chart.js\").ChartEvent } ChartEvent\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst interaction = {\n  modes: {\n    /**\n     * Point mode returns all elements that hit test based on the event position\n     * @param {Object} state - the state of the plugin\n     * @param {ChartEvent} event - the event we are find things at\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    point(state, event) {\n      return filterElements(state, event, {intersect: true});\n    },\n\n    /**\n     * Nearest mode returns the element closest to the event position\n     * @param {Object} state - the state of the plugin\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found (only 1 element)\n     */\n    nearest(state, event, options) {\n      return getNearestItem(state, event, options);\n    },\n    /**\n     * x mode returns the elements that hit-test at the current x coordinate\n     * @param {Object} state - the state of the plugin\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    x(state, event, options) {\n      return filterElements(state, event, {intersect: options.intersect, axis: 'x'});\n    },\n\n    /**\n     * y mode returns the elements that hit-test at the current y coordinate\n     * @param {Object} state - the state of the plugin\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    y(state, event, options) {\n      return filterElements(state, event, {intersect: options.intersect, axis: 'y'});\n    }\n  }\n};\n\n/**\n * Returns all elements that hit test based on the event position\n * @param {Object} state - the state of the plugin\n * @param {ChartEvent} event - the event we are find things at\n * @param {Object} options - interaction options to use\n * @return {AnnotationElement[]} - elements that are found\n */\nfunction getElements(state, event, options) {\n  const mode = interaction.modes[options.mode] || interaction.modes.nearest;\n  return mode(state, event, options);\n}\n\nfunction inRangeByAxis(element, event, axis) {\n  if (axis !== 'x' && axis !== 'y') {\n    return element.inRange(event.x, event.y, 'x', true) || element.inRange(event.x, event.y, 'y', true);\n  }\n  return element.inRange(event.x, event.y, axis, true);\n}\n\nfunction getPointByAxis(event, center, axis) {\n  if (axis === 'x') {\n    return {x: event.x, y: center.y};\n  } else if (axis === 'y') {\n    return {x: center.x, y: event.y};\n  }\n  return center;\n}\n\nfunction filterElements(state, event, options) {\n  return state.visibleElements.filter((element) => options.intersect ? element.inRange(event.x, event.y) : inRangeByAxis(element, event, options.axis));\n}\n\nfunction getNearestItem(state, event, options) {\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  return filterElements(state, event, options)\n    .reduce((nearestItems, element) => {\n      const center = element.getCenterPoint();\n      const evenPoint = getPointByAxis(event, center, options.axis);\n      const distance = distanceBetweenPoints(event, evenPoint);\n      if (distance < minDistance) {\n        nearestItems = [element];\n        minDistance = distance;\n      } else if (distance === minDistance) {\n        // Can have multiple items at the same distance in which case we sort by size\n        nearestItems.push(element);\n      }\n\n      return nearestItems;\n    }, [])\n    .sort((a, b) => a._index - b._index)\n    .slice(0, 1); // return only the top item;\n}\n\nconst isOlderPart = (act, req) => req > act || (act.length > req.length && act.slice(0, req.length) === req);\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('chart.js').InteractionAxis } InteractionAxis\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst EPSILON = 0.001;\nconst clamp = (x, from, to) => Math.min(to, Math.max(from, x));\n\n/**\n * @param {Object} obj\n * @param {number} from\n * @param {number} to\n * @returns {Object}\n */\nfunction clampAll(obj, from, to) {\n  for (const key of Object.keys(obj)) {\n    obj[key] = clamp(obj[key], from, to);\n  }\n  return obj;\n}\n\n/**\n * @param {Point} point\n * @param {Point} center\n * @param {number} radius\n * @param {number} borderWidth\n * @returns {boolean}\n */\nfunction inPointRange(point, center, radius, borderWidth) {\n  if (!point || !center || radius <= 0) {\n    return false;\n  }\n  const hBorderWidth = borderWidth / 2;\n  return (Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2)) <= Math.pow(radius + hBorderWidth, 2);\n}\n\n/**\n * @param {Point} point\n * @param {{x: number, y: number, x2: number, y2: number}} rect\n * @param {InteractionAxis} axis\n * @param {number} borderWidth\n * @returns {boolean}\n */\nfunction inBoxRange(point, {x, y, x2, y2}, axis, borderWidth) {\n  const hBorderWidth = borderWidth / 2;\n  const inRangeX = point.x >= x - hBorderWidth - EPSILON && point.x <= x2 + hBorderWidth + EPSILON;\n  const inRangeY = point.y >= y - hBorderWidth - EPSILON && point.y <= y2 + hBorderWidth + EPSILON;\n  if (axis === 'x') {\n    return inRangeX;\n  } else if (axis === 'y') {\n    return inRangeY;\n  }\n  return inRangeX && inRangeY;\n}\n\n/**\n * @param {AnnotationElement} element\n * @param {boolean} useFinalPosition\n * @returns {Point}\n */\nfunction getElementCenterPoint(element, useFinalPosition) {\n  const {centerX, centerY} = element.getProps(['centerX', 'centerY'], useFinalPosition);\n  return {x: centerX, y: centerY};\n}\n\n/**\n * @param {string} pkg\n * @param {string} min\n * @param {string} ver\n * @param {boolean} [strict=true]\n * @returns {boolean}\n */\nfunction requireVersion(pkg, min, ver, strict = true) {\n  const parts = ver.split('.');\n  let i = 0;\n  for (const req of min.split('.')) {\n    const act = parts[i++];\n    if (parseInt(req, 10) < parseInt(act, 10)) {\n      break;\n    }\n    if (isOlderPart(act, req)) {\n      if (strict) {\n        throw new Error(`${pkg} v${ver} is not supported. v${min} or newer is required.`);\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nconst isPercentString = (s) => typeof s === 'string' && s.endsWith('%');\nconst toPercent = (s) => parseFloat(s) / 100;\nconst toPositivePercent = (s) => clamp(toPercent(s), 0, 1);\n\nconst boxAppering = (x, y) => ({x, y, x2: x, y2: y, width: 0, height: 0});\nconst defaultInitAnimation = {\n  box: (properties) => boxAppering(properties.centerX, properties.centerY),\n  ellipse: (properties) => ({centerX: properties.centerX, centerY: properties.centerX, radius: 0, width: 0, height: 0}),\n  label: (properties) => boxAppering(properties.centerX, properties.centerY),\n  line: (properties) => boxAppering(properties.x, properties.y),\n  point: (properties) => ({centerX: properties.centerX, centerY: properties.centerY, radius: 0, width: 0, height: 0}),\n  polygon: (properties) => boxAppering(properties.centerX, properties.centerY)\n};\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n * @typedef { import('../../types/options').AnnotationPointCoordinates } AnnotationPointCoordinates\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/label').LabelPositionObject } LabelPositionObject\n */\n\n/**\n * @param {number} size\n * @param {number|string} position\n * @returns {number}\n */\nfunction getRelativePosition(size, position) {\n  if (position === 'start') {\n    return 0;\n  }\n  if (position === 'end') {\n    return size;\n  }\n  if (isPercentString(position)) {\n    return toPositivePercent(position) * size;\n  }\n  return size / 2;\n}\n\n/**\n * @param {number} size\n * @param {number|string} value\n * @param {boolean} [positivePercent=true]\n * @returns {number}\n */\nfunction getSize(size, value, positivePercent = true) {\n  if (typeof value === 'number') {\n    return value;\n  } else if (isPercentString(value)) {\n    return (positivePercent ? toPositivePercent(value) : toPercent(value)) * size;\n  }\n  return size;\n}\n\n/**\n * @param {{x: number, width: number}} size\n * @param {CoreLabelOptions} options\n * @returns {number}\n */\nfunction calculateTextAlignment(size, options) {\n  const {x, width} = size;\n  const textAlign = options.textAlign;\n  if (textAlign === 'center') {\n    return x + width / 2;\n  } else if (textAlign === 'end' || textAlign === 'right') {\n    return x + width;\n  }\n  return x;\n}\n\n/**\n * @param {{x: number|string, y: number|string}|string|number} value\n * @param {string|number} defaultValue\n * @returns {{x: number|string, y: number|string}}\n */\nfunction toPosition(value, defaultValue = 'center') {\n  if (isObject(value)) {\n    return {\n      x: valueOrDefault(value.x, defaultValue),\n      y: valueOrDefault(value.y, defaultValue),\n    };\n  }\n  value = valueOrDefault(value, defaultValue);\n  return {\n    x: value,\n    y: value\n  };\n}\n\n/**\n * @param {AnnotationPointCoordinates} options\n * @returns {boolean}\n */\nfunction isBoundToPoint(options) {\n  return options && (defined(options.xValue) || defined(options.yValue));\n}\n\n/**\n * @param {Chart} chart\n * @param {AnnotationBoxModel} properties\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationElement}\n */\nfunction initAnimationProperties(chart, properties, options) {\n  const initAnim = options.init;\n  if (!initAnim) {\n    return;\n  } else if (initAnim === true) {\n    return applyDefault(properties, options);\n  }\n  return execCallback(chart, properties, options);\n}\n\n/**\n * @param {Object} options\n * @param {Array} hooks\n * @param {Object} hooksContainer\n * @returns {boolean}\n */\nfunction loadHooks(options, hooks, hooksContainer) {\n  let activated = false;\n  hooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      activated = true;\n      hooksContainer[hook] = options[hook];\n    } else if (defined(hooksContainer[hook])) {\n      delete hooksContainer[hook];\n    }\n  });\n  return activated;\n}\n\nfunction applyDefault(properties, options) {\n  const type = options.type || 'line';\n  return defaultInitAnimation[type](properties);\n}\n\nfunction execCallback(chart, properties, options) {\n  const result = callback(options.init, [{chart, properties, options}]);\n  if (result === true) {\n    return applyDefault(properties, options);\n  } else if (isObject(result)) {\n    return result;\n  }\n}\n\nconst widthCache = new Map();\nconst notRadius = (radius) => isNaN(radius) || radius <= 0;\nconst fontsKey = (fonts) => fonts.reduce(function(prev, item) {\n  prev += item.string;\n  return prev;\n}, '');\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n */\n\n/**\n * Determine if content is an image or a canvas.\n * @param {*} content\n * @returns boolean|undefined\n * @todo move this function to chart.js helpers\n */\nfunction isImageOrCanvas(content) {\n  if (content && typeof content === 'object') {\n    const type = content.toString();\n    return (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]');\n  }\n}\n\n/**\n * Set the translation on the canvas if the rotation must be applied.\n * @param {CanvasRenderingContext2D} ctx - chart canvas context\n * @param {Point} point - the point of translation\n * @param {number} rotation - rotation (in degrees) to apply\n */\nfunction translate(ctx, {x, y}, rotation) {\n  if (rotation) {\n    ctx.translate(x, y);\n    ctx.rotate(toRadians(rotation));\n    ctx.translate(-x, -y);\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n * @returns {boolean|undefined}\n */\nfunction setBorderStyle(ctx, options) {\n  if (options && options.borderWidth) {\n    ctx.lineCap = options.borderCapStyle;\n    ctx.setLineDash(options.borderDash);\n    ctx.lineDashOffset = options.borderDashOffset;\n    ctx.lineJoin = options.borderJoinStyle;\n    ctx.lineWidth = options.borderWidth;\n    ctx.strokeStyle = options.borderColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n */\nfunction setShadowStyle(ctx, options) {\n  ctx.shadowColor = options.backgroundShadowColor;\n  ctx.shadowBlur = options.shadowBlur;\n  ctx.shadowOffsetX = options.shadowOffsetX;\n  ctx.shadowOffsetY = options.shadowOffsetY;\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {CoreLabelOptions} options\n * @returns {{width: number, height: number}}\n */\nfunction measureLabelSize(ctx, options) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    return {\n      width: getSize(content.width, options.width),\n      height: getSize(content.height, options.height)\n    };\n  }\n  const optFont = options.font;\n  const fonts = isArray(optFont) ? optFont.map(f => toFont(f)) : [toFont(optFont)];\n  const strokeWidth = options.textStrokeWidth;\n  const lines = isArray(content) ? content : [content];\n  const mapKey = lines.join() + fontsKey(fonts) + strokeWidth + (ctx._measureText ? '-spriting' : '');\n  if (!widthCache.has(mapKey)) {\n    widthCache.set(mapKey, calculateLabelSize(ctx, lines, fonts, strokeWidth));\n  }\n  return widthCache.get(mapKey);\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {Object} options\n */\nfunction drawBox(ctx, rect, options) {\n  const {x, y, width, height} = rect;\n  ctx.save();\n  setShadowStyle(ctx, options);\n  const stroke = setBorderStyle(ctx, options);\n  ctx.fillStyle = options.backgroundColor;\n  ctx.beginPath();\n  addRoundedRectPath(ctx, {\n    x, y, w: width, h: height,\n    radius: clampAll(toTRBLCorners(options.borderRadius), 0, Math.min(width, height) / 2)\n  });\n  ctx.closePath();\n  ctx.fill();\n  if (stroke) {\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n  }\n  ctx.restore();\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {CoreLabelOptions} options\n */\nfunction drawLabel(ctx, rect, options) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    ctx.save();\n    ctx.globalAlpha = getOpacity(options.opacity, content.style.opacity);\n    ctx.drawImage(content, rect.x, rect.y, rect.width, rect.height);\n    ctx.restore();\n    return;\n  }\n  const labels = isArray(content) ? content : [content];\n  const optFont = options.font;\n  const fonts = isArray(optFont) ? optFont.map(f => toFont(f)) : [toFont(optFont)];\n  const optColor = options.color;\n  const colors = isArray(optColor) ? optColor : [optColor];\n  const x = calculateTextAlignment(rect, options);\n  const y = rect.y + options.textStrokeWidth / 2;\n  ctx.save();\n  ctx.textBaseline = 'middle';\n  ctx.textAlign = options.textAlign;\n  if (setTextStrokeStyle(ctx, options)) {\n    applyLabelDecoration(ctx, {x, y}, labels, fonts);\n  }\n  applyLabelContent(ctx, {x, y}, labels, {fonts, colors});\n  ctx.restore();\n}\n\nfunction setTextStrokeStyle(ctx, options) {\n  if (options.textStrokeWidth > 0) {\n    // https://stackoverflow.com/questions/13627111/drawing-text-with-an-outer-stroke-with-html5s-canvas\n    ctx.lineJoin = 'round';\n    ctx.miterLimit = 2;\n    ctx.lineWidth = options.textStrokeWidth;\n    ctx.strokeStyle = options.textStrokeColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{radius: number, options: PointAnnotationOptions}} element\n * @param {number} x\n * @param {number} y\n */\nfunction drawPoint(ctx, element, x, y) {\n  const {radius, options} = element;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (isImageOrCanvas(style)) {\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(rad);\n    ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n    ctx.restore();\n    return;\n  }\n  if (notRadius(radius)) {\n    return;\n  }\n  drawPointStyle(ctx, {x, y, radius, rotation, style, rad});\n}\n\nfunction drawPointStyle(ctx, {x, y, radius, rotation, style, rad}) {\n  let xOffset, yOffset, size, cornerRadius;\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n\n  ctx.fill();\n}\n\nfunction calculateLabelSize(ctx, lines, fonts, strokeWidth) {\n  ctx.save();\n  const count = lines.length;\n  let width = 0;\n  let height = strokeWidth;\n  for (let i = 0; i < count; i++) {\n    const font = fonts[Math.min(i, fonts.length - 1)];\n    ctx.font = font.string;\n    const text = lines[i];\n    width = Math.max(width, ctx.measureText(text).width + strokeWidth);\n    height += font.lineHeight;\n  }\n  ctx.restore();\n  return {width, height};\n}\n\nfunction applyLabelDecoration(ctx, {x, y}, labels, fonts) {\n  ctx.beginPath();\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.font = f.string;\n    ctx.strokeText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n  });\n  ctx.stroke();\n}\n\nfunction applyLabelContent(ctx, {x, y}, labels, {fonts, colors}) {\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const c = colors[Math.min(i, colors.length - 1)];\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.beginPath();\n    ctx.font = f.string;\n    ctx.fillStyle = c;\n    ctx.fillText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n    ctx.fill();\n  });\n}\n\nfunction getOpacity(value, elementValue) {\n  const opacity = isNumber(value) ? value : elementValue;\n  return isNumber(opacity) ? clamp(opacity, 0, 1) : 1;\n}\n\nconst limitedLineScale = {\n  xScaleID: {min: 'xMin', max: 'xMax', start: 'left', end: 'right', startProp: 'x', endProp: 'x2'},\n  yScaleID: {min: 'yMin', max: 'yMax', start: 'bottom', end: 'top', startProp: 'y', endProp: 'y2'}\n};\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import(\"chart.js\").Point } Point\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n * @typedef { import('../../types/options').LineAnnotationOptions } LineAnnotationOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n * @typedef { import('../../types/options').PolygonAnnotationOptions } PolygonAnnotationOptions\n */\n\n/**\n * @param {Scale} scale\n * @param {number|string} value\n * @param {number} fallback\n * @returns {number}\n */\nfunction scaleValue(scale, value, fallback) {\n  value = typeof value === 'number' ? value : scale.parse(value);\n  return isFinite(value) ? scale.getPixelForValue(value) : fallback;\n}\n\n/**\n * Search the scale defined in chartjs by the axis related to the annotation options key.\n * @param {{ [key: string]: Scale }} scales\n * @param {CoreAnnotationOptions} options\n * @param {string} key\n * @returns {string}\n */\nfunction retrieveScaleID(scales, options, key) {\n  const scaleID = options[key];\n  if (scaleID || key === 'scaleID') {\n    return scaleID;\n  }\n  const axis = key.charAt(0);\n  const axes = Object.values(scales).filter((scale) => scale.axis && scale.axis === axis);\n  if (axes.length) {\n    return axes[0].id;\n  }\n  return axis;\n}\n\n/**\n * @param {Scale} scale\n * @param {{min: number, max: number, start: number, end: number}} options\n * @returns {{start: number, end: number}|undefined}\n */\nfunction getDimensionByScale(scale, options) {\n  if (scale) {\n    const reverse = scale.options.reverse;\n    const start = scaleValue(scale, options.min, reverse ? options.end : options.start);\n    const end = scaleValue(scale, options.max, reverse ? options.start : options.end);\n    return {\n      start,\n      end\n    };\n  }\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {Point}\n */\nfunction getChartPoint(chart, options) {\n  const {chartArea, scales} = chart;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n  let x = chartArea.width / 2;\n  let y = chartArea.height / 2;\n\n  if (xScale) {\n    x = scaleValue(xScale, options.xValue, xScale.left + xScale.width / 2);\n  }\n\n  if (yScale) {\n    y = scaleValue(yScale, options.yValue, yScale.top + yScale.height / 2);\n  }\n  return {x, y};\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxProperties(chart, options) {\n  const scales = chart.scales;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n\n  if (!xScale && !yScale) {\n    return {};\n  }\n\n  let {left: x, right: x2} = xScale || chart.chartArea;\n  let {top: y, bottom: y2} = yScale || chart.chartArea;\n  const xDim = getChartDimensionByScale(xScale, {min: options.xMin, max: options.xMax, start: x, end: x2});\n  x = xDim.start;\n  x2 = xDim.end;\n  const yDim = getChartDimensionByScale(yScale, {min: options.yMin, max: options.yMax, start: y2, end: y});\n  y = yDim.start;\n  y2 = yDim.end;\n\n  return {\n    x,\n    y,\n    x2,\n    y2,\n    width: x2 - x,\n    height: y2 - y,\n    centerX: x + (x2 - x) / 2,\n    centerY: y + (y2 - y) / 2\n  };\n}\n\n/**\n * @param {Chart} chart\n * @param {PointAnnotationOptions|PolygonAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolvePointProperties(chart, options) {\n  if (!isBoundToPoint(options)) {\n    const box = resolveBoxProperties(chart, options);\n    let radius = options.radius;\n    if (!radius || isNaN(radius)) {\n      radius = Math.min(box.width, box.height) / 2;\n      options.radius = radius;\n    }\n    const size = radius * 2;\n    const adjustCenterX = box.centerX + options.xAdjust;\n    const adjustCenterY = box.centerY + options.yAdjust;\n    return {\n      x: adjustCenterX - radius,\n      y: adjustCenterY - radius,\n      x2: adjustCenterX + radius,\n      y2: adjustCenterY + radius,\n      centerX: adjustCenterX,\n      centerY: adjustCenterY,\n      width: size,\n      height: size,\n      radius\n    };\n  }\n  return getChartCircle(chart, options);\n}\n/**\n * @param {Chart} chart\n * @param {LineAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveLineProperties(chart, options) {\n  const {scales, chartArea} = chart;\n  const scale = scales[options.scaleID];\n  const area = {x: chartArea.left, y: chartArea.top, x2: chartArea.right, y2: chartArea.bottom};\n\n  if (scale) {\n    resolveFullLineProperties(scale, area, options);\n  } else {\n    resolveLimitedLineProperties(scales, area, options);\n  }\n  return area;\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @param {boolean} [centerBased=false]\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxAndLabelProperties(chart, options) {\n  const properties = resolveBoxProperties(chart, options);\n  properties.initProperties = initAnimationProperties(chart, properties, options);\n  properties.elements = [{\n    type: 'label',\n    optionScope: 'label',\n    properties: resolveLabelElementProperties$1(chart, properties, options),\n    initProperties: properties.initProperties\n  }];\n  return properties;\n}\n\nfunction getChartCircle(chart, options) {\n  const point = getChartPoint(chart, options);\n  const size = options.radius * 2;\n  return {\n    x: point.x - options.radius + options.xAdjust,\n    y: point.y - options.radius + options.yAdjust,\n    x2: point.x + options.radius + options.xAdjust,\n    y2: point.y + options.radius + options.yAdjust,\n    centerX: point.x + options.xAdjust,\n    centerY: point.y + options.yAdjust,\n    radius: options.radius,\n    width: size,\n    height: size\n  };\n}\n\nfunction getChartDimensionByScale(scale, options) {\n  const result = getDimensionByScale(scale, options) || options;\n  return {\n    start: Math.min(result.start, result.end),\n    end: Math.max(result.start, result.end)\n  };\n}\n\nfunction resolveFullLineProperties(scale, area, options) {\n  const min = scaleValue(scale, options.value, NaN);\n  const max = scaleValue(scale, options.endValue, min);\n  if (scale.isHorizontal()) {\n    area.x = min;\n    area.x2 = max;\n  } else {\n    area.y = min;\n    area.y2 = max;\n  }\n}\n\nfunction resolveLimitedLineProperties(scales, area, options) {\n  for (const scaleId of Object.keys(limitedLineScale)) {\n    const scale = scales[retrieveScaleID(scales, options, scaleId)];\n    if (scale) {\n      const {min, max, start, end, startProp, endProp} = limitedLineScale[scaleId];\n      const dim = getDimensionByScale(scale, {min: options[min], max: options[max], start: scale[start], end: scale[end]});\n      area[startProp] = dim.start;\n      area[endProp] = dim.end;\n    }\n  }\n}\n\nfunction calculateX({properties, options}, labelSize, position, padding) {\n  const {x: start, x2: end, width: size} = properties;\n  return calculatePosition$1({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.x,\n    padding: {start: padding.left, end: padding.right},\n    adjust: options.label.xAdjust,\n    size: labelSize.width\n  });\n}\n\nfunction calculateY({properties, options}, labelSize, position, padding) {\n  const {y: start, y2: end, height: size} = properties;\n  return calculatePosition$1({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.y,\n    padding: {start: padding.top, end: padding.bottom},\n    adjust: options.label.yAdjust,\n    size: labelSize.height\n  });\n}\n\nfunction calculatePosition$1(boxOpts, labelOpts) {\n  const {start, end, borderWidth} = boxOpts;\n  const {position, padding: {start: padStart, end: padEnd}, adjust} = labelOpts;\n  const availableSize = end - borderWidth - start - padStart - padEnd - labelOpts.size;\n  return start + borderWidth / 2 + adjust + getRelativePosition(availableSize, position);\n}\n\nfunction resolveLabelElementProperties$1(chart, properties, options) {\n  const label = options.label;\n  label.backgroundColor = 'transparent';\n  label.callout.display = false;\n  const position = toPosition(label.position);\n  const padding = toPadding(label.padding);\n  const labelSize = measureLabelSize(chart.ctx, label);\n  const x = calculateX({properties, options}, labelSize, position, padding);\n  const y = calculateY({properties, options}, labelSize, position, padding);\n  const width = labelSize.width + padding.width;\n  const height = labelSize.height + padding.height;\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2,\n    rotation: label.rotation\n  };\n\n}\n\n/**\n * @typedef {import('chart.js').Point} Point\n */\n\n/**\n * Rotate a `point` relative to `center` point by `angle`\n * @param {Point} point - the point to rotate\n * @param {Point} center - center point for rotation\n * @param {number} angle - angle for rotation, in radians\n * @returns {Point} rotated point\n */\nfunction rotated(point, center, angle) {\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  const cx = center.x;\n  const cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nconst moveHooks = ['enter', 'leave'];\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\nconst eventHooks = moveHooks.concat('click');\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateListeners(chart, state, options) {\n  state.listened = loadHooks(options, eventHooks, state.listeners);\n  state.moveListened = false;\n  state._getElements = getElements; // for testing\n\n  moveHooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      state.moveListened = true;\n    }\n  });\n\n  if (!state.listened || !state.moveListened) {\n    state.annotations.forEach(scope => {\n      if (!state.listened && isFunction(scope.click)) {\n        state.listened = true;\n      }\n      if (!state.moveListened) {\n        moveHooks.forEach(hook => {\n          if (isFunction(scope[hook])) {\n            state.listened = true;\n            state.moveListened = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {ChartEvent} event\n * @param {AnnotationPluginOptions} options\n * @return {boolean|undefined}\n */\nfunction handleEvent(state, event, options) {\n  if (state.listened) {\n    switch (event.type) {\n    case 'mousemove':\n    case 'mouseout':\n      return handleMoveEvents(state, event, options);\n    case 'click':\n      return handleClickEvents(state, event, options);\n    }\n  }\n}\n\nfunction handleMoveEvents(state, event, options) {\n  if (!state.moveListened) {\n    return;\n  }\n\n  let elements;\n\n  if (event.type === 'mousemove') {\n    elements = getElements(state, event, options.interaction);\n  } else {\n    elements = [];\n  }\n\n  const previous = state.hovered;\n  state.hovered = elements;\n\n  const context = {state, event};\n  let changed = dispatchMoveEvents(context, 'leave', previous, elements);\n  return dispatchMoveEvents(context, 'enter', elements, previous) || changed;\n}\n\nfunction dispatchMoveEvents({state, event}, hook, elements, checkElements) {\n  let changed;\n  for (const element of elements) {\n    if (checkElements.indexOf(element) < 0) {\n      changed = dispatchEvent(element.options[hook] || state.listeners[hook], element, event) || changed;\n    }\n  }\n  return changed;\n}\n\nfunction handleClickEvents(state, event, options) {\n  const listeners = state.listeners;\n  const elements = getElements(state, event, options.interaction);\n  let changed;\n  for (const element of elements) {\n    changed = dispatchEvent(element.options.click || listeners.click, element, event) || changed;\n  }\n  return changed;\n}\n\nfunction dispatchEvent(handler, element, event) {\n  return callback(handler, [element.$context, event]) === true;\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst elementHooks = ['afterDraw', 'beforeDraw'];\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateHooks(chart, state, options) {\n  const visibleElements = state.visibleElements;\n  state.hooked = loadHooks(options, elementHooks, state.hooks);\n\n  if (!state.hooked) {\n    visibleElements.forEach(scope => {\n      if (!state.hooked) {\n        elementHooks.forEach(hook => {\n          if (isFunction(scope.options[hook])) {\n            state.hooked = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {AnnotationElement} element\n * @param {string} hook\n */\nfunction invokeHook(state, element, hook) {\n  if (state.hooked) {\n    const callbackHook = element.options[hook] || state.hooks[hook];\n    return callback(callbackHook, [element.$context]);\n  }\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n */\n\n/**\n * @param {Chart} chart\n * @param {Scale} scale\n * @param {CoreAnnotationOptions[]} annotations\n */\nfunction adjustScaleRange(chart, scale, annotations) {\n  const range = getScaleLimits(chart.scales, scale, annotations);\n  let changed = changeScaleLimit(scale, range, 'min', 'suggestedMin');\n  changed = changeScaleLimit(scale, range, 'max', 'suggestedMax') || changed;\n  if (changed && isFunction(scale.handleTickRangeOptions)) {\n    scale.handleTickRangeOptions();\n  }\n}\n\n/**\n * @param {CoreAnnotationOptions[]} annotations\n * @param {{ [key: string]: Scale }} scales\n */\nfunction verifyScaleOptions(annotations, scales) {\n  for (const annotation of annotations) {\n    verifyScaleIDs(annotation, scales);\n  }\n}\n\nfunction changeScaleLimit(scale, range, limit, suggestedLimit) {\n  if (isFinite(range[limit]) && !scaleLimitDefined(scale.options, limit, suggestedLimit)) {\n    const changed = scale[limit] !== range[limit];\n    scale[limit] = range[limit];\n    return changed;\n  }\n}\n\nfunction scaleLimitDefined(scaleOptions, limit, suggestedLimit) {\n  return defined(scaleOptions[limit]) || defined(scaleOptions[suggestedLimit]);\n}\n\nfunction verifyScaleIDs(annotation, scales) {\n  for (const key of ['scaleID', 'xScaleID', 'yScaleID']) {\n    const scaleID = retrieveScaleID(scales, annotation, key);\n    if (scaleID && !scales[scaleID] && verifyProperties(annotation, key)) {\n      console.warn(`No scale found with id '${scaleID}' for annotation '${annotation.id}'`);\n    }\n  }\n}\n\nfunction verifyProperties(annotation, key) {\n  if (key === 'scaleID') {\n    return true;\n  }\n  const axis = key.charAt(0);\n  for (const prop of ['Min', 'Max', 'Value']) {\n    if (defined(annotation[axis + prop])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getScaleLimits(scales, scale, annotations) {\n  const axis = scale.axis;\n  const scaleID = scale.id;\n  const scaleIDOption = axis + 'ScaleID';\n  const limits = {\n    min: valueOrDefault(scale.min, Number.NEGATIVE_INFINITY),\n    max: valueOrDefault(scale.max, Number.POSITIVE_INFINITY)\n  };\n  for (const annotation of annotations) {\n    if (annotation.scaleID === scaleID) {\n      updateLimits(annotation, scale, ['value', 'endValue'], limits);\n    } else if (retrieveScaleID(scales, annotation, scaleIDOption) === scaleID) {\n      updateLimits(annotation, scale, [axis + 'Min', axis + 'Max', axis + 'Value'], limits);\n    }\n  }\n  return limits;\n}\n\nfunction updateLimits(annotation, scale, props, limits) {\n  for (const prop of props) {\n    const raw = annotation[prop];\n    if (defined(raw)) {\n      const value = scale.parse(raw);\n      limits.min = Math.min(limits.min, value);\n      limits.max = Math.max(limits.max, value);\n    }\n  }\n}\n\nclass BoxAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y} = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    return inBoxRange({x, y}, this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis, this.options.borderWidth);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.options.rotation);\n    drawBox(ctx, this, this.options);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n}\n\nBoxAnnotation.id = 'boxAnnotation';\n\nBoxAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  label: {\n    backgroundColor: 'transparent',\n    borderWidth: 0,\n    callout: {\n      display: false\n    },\n    color: 'black',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: undefined,\n    textAlign: 'start',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nBoxAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nBoxAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nconst positions = ['left', 'bottom', 'top', 'right'];\n\nclass LabelAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y} = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.rotation));\n    return inBoxRange({x, y}, this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis, this.options.borderWidth);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const visible = !defined(this._visible) || this._visible;\n    if (!options.display || !options.content || !visible) {\n      return;\n    }\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.rotation);\n    drawCallout(ctx, this);\n    drawBox(ctx, this, options);\n    drawLabel(ctx, getLabelSize(this), options);\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    let point;\n    if (!isBoundToPoint(options)) {\n      const {centerX, centerY} = resolveBoxProperties(chart, options);\n      point = {x: centerX, y: centerY};\n    } else {\n      point = getChartPoint(chart, options);\n    }\n    const padding = toPadding(options.padding);\n    const labelSize = measureLabelSize(chart.ctx, options);\n    const boxSize = measureRect(point, labelSize, options, padding);\n    return {\n      initProperties: initAnimationProperties(chart, boxSize, options),\n      pointX: point.x,\n      pointY: point.y,\n      ...boxSize,\n      rotation: options.rotation\n    };\n  }\n}\n\nLabelAnnotation.id = 'labelAnnotation';\n\nLabelAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundColor: 'transparent',\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 0,\n  callout: {\n    borderCapStyle: 'butt',\n    borderColor: undefined,\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 1,\n    display: false,\n    margin: 5,\n    position: 'auto',\n    side: 5,\n    start: '50%',\n  },\n  color: 'black',\n  content: null,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: undefined,\n    size: undefined,\n    style: undefined,\n    weight: undefined\n  },\n  height: undefined,\n  init: undefined,\n  opacity: undefined,\n  padding: 6,\n  position: 'center',\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  textAlign: 'center',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  width: undefined,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nLabelAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction measureRect(point, size, options, padding) {\n  const width = size.width + padding.width + options.borderWidth;\n  const height = size.height + padding.height + options.borderWidth;\n  const position = toPosition(options.position, 'center');\n  const x = calculatePosition(point.x, width, options.xAdjust, position.x);\n  const y = calculatePosition(point.y, height, options.yAdjust, position.y);\n\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2\n  };\n}\n\nfunction calculatePosition(start, size, adjust = 0, position) {\n  return start - getRelativePosition(size, position) + adjust;\n}\n\nfunction drawCallout(ctx, element) {\n  const {pointX, pointY, options} = element;\n  const callout = options.callout;\n  const calloutPosition = callout && callout.display && resolveCalloutPosition(element, callout);\n  if (!calloutPosition || isPointInRange(element, callout, calloutPosition)) {\n    return;\n  }\n\n  ctx.save();\n  ctx.beginPath();\n  const stroke = setBorderStyle(ctx, callout);\n  if (!stroke) {\n    return ctx.restore();\n  }\n  const {separatorStart, separatorEnd} = getCalloutSeparatorCoord(element, calloutPosition);\n  const {sideStart, sideEnd} = getCalloutSideCoord(element, calloutPosition, separatorStart);\n  if (callout.margin > 0 || options.borderWidth === 0) {\n    ctx.moveTo(separatorStart.x, separatorStart.y);\n    ctx.lineTo(separatorEnd.x, separatorEnd.y);\n  }\n  ctx.moveTo(sideStart.x, sideStart.y);\n  ctx.lineTo(sideEnd.x, sideEnd.y);\n  const rotatedPoint = rotated({x: pointX, y: pointY}, element.getCenterPoint(), toRadians(-element.rotation));\n  ctx.lineTo(rotatedPoint.x, rotatedPoint.y);\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction getCalloutSeparatorCoord(element, position) {\n  const {x, y, x2, y2} = element;\n  const adjust = getCalloutSeparatorAdjust(element, position);\n  let separatorStart, separatorEnd;\n  if (position === 'left' || position === 'right') {\n    separatorStart = {x: x + adjust, y};\n    separatorEnd = {x: separatorStart.x, y: y2};\n  } else {\n    //  position 'top' or 'bottom'\n    separatorStart = {x, y: y + adjust};\n    separatorEnd = {x: x2, y: separatorStart.y};\n  }\n  return {separatorStart, separatorEnd};\n}\n\nfunction getCalloutSeparatorAdjust(element, position) {\n  const {width, height, options} = element;\n  const adjust = options.callout.margin + options.borderWidth / 2;\n  if (position === 'right') {\n    return width + adjust;\n  } else if (position === 'bottom') {\n    return height + adjust;\n  }\n  return -adjust;\n}\n\nfunction getCalloutSideCoord(element, position, separatorStart) {\n  const {y, width, height, options} = element;\n  const start = options.callout.start;\n  const side = getCalloutSideAdjust(position, options.callout);\n  let sideStart, sideEnd;\n  if (position === 'left' || position === 'right') {\n    sideStart = {x: separatorStart.x, y: y + getSize(height, start)};\n    sideEnd = {x: sideStart.x + side, y: sideStart.y};\n  } else {\n    //  position 'top' or 'bottom'\n    sideStart = {x: separatorStart.x + getSize(width, start), y: separatorStart.y};\n    sideEnd = {x: sideStart.x, y: sideStart.y + side};\n  }\n  return {sideStart, sideEnd};\n}\n\nfunction getCalloutSideAdjust(position, options) {\n  const side = options.side;\n  if (position === 'left' || position === 'top') {\n    return -side;\n  }\n  return side;\n}\n\nfunction resolveCalloutPosition(element, options) {\n  const position = options.position;\n  if (positions.includes(position)) {\n    return position;\n  }\n  return resolveCalloutAutoPosition(element, options);\n}\n\nfunction resolveCalloutAutoPosition(element, options) {\n  const {x, y, x2, y2, width, height, pointX, pointY, centerX, centerY, rotation} = element;\n  const center = {x: centerX, y: centerY};\n  const start = options.start;\n  const xAdjust = getSize(width, start);\n  const yAdjust = getSize(height, start);\n  const xPoints = [x, x + xAdjust, x + xAdjust, x2];\n  const yPoints = [y + yAdjust, y2, y, y2];\n  const result = [];\n  for (let index = 0; index < 4; index++) {\n    const rotatedPoint = rotated({x: xPoints[index], y: yPoints[index]}, center, toRadians(rotation));\n    result.push({\n      position: positions[index],\n      distance: distanceBetweenPoints(rotatedPoint, {x: pointX, y: pointY})\n    });\n  }\n  return result.sort((a, b) => a.distance - b.distance)[0].position;\n}\n\nfunction getLabelSize({x, y, width, height, options}) {\n  const hBorderWidth = options.borderWidth / 2;\n  const padding = toPadding(options.padding);\n  return {\n    x: x + padding.left + hBorderWidth,\n    y: y + padding.top + hBorderWidth,\n    width: width - padding.left - padding.right - options.borderWidth,\n    height: height - padding.top - padding.bottom - options.borderWidth\n  };\n}\n\nfunction isPointInRange(element, callout, position) {\n  const {pointX, pointY} = element;\n  const margin = callout.margin;\n  let x = pointX;\n  let y = pointY;\n  if (position === 'left') {\n    x += margin;\n  } else if (position === 'right') {\n    x -= margin;\n  } else if (position === 'top') {\n    y += margin;\n  } else if (position === 'bottom') {\n    y -= margin;\n  }\n  return element.inRange(x, y);\n}\n\nconst pointInLine = (p1, p2, t) => ({x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y)});\nconst interpolateX = (y, p1, p2) => pointInLine(p1, p2, Math.abs((y - p1.y) / (p2.y - p1.y))).x;\nconst interpolateY = (x, p1, p2) => pointInLine(p1, p2, Math.abs((x - p1.x) / (p2.x - p1.x))).y;\nconst sqr = v => v * v;\nconst rangeLimit = (mouseX, mouseY, {x, y, x2, y2}, axis) => axis === 'y' ? {start: Math.min(y, y2), end: Math.max(y, y2), value: mouseY} : {start: Math.min(x, x2), end: Math.max(x, x2), value: mouseX};\n// http://www.independent-software.com/determining-coordinates-on-a-html-canvas-bezier-curve.html\nconst coordInCurve = (start, cp, end, t) => (1 - t) * (1 - t) * start + 2 * (1 - t) * t * cp + t * t * end;\nconst pointInCurve = (start, cp, end, t) => ({x: coordInCurve(start.x, cp.x, end.x, t), y: coordInCurve(start.y, cp.y, end.y, t)});\nconst coordAngleInCurve = (start, cp, end, t) => 2 * (1 - t) * (cp - start) + 2 * t * (end - cp);\nconst angleInCurve = (start, cp, end, t) => -Math.atan2(coordAngleInCurve(start.x, cp.x, end.x, t), coordAngleInCurve(start.y, cp.y, end.y, t)) + 0.5 * PI;\n\nclass LineAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const hBorderWidth = this.options.borderWidth / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      const point = {mouseX, mouseY};\n      const {path, ctx} = this;\n      if (path) {\n        setBorderStyle(ctx, this.options);\n        const {chart} = this.$context;\n        const mx = mouseX * chart.currentDevicePixelRatio;\n        const my = mouseY * chart.currentDevicePixelRatio;\n        const result = ctx.isPointInStroke(path, mx, my) || isOnLabel(this, point, useFinalPosition);\n        ctx.restore();\n        return result;\n      }\n      const epsilon = sqr(hBorderWidth);\n      return intersects(this, point, epsilon, useFinalPosition) || isOnLabel(this, point, useFinalPosition);\n    }\n    return inAxisRange(this, {mouseX, mouseY}, axis, {hBorderWidth, useFinalPosition});\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {x, y, x2, y2, cp, options} = this;\n\n    ctx.save();\n    if (!setBorderStyle(ctx, options)) {\n      // no border width, then line is not drawn\n      return ctx.restore();\n    }\n    setShadowStyle(ctx, options);\n\n    const length = Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2));\n    if (options.curve && cp) {\n      drawCurve(ctx, this, cp, length);\n      return ctx.restore();\n    }\n    const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(this);\n    const angle = Math.atan2(y2 - y, x2 - x);\n    ctx.translate(x, y);\n    ctx.rotate(angle);\n    ctx.beginPath();\n    ctx.moveTo(0 + startAdjust, 0);\n    ctx.lineTo(length - endAdjust, 0);\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n    drawArrowHead(ctx, 0, startAdjust, startOpts);\n    drawArrowHead(ctx, length, -endAdjust, endOpts);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    const area = resolveLineProperties(chart, options);\n    const {x, y, x2, y2} = area;\n    const inside = isLineInArea(area, chart.chartArea);\n    const properties = inside\n      ? limitLineToArea({x, y}, {x: x2, y: y2}, chart.chartArea)\n      : {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n    properties.centerX = (x2 + x) / 2;\n    properties.centerY = (y2 + y) / 2;\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    if (options.curve) {\n      const p1 = {x: properties.x, y: properties.y};\n      const p2 = {x: properties.x2, y: properties.y2};\n      properties.cp = getControlPoint(properties, options, distanceBetweenPoints(p1, p2));\n    }\n    const labelProperties = resolveLabelElementProperties(chart, properties, options.label);\n    // additonal prop to manage zoom/pan\n    labelProperties._visible = inside;\n\n    properties.elements = [{\n      type: 'label',\n      optionScope: 'label',\n      properties: labelProperties,\n      initProperties: properties.initProperties\n    }];\n    return properties;\n  }\n}\n\nLineAnnotation.id = 'lineAnnotation';\n\nconst arrowHeadsDefaults = {\n  backgroundColor: undefined,\n  backgroundShadowColor: undefined,\n  borderColor: undefined,\n  borderDash: undefined,\n  borderDashOffset: undefined,\n  borderShadowColor: undefined,\n  borderWidth: undefined,\n  display: undefined,\n  fill: undefined,\n  length: undefined,\n  shadowBlur: undefined,\n  shadowOffsetX: undefined,\n  shadowOffsetY: undefined,\n  width: undefined\n};\n\nLineAnnotation.defaults = {\n  adjustScaleRange: true,\n  arrowHeads: {\n    display: false,\n    end: Object.assign({}, arrowHeadsDefaults),\n    fill: false,\n    length: 12,\n    start: Object.assign({}, arrowHeadsDefaults),\n    width: 6\n  },\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 2,\n  curve: false,\n  controlPoint: {\n    y: '-50%'\n  },\n  display: true,\n  endValue: undefined,\n  init: undefined,\n  label: {\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    backgroundShadowColor: 'transparent',\n    borderCapStyle: 'butt',\n    borderColor: 'black',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderRadius: 6,\n    borderShadowColor: 'transparent',\n    borderWidth: 0,\n    callout: Object.assign({}, LabelAnnotation.defaults.callout),\n    color: '#fff',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: 0,\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    textAlign: 'center',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  scaleID: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  value: undefined,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nLineAnnotation.descriptors = {\n  arrowHeads: {\n    start: {\n      _fallback: true\n    },\n    end: {\n      _fallback: true\n    },\n    _fallback: true\n  }\n};\n\nLineAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction inAxisRange(element, {mouseX, mouseY}, axis, {hBorderWidth, useFinalPosition}) {\n  const limit = rangeLimit(mouseX, mouseY, element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis);\n  return (limit.value >= limit.start - hBorderWidth && limit.value <= limit.end + hBorderWidth) || isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis);\n}\n\nfunction isLineInArea({x, y, x2, y2}, {top, right, bottom, left}) {\n  return !(\n    (x < left && x2 < left) ||\n    (x > right && x2 > right) ||\n    (y < top && y2 < top) ||\n    (y > bottom && y2 > bottom)\n  );\n}\n\nfunction limitPointToArea({x, y}, p2, {top, right, bottom, left}) {\n  if (x < left) {\n    y = interpolateY(left, {x, y}, p2);\n    x = left;\n  }\n  if (x > right) {\n    y = interpolateY(right, {x, y}, p2);\n    x = right;\n  }\n  if (y < top) {\n    x = interpolateX(top, {x, y}, p2);\n    y = top;\n  }\n  if (y > bottom) {\n    x = interpolateX(bottom, {x, y}, p2);\n    y = bottom;\n  }\n  return {x, y};\n}\n\nfunction limitLineToArea(p1, p2, area) {\n  const {x, y} = limitPointToArea(p1, p2, area);\n  const {x: x2, y: y2} = limitPointToArea(p2, p1, area);\n  return {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n}\n\nfunction intersects(element, {mouseX, mouseY}, epsilon = EPSILON, useFinalPosition) {\n  // Adapted from https://stackoverflow.com/a/6853926/25507\n  const {x: x1, y: y1, x2, y2} = element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const lenSq = sqr(dx) + sqr(dy);\n  const t = lenSq === 0 ? -1 : ((mouseX - x1) * dx + (mouseY - y1) * dy) / lenSq;\n  let xx, yy;\n  if (t < 0) {\n    xx = x1;\n    yy = y1;\n  } else if (t > 1) {\n    xx = x2;\n    yy = y2;\n  } else {\n    xx = x1 + t * dx;\n    yy = y1 + t * dy;\n  }\n  return (sqr(mouseX - xx) + sqr(mouseY - yy)) <= epsilon;\n}\n\nfunction isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis) {\n  const label = element.label;\n  return label.options.display && label.inRange(mouseX, mouseY, axis, useFinalPosition);\n}\n\nfunction resolveLabelElementProperties(chart, properties, options) {\n  const borderWidth = options.borderWidth;\n  const padding = toPadding(options.padding);\n  const textSize = measureLabelSize(chart.ctx, options);\n  const width = textSize.width + padding.width + borderWidth;\n  const height = textSize.height + padding.height + borderWidth;\n  return calculateLabelPosition(properties, options, {width, height, padding}, chart.chartArea);\n}\n\nfunction calculateAutoRotation(properties) {\n  const {x, y, x2, y2} = properties;\n  const rotation = Math.atan2(y2 - y, x2 - x);\n  // Flip the rotation if it goes > PI/2 or < -PI/2, so label stays upright\n  return rotation > PI / 2 ? rotation - PI : rotation < PI / -2 ? rotation + PI : rotation;\n}\n\nfunction calculateLabelPosition(properties, label, sizes, chartArea) {\n  const {width, height, padding} = sizes;\n  const {xAdjust, yAdjust} = label;\n  const p1 = {x: properties.x, y: properties.y};\n  const p2 = {x: properties.x2, y: properties.y2};\n  const rotation = label.rotation === 'auto' ? calculateAutoRotation(properties) : toRadians(label.rotation);\n  const size = rotatedSize(width, height, rotation);\n  const t = calculateT(properties, label, {labelSize: size, padding}, chartArea);\n  const pt = properties.cp ? pointInCurve(p1, properties.cp, p2, t) : pointInLine(p1, p2, t);\n  const xCoordinateSizes = {size: size.w, min: chartArea.left, max: chartArea.right, padding: padding.left};\n  const yCoordinateSizes = {size: size.h, min: chartArea.top, max: chartArea.bottom, padding: padding.top};\n  const centerX = adjustLabelCoordinate(pt.x, xCoordinateSizes) + xAdjust;\n  const centerY = adjustLabelCoordinate(pt.y, yCoordinateSizes) + yAdjust;\n  return {\n    x: centerX - (width / 2),\n    y: centerY - (height / 2),\n    x2: centerX + (width / 2),\n    y2: centerY + (height / 2),\n    centerX,\n    centerY,\n    pointX: pt.x,\n    pointY: pt.y,\n    width,\n    height,\n    rotation: toDegrees(rotation)\n  };\n}\n\nfunction rotatedSize(width, height, rotation) {\n  const cos = Math.cos(rotation);\n  const sin = Math.sin(rotation);\n  return {\n    w: Math.abs(width * cos) + Math.abs(height * sin),\n    h: Math.abs(width * sin) + Math.abs(height * cos)\n  };\n}\n\nfunction calculateT(properties, label, sizes, chartArea) {\n  let t;\n  const space = spaceAround(properties, chartArea);\n  if (label.position === 'start') {\n    t = calculateTAdjust({w: properties.x2 - properties.x, h: properties.y2 - properties.y}, sizes, label, space);\n  } else if (label.position === 'end') {\n    t = 1 - calculateTAdjust({w: properties.x - properties.x2, h: properties.y - properties.y2}, sizes, label, space);\n  } else {\n    t = getRelativePosition(1, label.position);\n  }\n  return t;\n}\n\nfunction calculateTAdjust(lineSize, sizes, label, space) {\n  const {labelSize, padding} = sizes;\n  const lineW = lineSize.w * space.dx;\n  const lineH = lineSize.h * space.dy;\n  const x = (lineW > 0) && ((labelSize.w / 2 + padding.left - space.x) / lineW);\n  const y = (lineH > 0) && ((labelSize.h / 2 + padding.top - space.y) / lineH);\n  return clamp(Math.max(x, y), 0, 0.25);\n}\n\nfunction spaceAround(properties, chartArea) {\n  const {x, x2, y, y2} = properties;\n  const t = Math.min(y, y2) - chartArea.top;\n  const l = Math.min(x, x2) - chartArea.left;\n  const b = chartArea.bottom - Math.max(y, y2);\n  const r = chartArea.right - Math.max(x, x2);\n  return {\n    x: Math.min(l, r),\n    y: Math.min(t, b),\n    dx: l <= r ? 1 : -1,\n    dy: t <= b ? 1 : -1\n  };\n}\n\nfunction adjustLabelCoordinate(coordinate, labelSizes) {\n  const {size, min, max, padding} = labelSizes;\n  const halfSize = size / 2;\n  if (size > max - min) {\n    // if it does not fit, display as much as possible\n    return (max + min) / 2;\n  }\n  if (min >= (coordinate - padding - halfSize)) {\n    coordinate = min + padding + halfSize;\n  }\n  if (max <= (coordinate + padding + halfSize)) {\n    coordinate = max - padding - halfSize;\n  }\n  return coordinate;\n}\n\nfunction getArrowHeads(line) {\n  const options = line.options;\n  const arrowStartOpts = options.arrowHeads && options.arrowHeads.start;\n  const arrowEndOpts = options.arrowHeads && options.arrowHeads.end;\n  return {\n    startOpts: arrowStartOpts,\n    endOpts: arrowEndOpts,\n    startAdjust: getLineAdjust(line, arrowStartOpts),\n    endAdjust: getLineAdjust(line, arrowEndOpts)\n  };\n}\n\nfunction getLineAdjust(line, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return 0;\n  }\n  const {length, width} = arrowOpts;\n  const adjust = line.options.borderWidth / 2;\n  const p1 = {x: length, y: width + adjust};\n  const p2 = {x: 0, y: adjust};\n  return Math.abs(interpolateX(0, p1, p2));\n}\n\nfunction drawArrowHead(ctx, offset, adjust, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  const {length, width, fill, backgroundColor, borderColor} = arrowOpts;\n  const arrowOffsetX = Math.abs(offset - length) + adjust;\n  ctx.beginPath();\n  setShadowStyle(ctx, arrowOpts);\n  setBorderStyle(ctx, arrowOpts);\n  ctx.moveTo(arrowOffsetX, -width);\n  ctx.lineTo(offset + adjust, 0);\n  ctx.lineTo(arrowOffsetX, width);\n  if (fill === true) {\n    ctx.fillStyle = backgroundColor || borderColor;\n    ctx.closePath();\n    ctx.fill();\n    ctx.shadowColor = 'transparent';\n  } else {\n    ctx.shadowColor = arrowOpts.borderShadowColor;\n  }\n  ctx.stroke();\n}\n\nfunction getControlPoint(properties, options, distance) {\n  const {x, y, x2, y2, centerX, centerY} = properties;\n  const angle = Math.atan2(y2 - y, x2 - x);\n  const cp = toPosition(options.controlPoint, 0);\n  const point = {\n    x: centerX + getSize(distance, cp.x, false),\n    y: centerY + getSize(distance, cp.y, false)\n  };\n  return rotated(point, {x: centerX, y: centerY}, angle);\n}\n\nfunction drawArrowHeadOnCurve(ctx, {x, y}, {angle, adjust}, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.rotate(angle);\n  drawArrowHead(ctx, 0, -adjust, arrowOpts);\n  ctx.restore();\n}\n\nfunction drawCurve(ctx, element, cp, length) {\n  const {x, y, x2, y2, options} = element;\n  const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(element);\n  const p1 = {x, y};\n  const p2 = {x: x2, y: y2};\n  const startAngle = angleInCurve(p1, cp, p2, 0);\n  const endAngle = angleInCurve(p1, cp, p2, 1) - PI;\n  const ps = pointInCurve(p1, cp, p2, startAdjust / length);\n  const pe = pointInCurve(p1, cp, p2, 1 - endAdjust / length);\n\n  const path = new Path2D();\n  ctx.beginPath();\n  path.moveTo(ps.x, ps.y);\n  path.quadraticCurveTo(cp.x, cp.y, pe.x, pe.y);\n  ctx.shadowColor = options.borderShadowColor;\n  ctx.stroke(path);\n  element.path = path;\n  element.ctx = ctx;\n  drawArrowHeadOnCurve(ctx, ps, {angle: startAngle, adjust: startAdjust}, startOpts);\n  drawArrowHeadOnCurve(ctx, pe, {angle: endAngle, adjust: endAdjust}, endOpts);\n}\n\nclass EllipseAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const rotation = this.options.rotation;\n    const borderWidth = this.options.borderWidth;\n    if (axis !== 'x' && axis !== 'y') {\n      return pointInEllipse({x: mouseX, y: mouseY}, this.getProps(['width', 'height', 'centerX', 'centerY'], useFinalPosition), rotation, borderWidth);\n    }\n    const {x, y, x2, y2} = this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n    const hBorderWidth = borderWidth / 2;\n    const limit = axis === 'y' ? {start: y, end: y2} : {start: x, end: x2};\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-rotation));\n    return rotatedPoint[axis] >= limit.start - hBorderWidth - EPSILON && rotatedPoint[axis] <= limit.end + hBorderWidth + EPSILON;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {width, height, centerX, centerY, options} = this;\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), options.rotation);\n    setShadowStyle(ctx, this.options);\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    const stroke = setBorderStyle(ctx, options);\n    ctx.ellipse(centerX, centerY, height / 2, width / 2, PI / 2, 0, 2 * PI);\n    ctx.fill();\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n\n}\n\nEllipseAnnotation.id = 'ellipseAnnotation';\n\nEllipseAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  label: Object.assign({}, BoxAnnotation.defaults.label),\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nEllipseAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nEllipseAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nfunction pointInEllipse(p, ellipse, rotation, borderWidth) {\n  const {width, height, centerX, centerY} = ellipse;\n  const xRadius = width / 2;\n  const yRadius = height / 2;\n\n  if (xRadius <= 0 || yRadius <= 0) {\n    return false;\n  }\n  // https://stackoverflow.com/questions/7946187/point-and-ellipse-rotated-position-test-algorithm\n  const angle = toRadians(rotation || 0);\n  const hBorderWidth = borderWidth / 2 || 0;\n  const cosAngle = Math.cos(angle);\n  const sinAngle = Math.sin(angle);\n  const a = Math.pow(cosAngle * (p.x - centerX) + sinAngle * (p.y - centerY), 2);\n  const b = Math.pow(sinAngle * (p.x - centerX) - cosAngle * (p.y - centerY), 2);\n  return (a / Math.pow(xRadius + hBorderWidth, 2)) + (b / Math.pow(yRadius + hBorderWidth, 2)) <= 1.0001;\n}\n\nclass PointAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y, x2, y2, width} = this.getProps(['x', 'y', 'x2', 'y2', 'width'], useFinalPosition);\n    const borderWidth = this.options.borderWidth;\n    if (axis !== 'x' && axis !== 'y') {\n      return inPointRange({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), width / 2, borderWidth);\n    }\n    const hBorderWidth = borderWidth / 2;\n    const limit = axis === 'y' ? {start: y, end: y2, value: mouseY} : {start: x, end: x2, value: mouseX};\n    return limit.value >= limit.start - hBorderWidth && limit.value <= limit.end + hBorderWidth;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const borderWidth = options.borderWidth;\n    if (options.radius < 0.1) {\n      return;\n    }\n    ctx.save();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    drawPoint(ctx, this, this.centerX, this.centerY);\n    if (stroke && !isImageOrCanvas(options.pointStyle)) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n    options.borderWidth = borderWidth;\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    return properties;\n  }\n}\n\nPointAnnotation.id = 'pointAnnotation';\n\nPointAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  pointStyle: 'circle',\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPointAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nclass PolygonAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    if (axis !== 'x' && axis !== 'y') {\n      return this.options.radius >= 0.1 && this.elements.length > 1 && pointIsInPolygon(this.elements, mouseX, mouseY, useFinalPosition);\n    }\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    const axisPoints = this.elements.map((point) => axis === 'y' ? point.bY : point.bX);\n    const start = Math.min(...axisPoints);\n    const end = Math.max(...axisPoints);\n    return rotatedPoint[axis] >= start && rotatedPoint[axis] <= end;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {elements, options} = this;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    let first = true;\n    for (const el of elements) {\n      if (first) {\n        ctx.moveTo(el.x, el.y);\n        first = false;\n      } else {\n        ctx.lineTo(el.x, el.y);\n      }\n    }\n    ctx.closePath();\n    ctx.fill();\n    // If no border, don't draw it\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    const {sides, rotation} = options;\n    const elements = [];\n    const angle = (2 * PI) / sides;\n    let rad = rotation * RAD_PER_DEG;\n    for (let i = 0; i < sides; i++, rad += angle) {\n      const elProps = buildPointElement(properties, options, rad);\n      elProps.initProperties = initAnimationProperties(chart, properties, options);\n      elements.push(elProps);\n    }\n    properties.elements = elements;\n    return properties;\n  }\n}\n\nPolygonAnnotation.id = 'polygonAnnotation';\n\nPolygonAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  point: {\n    radius: 0\n  },\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  sides: 3,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPolygonAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nfunction buildPointElement({centerX, centerY}, {radius, borderWidth}, rad) {\n  const halfBorder = borderWidth / 2;\n  const sin = Math.sin(rad);\n  const cos = Math.cos(rad);\n  const point = {x: centerX + sin * radius, y: centerY - cos * radius};\n  return {\n    type: 'point',\n    optionScope: 'point',\n    properties: {\n      x: point.x,\n      y: point.y,\n      centerX: point.x,\n      centerY: point.y,\n      bX: centerX + sin * (radius + halfBorder),\n      bY: centerY - cos * (radius + halfBorder)\n    }\n  };\n}\n\nfunction pointIsInPolygon(points, x, y, useFinalPosition) {\n  let isInside = false;\n  let A = points[points.length - 1].getProps(['bX', 'bY'], useFinalPosition);\n  for (const point of points) {\n    const B = point.getProps(['bX', 'bY'], useFinalPosition);\n    if ((B.bY > y) !== (A.bY > y) && x < (A.bX - B.bX) * (y - B.bY) / (A.bY - B.bY) + B.bX) {\n      isInside = !isInside;\n    }\n    A = B;\n  }\n  return isInside;\n}\n\nconst annotationTypes = {\n  box: BoxAnnotation,\n  ellipse: EllipseAnnotation,\n  label: LabelAnnotation,\n  line: LineAnnotation,\n  point: PointAnnotation,\n  polygon: PolygonAnnotation\n};\n\n/**\n * Register fallback for annotation elements\n * For example lineAnnotation options would be looked through:\n * - the annotation object (options.plugins.annotation.annotations[id])\n * - element options (options.elements.lineAnnotation)\n * - element defaults (defaults.elements.lineAnnotation)\n * - annotation plugin defaults (defaults.plugins.annotation, this is what we are registering here)\n */\nObject.keys(annotationTypes).forEach(key => {\n  defaults.describe(`elements.${annotationTypes[key].id}`, {\n    _fallback: 'plugins.annotation.common'\n  });\n});\n\nconst directUpdater = {\n  update: Object.assign\n};\n\nconst hooks$1 = eventHooks.concat(elementHooks);\nconst resolve = (value, optDefs) => isObject(optDefs) ? resolveObj(value, optDefs) : value;\n\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").UpdateMode } UpdateMode\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\n/**\n * @param {string} prop\n * @returns {boolean}\n */\nconst isIndexable = (prop) => prop === 'color' || prop === 'font';\n\n/**\n * Resolve the annotation type, checking if is supported.\n * @param {string} [type=line] - annotation type\n * @returns {string} resolved annotation type\n */\nfunction resolveType(type = 'line') {\n  if (annotationTypes[type]) {\n    return type;\n  }\n  console.warn(`Unknown annotation type: '${type}', defaulting to 'line'`);\n  return 'line';\n}\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n * @param {UpdateMode} mode\n */\nfunction updateElements(chart, state, options, mode) {\n  const animations = resolveAnimations(chart, options.animations, mode);\n\n  const annotations = state.annotations;\n  const elements = resyncElements(state.elements, annotations);\n\n  for (let i = 0; i < annotations.length; i++) {\n    const annotationOptions = annotations[i];\n    const element = getOrCreateElement(elements, i, annotationOptions.type);\n    const resolver = annotationOptions.setContext(getContext(chart, element, annotationOptions));\n    const properties = element.resolveElementProperties(chart, resolver);\n\n    properties.skip = toSkip(properties);\n\n    if ('elements' in properties) {\n      updateSubElements(element, properties.elements, resolver, animations);\n      // Remove the sub-element definitions from properties, so the actual elements\n      // are not overwritten by their definitions\n      delete properties.elements;\n    }\n\n    if (!defined(element.x)) {\n      // If the element is newly created, assing the properties directly - to\n      // make them readily awailable to any scriptable options. If we do not do this,\n      // the properties retruned by `resolveElementProperties` are available only\n      // after options resolution.\n      Object.assign(element, properties);\n    }\n\n    Object.assign(element, properties.initProperties);\n    properties.options = resolveAnnotationOptions(resolver);\n\n    animations.update(element, properties);\n  }\n}\n\nfunction toSkip(properties) {\n  return isNaN(properties.x) || isNaN(properties.y);\n}\n\nfunction resolveAnimations(chart, animOpts, mode) {\n  if (mode === 'reset' || mode === 'none' || mode === 'resize') {\n    return directUpdater;\n  }\n  return new Animations(chart, animOpts);\n}\n\nfunction updateSubElements(mainElement, elements, resolver, animations) {\n  const subElements = mainElement.elements || (mainElement.elements = []);\n  subElements.length = elements.length;\n  for (let i = 0; i < elements.length; i++) {\n    const definition = elements[i];\n    const properties = definition.properties;\n    const subElement = getOrCreateElement(subElements, i, definition.type, definition.initProperties);\n    const subResolver = resolver[definition.optionScope].override(definition);\n    properties.options = resolveAnnotationOptions(subResolver);\n    animations.update(subElement, properties);\n  }\n}\n\nfunction getOrCreateElement(elements, index, type, initProperties) {\n  const elementClass = annotationTypes[resolveType(type)];\n  let element = elements[index];\n  if (!element || !(element instanceof elementClass)) {\n    element = elements[index] = new elementClass();\n    Object.assign(element, initProperties);\n  }\n  return element;\n}\n\nfunction resolveAnnotationOptions(resolver) {\n  const elementClass = annotationTypes[resolveType(resolver.type)];\n  const result = {};\n  result.id = resolver.id;\n  result.type = resolver.type;\n  result.drawTime = resolver.drawTime;\n  Object.assign(result,\n    resolveObj(resolver, elementClass.defaults),\n    resolveObj(resolver, elementClass.defaultRoutes));\n  for (const hook of hooks$1) {\n    result[hook] = resolver[hook];\n  }\n  return result;\n}\n\nfunction resolveObj(resolver, defs) {\n  const result = {};\n  for (const prop of Object.keys(defs)) {\n    const optDefs = defs[prop];\n    const value = resolver[prop];\n    if (isIndexable(prop) && isArray(value)) {\n      result[prop] = value.map((item) => resolve(item, optDefs));\n    } else {\n      result[prop] = resolve(value, optDefs);\n    }\n  }\n  return result;\n}\n\nfunction getContext(chart, element, annotation) {\n  return element.$context || (element.$context = Object.assign(Object.create(chart.getContext()), {\n    element,\n    id: annotation.id,\n    type: 'annotation'\n  }));\n}\n\nfunction resyncElements(elements, annotations) {\n  const count = annotations.length;\n  const start = elements.length;\n\n  if (start < count) {\n    const add = count - start;\n    elements.splice(start, 0, ...new Array(add));\n  } else if (start > count) {\n    elements.splice(count, start - count);\n  }\n  return elements;\n}\n\nvar version = \"3.0.1\";\n\nconst chartStates = new Map();\nconst hooks = eventHooks.concat(elementHooks);\n\nvar annotation = {\n  id: 'annotation',\n\n  version,\n\n  beforeRegister() {\n    requireVersion('chart.js', '4.0', Chart.version);\n  },\n\n  afterRegister() {\n    Chart.register(annotationTypes);\n  },\n\n  afterUnregister() {\n    Chart.unregister(annotationTypes);\n  },\n\n  beforeInit(chart) {\n    chartStates.set(chart, {\n      annotations: [],\n      elements: [],\n      visibleElements: [],\n      listeners: {},\n      listened: false,\n      moveListened: false,\n      hooks: {},\n      hooked: false,\n      hovered: []\n    });\n  },\n\n  beforeUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    const annotations = state.annotations = [];\n\n    let annotationOptions = options.annotations;\n    if (isObject(annotationOptions)) {\n      Object.keys(annotationOptions).forEach(key => {\n        const value = annotationOptions[key];\n        if (isObject(value)) {\n          value.id = key;\n          annotations.push(value);\n        }\n      });\n    } else if (isArray(annotationOptions)) {\n      annotations.push(...annotationOptions);\n    }\n    verifyScaleOptions(annotations, chart.scales);\n  },\n\n  afterDataLimits(chart, args) {\n    const state = chartStates.get(chart);\n    adjustScaleRange(chart, args.scale, state.annotations.filter(a => a.display && a.adjustScaleRange));\n  },\n\n  afterUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    updateListeners(chart, state, options);\n    updateElements(chart, state, options, args.mode);\n    state.visibleElements = state.elements.filter(el => !el.skip && el.options.display);\n    updateHooks(chart, state, options);\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    draw(chart, 'beforeDatasetsDraw', options.clip);\n  },\n\n  afterDatasetsDraw(chart, _args, options) {\n    draw(chart, 'afterDatasetsDraw', options.clip);\n  },\n\n  beforeDraw(chart, _args, options) {\n    draw(chart, 'beforeDraw', options.clip);\n  },\n\n  afterDraw(chart, _args, options) {\n    draw(chart, 'afterDraw', options.clip);\n  },\n\n  beforeEvent(chart, args, options) {\n    const state = chartStates.get(chart);\n    if (handleEvent(state, args.event, options)) {\n      args.changed = true;\n    }\n  },\n\n  afterDestroy(chart) {\n    chartStates.delete(chart);\n  },\n\n  _getState(chart) {\n    return chartStates.get(chart);\n  },\n\n  defaults: {\n    animations: {\n      numbers: {\n        properties: ['x', 'y', 'x2', 'y2', 'width', 'height', 'centerX', 'centerY', 'pointX', 'pointY', 'radius'],\n        type: 'number'\n      },\n    },\n    clip: true,\n    interaction: {\n      mode: undefined,\n      axis: undefined,\n      intersect: undefined\n    },\n    common: {\n      drawTime: 'afterDatasetsDraw',\n      init: false,\n      label: {\n      }\n    }\n  },\n\n  descriptors: {\n    _indexable: false,\n    _scriptable: (prop) => !hooks.includes(prop) && prop !== 'init',\n    annotations: {\n      _allKeys: false,\n      _fallback: (prop, opts) => `elements.${annotationTypes[resolveType(opts.type)].id}`\n    },\n    interaction: {\n      _fallback: true\n    },\n    common: {\n      label: {\n        _indexable: isIndexable,\n        _fallback: true\n      },\n      _indexable: isIndexable\n    }\n  },\n\n  additionalOptionScopes: ['']\n};\n\nfunction draw(chart, caller, clip) {\n  const {ctx, chartArea} = chart;\n  const state = chartStates.get(chart);\n\n  if (clip) {\n    clipArea(ctx, chartArea);\n  }\n\n  const drawableElements = getDrawableElements(state.visibleElements, caller).sort((a, b) => a.element.options.z - b.element.options.z);\n  for (const item of drawableElements) {\n    drawElement(ctx, chartArea, state, item);\n  }\n\n  if (clip) {\n    unclipArea(ctx);\n  }\n}\n\nfunction getDrawableElements(elements, caller) {\n  const drawableElements = [];\n  for (const el of elements) {\n    if (el.options.drawTime === caller) {\n      drawableElements.push({element: el, main: true});\n    }\n    if (el.elements && el.elements.length) {\n      for (const sub of el.elements) {\n        if (sub.options.display && sub.options.drawTime === caller) {\n          drawableElements.push({element: sub});\n        }\n      }\n    }\n  }\n  return drawableElements;\n}\n\nfunction drawElement(ctx, chartArea, state, item) {\n  const el = item.element;\n  if (item.main) {\n    invokeHook(state, el, 'beforeDraw');\n    el.draw(ctx, chartArea);\n    invokeHook(state, el, 'afterDraw');\n  } else {\n    el.draw(ctx, chartArea);\n  }\n}\n\nexport { annotation as default };\n"],"names":["FORMATS","datetime","millisecond","second","minute","hour","day","week","month","quarter","year","_date","override","_id","formats","parse","value","format","isValid","valueOf","time","add","amount","unit","diff","max","min","startOf","weekday","Math","trunc","isoWeekday","endOf","register","noop","uid","id","isNullOrUndef","isArray","Array","type","Object","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","parseFloat","toDimension","callback","fn","args","thisArg","apply","each","loopable","reverse","i","len","keys","length","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone","source","map","target","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","v","x","o","y","resolveObjectKey","obj","resolver","parts","split","tmp","part","push","_splitKey","_getKeyResolver","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","a","b","size","item","has","_isClickEvent","e","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","range","roundedRange","round","niceRange","pow","floor","fraction","_factorize","result","sqrt","sort","pop","isNumber","n","isNaN","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","enumerable","forEach","method","base","res","this","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","from","requestAnimFrame","window","requestAnimationFrame","throttled","argsToUse","ticking","debounce","delay","timeout","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","assign","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","d","easeInOutBounce","isPatternOrGradient","color","getHoverColor","saturate","darken","hexString","numbers","colors","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","get","Intl","NumberFormat","getNumberFormat","formatters","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","overrides","descriptors","getScope$1","node","root","scope","Defaults","constructor","_descriptors","_appliers","animation","undefined","backgroundColor","borderColor","datasets","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","weight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","appliers","defaults","_scriptable","startsWith","_indexable","_fallback","duration","easing","loop","to","properties","active","resize","show","animations","visible","hide","autoPadding","padding","top","bottom","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","data","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","j","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","w","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","rotate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","line","opts","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","h","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","ret","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","parseInt","console","warn","toFontString","resolve","inputs","info","cacheable","_addGrace","minmax","change","keepZero","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","getValue","Error","join","delete","_resolveScriptable","isIndexable","arr","filter","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","r","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","splineCurveMonotone","prev","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getRelativePosition","event","borderBox","boxSizing","paddings","borders","box","touches","offsetX","offsetY","getBoundingClientRect","clientX","clientY","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","getStyle","_pointInLine","p1","p2","_steppedInterpolation","_bezierInterpolation","cp1","cp2","c","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","prevValue","inside","subStart","_boundSegments","segments","sub","_computeSegments","segmentOptions","_loop","findStartAndEnd","splitByStyles","cur","stop","solidSegments","_fullLoop","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","l","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","modes","state","filterElements","nearest","minDistance","reduce","nearestItems","center","getCenterPoint","evenPoint","getPointByAxis","_index","getNearestItem","getElements","visibleElements","inRange","inRangeByAxis","isOlderPart","act","req","clamp","clampAll","inBoxRange","x2","y2","hBorderWidth","inRangeX","inRangeY","getElementCenterPoint","useFinalPosition","centerX","centerY","getProps","isPercentString","toPercent","toPositivePercent","boxAppering","defaultInitAnimation","label","polygon","position","getSize","positivePercent","toPosition","isBoundToPoint","xValue","yValue","initAnimationProperties","initAnim","init","applyDefault","execCallback","loadHooks","hooks","hooksContainer","activated","hook","widthCache","fontsKey","fonts","isImageOrCanvas","content","setBorderStyle","lineCap","setLineDash","lineDashOffset","lineJoin","setShadowStyle","shadowColor","backgroundShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","measureLabelSize","optFont","f","mapKey","calculateLabelSize","drawBox","borderRadius","borderShadowColor","limitedLineScale","xScaleID","startProp","endProp","yScaleID","scaleValue","retrieveScaleID","scaleID","axes","getDimensionByScale","getChartPoint","chartArea","resolveBoxProperties","xDim","getChartDimensionByScale","xMin","xMax","yDim","yMin","yMax","resolvePointProperties","adjustCenterX","xAdjust","adjustCenterY","yAdjust","getChartCircle","resolveBoxAndLabelProperties","initProperties","optionScope","resolveLabelElementProperties$1","calculatePosition$1","boxOpts","labelOpts","padStart","padEnd","adjust","callout","labelSize","calculateX","calculateY","rotated","cx","cy","moveHooks","eventHooks","concat","dispatchMoveEvents","checkElements","dispatchEvent","handler","$context","elementHooks","invokeHook","hooked","callbackHook","changeScaleLimit","limit","suggestedLimit","scaleOptions","scaleLimitDefined","verifyScaleIDs","annotation","verifyProperties","updateLimits","limits","raw","BoxAnnotation","mouseX","mouseY","draw","resolveElementProperties","adjustScaleRange","drawTime","opacity","z","defaultRoutes","LabelAnnotation","_visible","pointX","pointY","calloutPosition","xPoints","yPoints","rotatedPoint","resolveCalloutAutoPosition","resolveCalloutPosition","isPointInRange","separatorStart","separatorEnd","getCalloutSeparatorAdjust","getCalloutSeparatorCoord","sideStart","sideEnd","side","getCalloutSideAdjust","getCalloutSideCoord","drawCallout","globalAlpha","elementValue","getOpacity","labels","optColor","calculateTextAlignment","miterLimit","setTextStrokeStyle","lhs","lh","applyLabelDecoration","applyLabelContent","drawLabel","getLabelSize","boxSize","calculatePosition","measureRect","pointInLine","interpolateX","interpolateY","sqr","coordInCurve","cp","pointInCurve","coordAngleInCurve","angleInCurve","P","LineAnnotation","path","mx","my","isPointInStroke","isOnLabel","x1","y1","dx","dy","lenSq","xx","yy","intersects","rangeLimit","inAxisRange","curve","startOpts","endOpts","startAdjust","endAdjust","getArrowHeads","startAngle","endAngle","ps","pe","Path2D","quadraticCurveTo","drawArrowHeadOnCurve","drawCurve","drawArrowHead","NaN","endValue","isHorizontal","resolveFullLineProperties","scaleId","dim","resolveLimitedLineProperties","resolveLineProperties","isLineInArea","limitPointToArea","limitLineToArea","controlPoint","getControlPoint","labelProperties","textSize","sizes","calculateAutoRotation","rotatedSize","space","spaceAround","calculateTAdjust","calculateT","xCoordinateSizes","yCoordinateSizes","adjustLabelCoordinate","calculateLabelPosition","resolveLabelElementProperties","arrowHeadsDefaults","lineSize","lineW","lineH","coordinate","labelSizes","halfSize","arrowStartOpts","arrowHeads","arrowEndOpts","getLineAdjust","arrowOpts","arrowOffsetX","EllipseAnnotation","xRadius","yRadius","cosAngle","sinAngle","pointInEllipse","PointAnnotation","inPointRange","notRadius","T","H","drawPointStyle","PolygonAnnotation","isInside","A","B","bY","bX","pointIsInPolygon","axisPoints","first","sides","elProps","buildPointElement","halfBorder","annotationTypes","directUpdater","update","hooks$1","optDefs","resolveObj","resolveType","toSkip","updateSubElements","mainElement","subElements","definition","subElement","getOrCreateElement","subResolver","resolveAnnotationOptions","elementClass","defs","chartStates","version","beforeRegister","pkg","ver","strict","requireVersion","afterRegister","afterUnregister","unregister","beforeInit","annotations","listened","moveListened","hovered","beforeUpdate","annotationOptions","verifyScaleOptions","afterDataLimits","scaleIDOption","NEGATIVE_INFINITY","getScaleLimits","handleTickRangeOptions","afterUpdate","_getElements","click","updateListeners","animOpts","resolveAnimations","resyncElements","updateElements","updateHooks","beforeDatasetsDraw","_args","afterDatasetsDraw","beforeDraw","afterDraw","beforeEvent","handleMoveEvents","handleClickEvents","handleEvent","afterDestroy","_getState","common","additionalOptionScopes","caller","drawableElements","main","getDrawableElements","drawElement"],"sourceRoot":""}