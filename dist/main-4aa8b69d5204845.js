/*! For license information please see main-4aa8b69d5204845.js.LICENSE.txt */
"use strict";(self.webpackChunkclear_horizon=self.webpackChunkclear_horizon||[]).push([[185],{8907:function(t,e,r){r.d(e,{q:function(){return i}}),r(2222);var n={brill:'<path d="m6 0-5 6 5 6 5-6z"/>',circle:'<circle cx="6" cy="6" r="6"/>',rect:'<rect width="12" height="12"/>',marker:'<path d="m6 0c-1.85 0-4 1.19-4 4.22 0 2.05 3.08 6.59 4 7.78 0.821-1.19 4-5.62 4-7.78 0-3.03-2.15-4.22-4-4.22z"/>',cross:'<path d="M 2.4,12 6,8.4 9.6,12 12,9.6 8.4,6 12,2.4 9.6,0 6,3.6 2.4,0 0,2.4 3.6,6 0,9.6 Z"/>',star:'<path d="m6 0.25 1.71 4.18 4.29-1.04e-4 -3.43 3.14 0.857 4.18-3.43-3.14-3.43 3.14 0.857-4.18-3.43-3.14 4.29-0.209z"/>',triangle:'<path d="m12 11.7h-12l6-11.2z"/>',plus:'<path d="m7.5 12v-4.5h4.5v-3h-4.5v-4.5h-3v4.5h-4.5v3h4.5v4.5z"/>',minus:'<path d="m12 7.5v-3h-12v3z"/>',asterisk:'<path d="m7.59 12v-3.27l2.83 1.64 1.58-2.74-2.85-1.64 2.83-1.64-1.56-2.74-2.83 1.64v-3.24h-3.17v3.24l-2.85-1.64-1.57 2.74 2.84 1.64-2.84 1.64 1.57 2.74 2.85-1.64v3.27z"/>'};function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=r/2,i='<svg\n    version="1.1"\n    xmlns="http://www.w3.org/2000/svg"\n    width="'.concat(t,'"\n    height="').concat(e,'"\n    viewBox="-').concat(o," -").concat(o," ").concat(t+r," ").concat(e+r,'"\n  >').concat(n,"</svg>"),a=new DOMParser,u=a.parseFromString(i,"image/svg+xml");return u.documentElement}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shape||"circle",r=t.color||"blue",i=t.strokeColor||"white",a=t.size||12,u=a/2,c=12,s="number"==typeof t.stroke?t.stroke:.8,l=a/c,f=n[e]||"circle",p="string"==typeof f?f:f(t),y=o(a,a,s*l,p),h=y.firstChild,v="scale(".concat(l,")");h.setAttribute("fill",r),s&&(h.setAttribute("stroke",i),h.setAttribute("stroke-width",String(s))),h.setAttribute("transform",v);var b=new XMLSerializer;return{type:"icon",iconSize:[a,a],iconAnchor:[u,u],html:b.serializeToString(y),svg:y}}},6952:function(t,e,r){r.d(e,{w8:function(){return f},ck:function(){return L}}),r(7941),r(2526),r(7327),r(5003),r(4747),r(9337),r(1817),r(1539),r(2165),r(6992),r(8783),r(3948),r(1038),r(7042),r(8309);var n=r(4034);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"item",void 0),a(this,"_children",[]),a(this,"_parent",void 0),this.item=e}var e,r;return e=t,(r=[{key:"setParent",value:function(t){this._parent=t}},{key:"addChild",value:function(t){this._children.push(t)}},{key:"getParent",value:function(){return this._parent}},{key:"getParents",value:function(t){var e=this.getParent();return e?(0,n.Zm)(e,t,(function(t){return t.tree.getParent()})):[]}},{key:"getRoot",value:function(){for(var t=this.getParent(),e=t;t;)(t=t.tree.getParent())&&(e=t);return e}},{key:"find",value:function(t){return(0,n.Ql)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"every",value:function(t){return(0,n.qL)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"some",value:function(t){return(0,n.cC)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"all",value:function(t){return this.getDescendants(t)}},{key:"getDescendants",value:function(t){return(0,n.Zm)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"getChildren",value:function(){return function(t){if(Array.isArray(t))return o(t)}(t=this._children)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}}])&&i(e.prototype,r),t}(),c=(r(1249),r(9601),r(489),r(2419),r(9826),r(7187));function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"options",void 0),l(this,"emitter",new c.EventEmitter),l(this,"name",void 0),l(this,"item",void 0),l(this,"_blocked",!1),l(this,"_container",void 0),l(this,"_value",void 0),l(this,"_removeEventsListener",void 0),this.item=r,this.options=Object.assign({},n),this.name=e,this._value=this.getProperty()}var e,r;return e=t,(r=[{key:"getProperty",value:function(){return"function"==typeof this.options.getProperty?this.options.getProperty.call(this,this.item):this.options.value}},{key:"getParents",value:function(){return this.item.tree.getParents()||[]}},{key:"getParent",value:function(){return this.item.tree.getParent()}},{key:"getChildren",value:function(){return this.item.tree.getChildren()}},{key:"isGroup",value:function(){return this.item.tree.getDescendants().length}},{key:"isBlocked",value:function(){var t=this;if(void 0===this._blocked){var e=this.item.tree.getParents();if(e){var r=e.find((function(e){var r=e.properties&&e.properties.property(t.name);return!!r&&!r.get()}));this._blocked=!!r}else this._blocked=!1}return this._blocked}},{key:"set",value:function(t,e){this._value=this._prepareValue(t),this.update(this._value,e),this._fireChangeEvent(this._value,e)}},{key:"get",value:function(){return this.getValue()}},{key:"update",value:function(t,e){this._callOnSet(t,e)}},{key:"getContainer",value:function(){return this._container}},{key:"destroy",value:function(){if(this._container){var t=this._container.parentNode;t&&t.removeChild(this._container)}this._removeEventsListener&&this._removeEventsListener()}},{key:"getValue",value:function(){return void 0!==this._value?this._value:this.getProperty()}},{key:"_prepareValue",value:function(t){return t}},{key:"_callOnSet",value:function(t,e){this.options.onSet&&this.options.onSet.call(this,t,e,this.item)}},{key:"_fireChangeEvent",value:function(t,e){var r=this;this.emitter&&(t=void 0!==t?t:this.getValue(),this.emitter.emit("change",{value:t,options:e}),this.item.tree.getParents().forEach((function(n){var o=n.properties&&n.properties.property(r.name);o&&o.emitter.emit("change-tree",{value:t,options:e,item:r.item})})))}}])&&s(e.prototype,r),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function d(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return d(this,t)});function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e,h(h({},a.options),r))).set(n.get()),n}return e=a,(r=[{key:"update",value:function(t,e){if(t){if(e&&e.bubble||this.options.bubble){this.unBlock(e);var r=this.getParent(),n=r&&r.properties&&r.properties.property(this.name);n&&n.set(t,Object.assign({},e,{bubble:!0,propagation:!1}))}this.isBlocked()||this._turnOn(e)}else this._turnOff(e);(e&&e.propagation||this.options.propagation)&&this._propagation(t,e)}},{key:"getHierarchyValue",value:function(){var t=this;return this.get()&&this.getParents().every((function(e){var r=e.properties&&e.properties.get(t.name);return r&&r.get()}))}},{key:"block",value:function(t){this._blocked=!0,this._block(t)}},{key:"unBlock",value:function(t){this._blocked=!1,this.getValue()&&this._unBlock(t)}},{key:"blockChild",value:function(t){var e=this;this.item.tree.getDescendants().forEach((function(r){return e._blockChild(r,t)}))}},{key:"unblockChild",value:function(t){var e=this;this.item.tree.getChildren().forEach((function(r){return e._unBlockChild(r,t)}))}},{key:"_prepareValue",value:function(t){return t}},{key:"_turnOff",value:function(t){this.options.turnOff&&this.options.turnOff.call(this,t),this._callOnSet(!1,t),this.options.hierarchy&&this.isGroup()&&this.blockChild(t)}},{key:"_turnOn",value:function(t){this.options.turnOn&&this.options.turnOn.call(this,t),this._callOnSet(!0,t),this.options.hierarchy&&this.isGroup()&&this.unblockChild(t)}},{key:"_block",value:function(t){this._turnOff(t)}},{key:"_unBlock",value:function(t){this._turnOn(t)}},{key:"_blockChild",value:function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.block&&r.block(e)}},{key:"_unBlockChild",value:function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.unBlock&&r.unBlock(e)}},{key:"_propagation",value:function(t,e){if(this.isGroup())for(var r=this.item.tree.getChildren(),n=0;n<r.length;n++){var o=r[n],i=o.properties&&o.properties.property(this.name);i&&i.set(t,h(h({},e),{propagation:!0,bubble:!1}))}}}])&&v(e.prototype,r),a}(f);function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}O(g,"options",{hierarchy:!0,bubble:!1,propagation:!1,label:"Toggle"});var j=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,P(this,"options",{}),P(this,"_properties",{}),P(this,"_propertiesList",void 0),this._propertiesList=[],r&&r.forEach(this._setPropertyHandler.bind(this))}var e,r;return e=t,r=[{key:"add",value:function(t){this._setPropertyHandler(t)}},{key:"_setPropertyHandler",value:function(e){var r=t.handlers,n=e.handler;if(!n&&e.type&&(n="boolean"===e.type?r.CheckProperty:r.BaseProperty),n&&e.name){var o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){P(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e||{});this._properties[e.name]=new n(e.name,this.item,o),this._propertiesList.push(e.name)}}},{key:"update",value:function(){this.list().forEach((function(t){t.update()}))}},{key:"get",value:function(t){var e=this.property(t);if(e)return e.get()}},{key:"set",value:function(t,e,r){var n=this.property(t);if(n)return n.set(e,r)}},{key:"property",value:function(t){return this._properties[t]}},{key:"list",value:function(){var t=this;return this._propertiesList.map((function(e){return t._properties[e]}))}},{key:"destroy",value:function(){for(var t in this._properties){var e=this.property(t);e&&e.destroy&&e.destroy()}this._properties={},this._propertiesList=[]}}],r&&w(e.prototype,r),t}();function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}P(j,"handlers",{CheckProperty:g});var C=0,L=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"options",{}),E(this,"properties",void 0),E(this,"tree",void 0),E(this,"id",C),C+=1,this.options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),this.tree=new u(this)}var e,r;return e=t,(r=[{key:"initProperties",value:function(){this.properties=new j(this,this.options.properties)}}])&&S(e.prototype,r),t}()},9862:function(t,e,r){r.d(e,{Z:function(){return ke}}),r(1249),r(4916),r(5306),r(4747),r(7941),r(2526),r(7327),r(5003),r(9337),r(1817),r(1539),r(2165),r(6992),r(8783),r(3948),r(7042),r(8309),r(1038);var n=r(7187),o=r(5243);function i(t){var e=t.containerPoint,r=t.latlng,n=r.lat;return{latLng:r,lngLat:[r.lng,n],pixel:{left:e.x,top:e.y},source:t}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=o.Control.extend({onAdd:function(){var n=document.createElement("div"),i=t.onAdd(r);return n.classList.add("leaflet-control"),e.bar&&n.classList.add("leaflet-bar"),e.margin||e.bar||(n.style.marginBottom="0px",n.style.marginTop="0px",n.style.marginLeft="0px",n.style.marginRight="0px"),i&&n.appendChild(i),o.DomEvent.disableClickPropagation(n),n},onRemove:function(){t.onRemove()}});return new n}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function s(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}r(489),r(2419);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=l(e);if(r){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this,t);var r=t&&t.customAttribution;if(r){var i=[];Array.isArray(r)?i=r:r&&(i=[r]),i.forEach((function(t){return e.addAttribution(t)}))}return e}return o}(o.Control.Attribution),p=(r(5666),r(9601),r(561),r(4553),r(9653),r(9826),r(8674),r(7450)),y=r(8651),h=r(9443);function v(t){var e=t.getNorthEast(),r=t.getSouthWest();return[r.lng,r.lat,e.lng,e.lat]}var b={Point:"point",LineString:"line",MultiPoint:"point",Polygon:"polygon",MultiLineString:"line",MultiPolygon:"polygon",GeometryCollection:"polygon"},d={stroke:!1,opacity:1},m={};for(var O in b){var g=b[O],_=m[g]||[];_.push(O),m[g]=_}function w(t,e){return-1!==(m[e]||[]).indexOf(t)}function P(t){var e=new o.GeoJSON;return(Array.isArray(t)?t:[t]).forEach((function(t){return e.addData(t)})),e.getBounds()}function j(t){return{getBounds:function(){return function(t){return v(P(t))}(t)},getCenter:function(){return function(t){var e=P(t).getCenter(),r=e.lat;return[e.lng,r]}(t)}}}function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1+(e[t[r]]||0);var n="";for(var o in e){var i=n?e[n]:0;e[o]>i&&(n=o)}return n}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R=function(){function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.options=r,L(this,"layer",void 0),L(this,"pane","order-0"),void 0!==r.order){var n="order-"+r.order,o=e.getPane(n);o||(o=e.createPane(n)),o.style.zIndex=String(Math.round(100*r.order)),this.pane=n}}var e,r;return e=t,(r=[{key:"addLayer",value:function(t){Object.assign(this.options,t)}}])&&C(e.prototype,r),t}();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||A(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function B(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=A(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function A(t,e){if(t){if("string"==typeof t)return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){W(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(t,e){return z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},z(t,e)}function F(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return G(t)}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function W(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(l,t);var e,r,n,a,u,c,s=(u=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(u);if(c){var r=V(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return F(this,t)});function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),W(G(r=s.call(this,t,e)),"layer",void 0),W(G(r),"selected",!1),W(G(r),"paint",void 0),W(G(r),"selectedPaint",void 0),W(G(r),"type",void 0),W(G(r),"_layers",[]),W(G(r),"_selectedLayers",[]),W(G(r),"_filteredLayers",[]),W(G(r),"_filterFun",void 0),W(G(r),"_openedPopup",[]),W(G(r),"$updateTooltip",(0,p.D)((function(){r.updateTooltip()}),300)),W(G(r),"$unselect",(function(){r.unselect()})),r}return e=l,r=[{key:"addLayer",value:function(t){return Object.assign(this.options,t),this.paint=t.paint,this.layer=new o.FeatureGroup([],Z(Z({},t.nativeOptions),{},{pane:this.pane})),this.selectedPaint=t.selectedPaint,t.paint=this.paint,t.data&&this.addData(t.data),this._addMapListener(),this.layer}},{key:"beforeRemove",value:function(){this._removeMapListener()}},{key:"select",value:function(t){var e=this;t?this._layers.filter(t).forEach((function(t){e._selectLayer(t,"api")})):this.selected||(this.selected=!0,this.selectedPaint&&this._setPaintEachLayer(this.selectedPaint))}},{key:"unselect",value:function(t){var e=this;if(t)this._layers.filter(t).forEach((function(t){e._unSelectLayer(t)}));else if(this.selected){var r,n=B(this._openedPopup);try{for(n.s();!(r=n.n()).done;){var o=r.value;this._removePopup(o[0])}}catch(t){n.e(t)}finally{n.f()}this.paint&&this._setPaintEachLayer(this.paint),this._selectedLayers.length=0,this.selected=!1}}},{key:"getSelected",value:function(){var t=this;return this._selectedLayers.map((function(e){return Z({target:t,feature:e.feature,layer:e},j(e.feature))}))}},{key:"getFiltered",value:function(){return this._filteredLayers}},{key:"filter",value:function(t){var e=this;this._filterFun=t;var r=this.layer,n=r&&r._map;if(r&&n){r.remove();var o=[];this._layers.forEach((function(n){var i=n.feature,a=n.layer;a&&(!t||t(Z({target:e,feature:i,layer:a},j(i)))?(r.addLayer(a),o.push(Z({target:e,feature:i,layer:a},j(i)))):r.removeLayer(a))})),this._filteredLayers=o,r.addTo(n)}return this._filteredLayers}},{key:"cleanFilter",value:function(){this.filter()}},{key:"getLayers",value:function(){var t=this;return this._layers.map((function(e){var r=e.layer,n=e.feature;return Z({feature:n,layer:r,visible:r&&!!r._map,target:t},j(n))}))}},{key:"clearLayer",value:function(t){this.unselect();var e=this.layer;if(e)if(t)for(var r=this._layers.length;r--;){var n=this._layers[r];if(n){var o=n.feature,i=n.layer;o&&i&&t(o)&&(e.removeLayer(i),this._layers.splice(r,1))}}else e.clearLayers(),this._layers=[]}},{key:"setData",value:function(t){this.clearLayer(),this.addData(t)}},{key:"addData",value:function(t){var e,r,n=this.options;if(n){if(t){var i;if(n.type)i=n.type;else{var a="FeatureCollection"===(r=t).type?E(r.features.map((function(t){return t.geometry.type}))):"GeometryCollection"===r.type?E(r.geometries.map((function(t){return t.type}))):"Feature"===r.type?r.geometry.type:r.type;i=b[a]}if(this.type&&this.type!==i)return void console.warn("no other data type than layer can be added");this.type=i,t=function(t,e){if("FeatureCollection"===t.type){var r=t;r.features=r.features.filter((function(t){return w(t.geometry.type,e)}))}else if("Feature"===t.type){if(!w(t.geometry.type,e))return!1}else if("GeometryCollection"===t.type){var n=t;n.geometries=n.geometries.filter((function(t){return w(t.type,e)}))}return t}(t,i),t&&(e=this._getGeoJsonOptions(n,i))}new o.GeoJSON(t||void 0,e)}}},{key:"openPopup",value:function(t,e){var r=this;t&&this._layers.filter(t).forEach((function(t){r._openPopup(t,e,"api")}))}},{key:"closePopup",value:function(t){var e=this;(t?this._openedPopup.filter((function(e){return t(e[2])})):this._openedPopup).forEach((function(t){e._removePopup(t[0])}))}},{key:"updateTooltip",value:function(t){var e=this;t?this._updateTooltip(t):this.getLayers().forEach((function(t){return e._updateTooltip({feature:t.feature,layer:t.layer})}))}},{key:"getExtent",value:function(){return this.getBounds()}},{key:"getBounds",value:function(){if(this.layer){var t=this.layer.getBounds();if(t.isValid())return v(t)}}},{key:"setOpacity",value:function(t){this.options.opacity=t,this.setPaint(this.paint),this.setSelectedPaint(this.selectedPaint)}},{key:"setPaint",value:function(t){if(t){this.paint=t;var e,r=B(this._layers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"setSelectedPaint",value:function(t){if(t){this.selectedPaint=t;var e,r=B(this._selectedLayers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"updatePaint",value:function(t){this.paint=Z(Z({},this.paint),t);var e,r=B(this._layers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,this.paint)}}catch(t){r.e(t)}finally{r.f()}}},{key:"updateSelectedPaint",value:function(t){this.selectedPaint=Z(Z({},this.selectedPaint),t);var e,r=B(this._selectedLayers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,this.selectedPaint)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_updateTooltip",value:function(t){var e=t.feature,r=t.layer;if(e&&r&&e.properties&&this.options.labelField){r.unbindTooltip();var n=e.properties[this.options.labelField];if(void 0!==n){var o=!this.options.labelOnHover;r.bindTooltip(String(n),{permanent:o,sticky:!1})}}}},{key:"_openPopup",value:(n=regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,c,s,l,f,p,h,v,b,d,m,O,g,_,w,P=this,k=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=k.length>1&&void 0!==k[1]?k[1]:{},n=k.length>2?k[2]:void 0,o=k.length>3?k[3]:void 0,i=e.feature,a=e.layer,u=Z({minWidth:300},r),c=u.minWidth,s=u.autoPan,l=u.maxWidth,f=u.closeButton,p=null!=f?f:!this.options.selectOnHover,v=[],b=function(t){v.push(t)},d=function(){h&&P._removePopup(h)},!r.createPopupContent){t.next=15;break}return t.next=12,r.createPopupContent(Z({layer:a,feature:i,target:this,type:n,close:d,onClose:b},j(i)));case 12:m=t.sent,t.next=16;break;case 15:m=r.popupContent;case 16:m&&a&&(_={minWidth:c,autoPan:s,closeButton:p,closeOnClick:!1,autoClose:!1},(0,y.r)(l)&&(_.maxWidth=l),h=a.bindPopup(m,_),(null===(O=null===(g=this.options.popupOptions)||void 0===g?void 0:g.unselectOnClose)||void 0===O||O)&&(w=a.getPopup())&&w.once("remove",(function(){d()}),this),this._openedPopup.push([h,v,e]),h.openPopup(o));case 17:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){D(i,r,o,a,u,"next",t)}function u(t){D(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"_removePopup",value:function(t){if(this.map){t.closePopup().unbindPopup();var e=this._openedPopup.findIndex((function(e){return e[0]===t}));if(-1!==e){var r,n,o,i=null===(r=null===(n=this.options.popupOptions)||void 0===n?void 0:n.unselectOnClose)||void 0===r||r,a=x(this._openedPopup[e],3),u=a[1],c=a[2],s=B(u);try{for(s.s();!(o=s.n()).done;)(0,o.value)(c)}catch(t){s.e(t)}finally{s.f()}u.length=0,i&&this._unSelectLayer(c),this._openedPopup.splice(e,1)}}}},{key:"_setPaintEachLayer",value:function(t){var e=this;this._layers.forEach((function(r){e._setPaint(r,t)}))}},{key:"_setPaint",value:function(t,e){var r=void 0,n=t.layer,o=t.feature;if(n&&o&&((0,h.UY)(e)?r=e(o):(0,h.GY)(e)&&(r=e),r))if("point"===this.type&&"icon"===r.type){var i=n,a=this._createDivIcon(r);i.setIcon(a)}else"setStyle"in n&&n.setStyle(this._preparePaint(r))}},{key:"_preparePaint",value:function(t){if("get-paint"!==t.type){var e="line"===this.type?[["color","strokeColor"],["opacity","strokeOpacity"],["weight","weight"]]:[["color","strokeColor"],["opacity","strokeOpacity"],["stroke","stroke"],["fillColor","fillColor"],["fillOpacity","fillOpacity"],["fill","fill"],["weight","weight"]],r={};"radius"in t&&"number"==typeof t.radius&&(r.radius=t.radius);var n,o=B(e);try{for(o.s();!(n=o.n()).done;){var i=x(n.value,2),a=i[0],u=i[1],c=t[u];(0,y.r)(this.options.opacity)&&-1!==u.toLowerCase().indexOf("opacity")&&(c=Number(c)*this.options.opacity),void 0!==c&&Object.defineProperty(r,a,{enumerable:!0,value:c})}}catch(t){o.e(t)}finally{o.f()}return r}return d}},{key:"_getGeoJsonOptions",value:function(t,e){var r=this,n=t.paint,o={};return"function"==typeof n?"point"===e?o.pointToLayer=function(t,e){var o=n(t);return r._createPaintToLayer(o)(t,e)}:o={style:function(t){return t?r._preparePaint(Z(Z({},d),n(t))):r._preparePaint(Z(Z({},d),{},{type:"path"}))}}:o=this._createPaintOptions(n,e),o.onEachFeature=function(t,e){r._onEachFeature(t,e)},o}},{key:"_onEachFeature",value:function(t,e){var r=this,n=this.layer;if(n){var o=Z({target:this,feature:t,layer:e},j(t));e.options.pane=this.pane,this._layers.push(o);var i=!0;if(this._filterFun&&(i=this._filterFun(o)),i){var a=this.options,u=a.popup,c=a.popupOptions,s=a.selectable,l=a.interactive,f=a.selectOnHover;e.options.interactive=!(0,y.r)(l)||l,n.addLayer(e),s&&(f?(e.on("mouseover",(function(){r._selectLayer(o,"hover")})),e.on("mouseout",(function(){r._unSelectLayer(o)}))):e.on("click",(function(t){return r._selectOnLayerClick(t)}),this)),this._handleMouseEvents(e),setTimeout((function(){u&&r._openPopup(Z({target:r,layer:e,feature:t},j(t)),c,"api"),r._updateTooltip({layer:e,feature:t})}))}}}},{key:"_handleMouseEvents",value:function(t){var e=this,r=this.options,n=r.onClick,o=r.onLayerClick,i=r.onMouseOut,a=r.onMouseOver,u=n||o;u&&t.on("click",(function(t){var r;u(Z({selected:(r=t.target,-1!==e._selectedLayers.indexOf(r))},e._createMouseEvent(t)))}),this),i&&t.on("mouseout",(function(t){i(e._createMouseEvent(t))}),this),a&&t.on("mouseover",(function(t){a(e._createMouseEvent(t))}),this)}},{key:"_createMouseEvent",value:function(t){return function(t){var e=t.layer,r=t.source,n=r.target.feature,o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({layer:e,feature:n,event:i(r),source:r},j(n));return o}({layer:this,source:t})}},{key:"_selectOnLayerClick",value:function(t){o.DomEvent.stopPropagation(t);var e=t.target,r=e.feature,n=Z({target:this,layer:e,feature:r},j(r)),i=this._selectedLayers.find((function(t){return t.layer===e}));i?this.options&&this.options.unselectOnSecondClick&&this._unSelectLayer(i):this._selectLayer(n,"click",t.latlng)}},{key:"_selectLayer",value:function(t,e,r){var n=this;this.map._addUnselectCb((function(){n._unSelectLayer(t)})),this.options&&!this.options.multiselect&&this._selectedLayers.forEach((function(t){return n._unSelectLayer(t)})),this._selectedLayers.push(t),this.selected=!0;var o=this.options,i=o.selectedPaint,a=o.popupOnSelect,u=o.popupOptions;if(i&&t.layer&&this._setPaint(t,i),a&&this._openPopup(t,u,e,r),this.options.onSelect){var c=t.feature?[t.feature]:[];this.options.onSelect(Z({type:e,layer:this,features:c},j(c)))}}},{key:"_unSelectLayer",value:function(t){var e=this._selectedLayers.indexOf(t);-1!==e&&(this._selectedLayers.splice(e,1),this.options&&(this.options.paint&&this._setPaint(t,this.options.paint),this.options.popupOnSelect&&t.layer&&this._removePopup(t.layer))),this.selected=this._selectedLayers.length>0}},{key:"_createDivIcon",value:function(t){var e=Object.assign({},t);return new o.DivIcon(Z({className:""},e))}},{key:"_createPaintToLayer",value:function(t){var e=this;if(t&&t.type)if("icon"===t.type){var r=t.className,n=t.html;if(r||n)return function(r,n){var i=e._createDivIcon(t);return new o.Marker(n,{icon:i})}}else if("pin"===t.type)return function(t,e){return new o.Marker(e)};return function(r,n){var i=d;return new o.CircleMarker(n,e._preparePaint(Z(Z({},i),t)))}}},{key:"_createPaintOptions",value:function(t,e){var r={},n=t&&this._preparePaint(t)||{};return t&&(r.style=function(){return n}),"point"===e?r.pointToLayer=this._createPaintToLayer(t):"line"===e&&(n.stroke=!0),r}},{key:"_addMapListener",value:function(){var t=this.map;if(t){var e=this.options,r=e.labelField,n=e.labelOnHover,o=e.unselectOnClick;(null==o||o)&&t.on("click",this.$unselect),r&&!n&&(t.on("zoomend",this.$updateTooltip),t.on("moveend",this.$updateTooltip))}}},{key:"_removeMapListener",value:function(){this.map.off("zoomend",this.$updateTooltip),this.map.off("moveend",this.$updateTooltip),this.map.off("click",this.$unselect)}}],r&&U(e.prototype,r),l}(R);function N(t,e,r){var n=new XMLHttpRequest;for(var o in n.open("GET",t),n.responseType="arraybuffer",r)n.setRequestHeader(o,r[o]);return n.onload=function(){var t=new Uint8Array(this.response),r=new Blob([t],{type:"image/png"}),n=(window.URL||window.webkitURL).createObjectURL(r);e(n)},n.send(),function(){n.abort()}}function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e,r){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},J(t,e,r||t)}function X(t,e){return X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},X(t,e)}function Y(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}r(2222),r(9600),r(4819),r(2472),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(285),r(1637);var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=K(n);if(o){var r=K(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Y(this,t)});function a(t,e,r){var n,o,u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),c=[],(u="_abort")in(o=Q(n=i.call(this,t,e,r)))?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,n}return e=a,r=[{key:"cancelLoad",value:function(){this._abort&&(this._abort.forEach((function(t){return t()})),this._abort=[])}},{key:"_initImage",value:function(){J(K(a.prototype),"_initImage",this).call(this);var t=this.options.headers;if(t){var e=this._image,r=e.src;e.src="",this._abort.push(N(r,(function(t){e.src=t}),t))}}}],r&&q(e.prototype,r),a}(o.ImageOverlay);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(n);if(i){var r=at(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ot(this,t)});function u(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),ut(it(r=a.call(this,e)),"defaultWmsParams",{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1}),ut(it(r),"options",{crs:null,uppercase:!1,attribution:"",opacity:1,isBack:!1,minZoom:0,maxZoom:18,pane:"tilePane",headers:null,viewPortBuffer:0,setViewDelay:100}),ut(it(r),"wmsParams",void 0),ut(it(r),"_url",void 0),ut(it(r),"_currentUrl",void 0),ut(it(r),"_currentOverlay",void 0),r._url=t;var n,i={},c={};for(n in e)n in r.options?c[n]=e[n]:i[n]=e[n];return o.Util.setOptions(it(r),c),r.wmsParams=o.Util.extend({},r.defaultWmsParams,i),r}return e=u,(r=[{key:"setParams",value:function(t){o.Util.extend(this.wmsParams,t),this.update()}},{key:"getAttribution",value:function(){return this.options.attribution||""}},{key:"onAdd",value:function(){return this.update(),this}},{key:"onRemove",value:function(t){return this._currentOverlay&&(this._currentOverlay.cancelLoad(),t.removeLayer(this._currentOverlay),delete this._currentOverlay),this._currentUrl&&delete this._currentUrl,this}},{key:"getEvents",value:function(){return{moveend:(0,p.D)(this.update,this.options.setViewDelay)}}},{key:"update",value:function(){var t=this;if(this._map){this.updateWmsParams();var e=this.getImageUrl();if(this._currentUrl!==e){this._currentUrl=e;var r=this.options.viewPortBuffer||0,n=this._map.getBounds().pad(r),o=new tt(e,n,{opacity:0,pane:this.options.pane,headers:this.options.headers});o.addTo(this._map),this._currentOverlay&&this._currentOverlay.cancelLoad(),o.once("load",(function(){t._map&&(o._url===t._currentUrl?(t._currentOverlay&&t._map.removeLayer(t._currentOverlay),t._currentOverlay=o,o.setOpacity(void 0!==t.options.opacity?t.options.opacity:1),!0===t.options.isBack&&o.bringToBack(),!1===t.options.isBack&&o.bringToFront(),void 0!==t.options.zIndex&&o.setZIndex(t.options.zIndex)):t._map.removeLayer(o))}),this);var i=this.options,a=i.minZoom,u=i.maxZoom;(a&&this._map.getZoom()<a||u&&this._map.getZoom()>u)&&this._map.removeLayer(o)}}}},{key:"setOpacity",value:function(t){this.options.opacity=t,this._currentOverlay&&this._currentOverlay.setOpacity(t)}},{key:"bringToBack",value:function(){this.options.isBack=!0,this._currentOverlay&&this._currentOverlay.bringToBack()}},{key:"bringToFront",value:function(){this.options.isBack=!1,this._currentOverlay&&this._currentOverlay.bringToFront()}},{key:"setZIndex",value:function(t){this.options.zIndex=t,this._currentOverlay&&this._currentOverlay.setZIndex(t)}},{key:"updateWmsParams",value:function(t){t||(t=this._map);var e=this.options.viewPortBuffer||0,r=t.getBounds().pad(e),n=t.getSize();if(0!==this.options.viewPortBuffer){var i=e+1;n.x=Math.ceil(n.x*i),n.y=Math.ceil(n.y*i)}var a=parseFloat(this.wmsParams.version),u=this.options.crs||t.options.crs,c=a>=1.3?"crs":"srs";if(u){var s=u.project(r.getNorthWest()),l=u.project(r.getSouthEast()),f={width:n.x,height:n.y};f[c]=u.code,f.bbox=(a>=1.3&&u===o.CRS.EPSG4326?[l.y,s.x,s.y,l.x]:[s.x,l.y,l.x,s.y]).join(","),o.Util.extend(this.wmsParams,f)}}},{key:"getImageUrl",value:function(){var t=this.options.uppercase||!1,e=o.Util.getParamString(this.wmsParams,this._url,t);return this._url+e}}])&&rt(e.prototype,r),u}(o.Layer);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(r),!0).forEach((function(e){mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ht(t,e){return ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ht(t,e)}function vt(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(t)}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dt(n);if(o){var r=dt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return vt(this,t)});function a(){var t;pt(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return mt(bt(t=i.call.apply(i,[this].concat(r))),"layer",void 0),t}return e=a,(r=[{key:"addLayer",value:function(t){var e=t&&t.url;if(e){var r=(t=ft({transparent:!0},t)).updateWmsParams;if(this.layer=new ct(e,ft(ft(ft({pane:this.pane,headers:t.headers,setViewDelay:t.setViewDelay},t),t.params),t.nativeOptions)),r){var n=this.layer.updateWmsParams;this.layer.updateWmsParams=function(t){n.call(this,t),this.wmsParams=r(this.wmsParams)}}return this.layer}}}])&&yt(e.prototype,r),a}(R);function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pt(t,e){return Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pt(t,e)}function jt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Et(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(n);if(i){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return jt(this,t)});function u(){var t;_t(this,u);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=a.call.apply(a,[this].concat(r))).options.setViewDelay&&(t._update=(0,p.D)((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(e=o.GridLayer.prototype._update).call.apply(e,[kt(t)].concat(n))}),t.options.setViewDelay)),t}return e=u,(r=[{key:"createTile",value:function(t,e){var r=this.getTileUrl(t),n=document.createElement("img");return n.abort=N(r,(function(t){n.src=t,e(null,n)}),this.options.headers),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n}},{key:"_abortLoading",value:function(){var t=this._tiles,e=this._tileZoom;for(var r in t)if(t[r].coords.z!==e){var n=t[r].el;n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.complete||(n.abort&&n.abort(),n.src=o.Util.emptyImageUrl,o.DomUtil.remove(n),delete t[r])}}}])&&wt(e.prototype,r),u}(t)}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Lt(t,e){return Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lt(t,e)}function Rt(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}var xt=Et(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Tt(e);if(r){var o=Tt(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Rt(this,t)});function o(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r=n.call(this,t,e),Object.assign(r.options,e),r}return o}(o.TileLayer));function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}var Bt=["url"];function At(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?At(Object(r),!0).forEach((function(e){It(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function It(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zt(t,e){return zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zt(t,e)}function Ft(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(n);if(i){var r=Gt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ft(this,t)});function u(){return Zt(this,u),a.apply(this,arguments)}return e=u,(r=[{key:"addLayer",value:function(t){if(this.options=Object.assign(this.options,t),t){var e=t.url,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Bt);if(e){var n=Mt({pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom},r.nativeOptions);return r.subdomains&&(n.subdomains=r.subdomains),r.headers?new xt(e,Mt(Mt({},n),{},{headers:r.headers,setViewDelay:r.setViewDelay})):new o.TileLayer(e,n)}}}}])&&Ut(e.prototype,r),u}(R);function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Ht(t,e){return Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ht(t,e)}function Nt(t,e){if(e&&("object"===Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}var qt=Et(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=$t(e);if(r){var o=$t(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Nt(this,t)});function o(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,t,e)}return o}(o.TileLayer.WMS));function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}var Xt=["url"];function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function re(t,e){return re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},re(t,e)}function ne(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oe(n);if(i){var r=oe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return ne(this,t)});function u(){return te(this,u),a.apply(this,arguments)}return e=u,(r=[{key:"addLayer",value:function(t){Object.assign(this.options,t);var e=t.url,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Xt);if(e){var n=Qt({pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom,layers:t.layers,format:t.format},t.nativeOptions);return r.headers?new qt(e,Qt(Qt({},n),{},{headers:r.headers})):new o.TileLayer.WMS(e,n)}}}])&&ee(e.prototype,r),u}(R);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){se(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function se(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pe(t,e,r){return pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ve(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},pe(t,e,r||t)}function ye(t,e){return ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ye(t,e)}function he(t,e){if(e&&("object"===ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ve(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ve(n);if(o){var r=ve(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return he(this,t)});function a(){return le(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"addLayer",value:function(t){return pe(ve(a.prototype),"addLayer",this).call(this,ce(ce({name:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},t),{},{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}))}}])&&fe(e.prototype,r),a}(Vt);function de(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||me(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){if(t){if("string"==typeof t)return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(t,e):void 0}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach((function(e){Pe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function we(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var je=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,"options",{target:"map"}),Pe(this,"layerAdapters",t.layerAdapters),Pe(this,"controlAdapters",t.controlAdapters),Pe(this,"emitter",new n.EventEmitter),Pe(this,"map",void 0),Pe(this,"_unselectCb",[]),Pe(this,"_universalEvents",["move","zoom","moveend","zoomend","zoomstart","movestart"])}var e,r;return e=t,r=[{key:"create",value:function(t){var e=this;if(this.options=_e({},t),this.options.target){var r=this.options,n=r.zoom,i=r.center,a=r.maxZoom,u=r.minZoom,c=r.maxBounds,s=r.mapAdapterOptions;this.map=new o.Map(this.options.target,_e({attributionControl:!1,zoomControl:!1,maxBounds:c&&[[c[1],c[0]],[c[3],c[2]]],maxZoom:a,minZoom:u,center:i&&[i[1],i[0]],zoom:n},s));var l=this.map.createPane("order-0");this.map._addUnselectCb=function(t){e._addUnselectCb(t)},l.style.zIndex=String(0),this.emitter.emit("create",this),this._addMapListeners()}}},{key:"destroy",value:function(){this.map&&this.map.remove()}},{key:"getContainer",value:function(){return this.map&&this.map.getContainer()}},{key:"getControlContainer",value:function(){var t=this.map&&this.map._controlContainer;if(t)return t;throw new Error("Leaflet Map is not initialized yet")}},{key:"setCursor",value:function(t){this.map&&(this.map.getContainer().style.cursor=t)}},{key:"setView",value:function(t,e){var r=de(t,2),n=r[0],o=r[1];this.map&&("number"==typeof e?this.map.setView([o,n],e,{animate:!1}):this.setCenter([n,o]))}},{key:"setCenter",value:function(t){var e=de(t,2),r=e[0],n=e[1];this.map&&this.map.panTo([n,r])}},{key:"getCenter",value:function(){var t=this.map;if(t){var e=t.getBounds().getCenter();return[e.lng,e.lat]}}},{key:"setZoom",value:function(t){this.map&&this.map.setZoom(t)}},{key:"getZoom",value:function(){return this.map&&this.map.getZoom()||void 0}},{key:"getBounds",value:function(){if(this.map){var t=this.map.getBounds(),e=t.getSouthWest(),r=t.getNorthEast();return[e.lng,e.lat,r.lng,r.lat]}}},{key:"fitBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.map){var r=e.maxZoom,n=e.offset,o=e.padding,i={};r&&(i.maxZoom=r),o&&(i.padding=[o,o]),n&&(i.padding=n),this.map.fitBounds([[t[3],t[0]],[t[1],t[2]]],i)}}},{key:"getLayerAdapter",value:function(e){return t.layerAdapters[e]}},{key:"createControl",value:function(t,e){return a(t,e,this)}},{key:"createButtonControl",value:function(t){return function(t,e){var r=document.createElement("a"),n=t.title||"";r.href="#",r.title=n,r.setAttribute("role","button"),r.setAttribute("aria-label",n),o.DomEvent.disableClickPropagation(r),o.DomEvent.on(r,"click",o.DomEvent.stop),t.html instanceof HTMLElement?r.appendChild(t.html):"string"==typeof t.html&&(r.innerHTML=t.html);var i=function(e){e.stopPropagation(),t.onClick()};return a({onAdd:function(){return void 0!==t.onClick&&r.addEventListener("click",i),r},onRemove:function(){var e=r.parentNode;e&&e.removeChild(r),void 0!==t.onClick&&r.removeEventListener("click",i)}},{bar:!0},e)}(t,this)}},{key:"addControl",value:function(t,e){if(t.options.position=e.replace("-",""),this.map)return this.map.addControl(t),t}},{key:"removeControl",value:function(t){this.map&&this.map.removeControl(t)}},{key:"removeLayer",value:function(t){t&&t.remove&&t.remove()}},{key:"showLayer",value:function(t){this.map&&t.addTo(this.map)}},{key:"hideLayer",value:function(t){t.remove()}},{key:"setLayerOpacity",value:function(t,e){"setOpacity"in t&&t.setOpacity(e)}},{key:"setLayerOrder",value:function(t,e,r){}},{key:"onMapClick",value:function(t){var e=i(t);this.emitter.emit("preclick",e),this.emitter.emit("click",e)}},{key:"locate",value:function(t,e){var r=this.map;if(r&&(r.locate(t),e)){var n=e.locationfound,o=e.locationerror,i=function(t){var e=t,r=[e.latlng.lng,e.latlng.lat];n({lngLat:r})};return void 0!==n&&r.on("locationfound",i,this),o&&r.on("locationerror",o,this),{stop:function(){void 0!==n&&r.off("locationfound",i),o&&r.off("locationerror",o)}}}return{stop:function(){}}}},{key:"_addUnselectCb",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=me(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(this._unselectCb);try{for(r.s();!(e=r.n()).done;)(0,e.value)()}catch(t){r.e(t)}finally{r.f()}this._unselectCb.length=0,this._unselectCb.push(t)}},{key:"_addMapListeners",value:function(){var t=this,e=this.map;e&&(e.on("click",(function(e){t.onMapClick(e)})),this._universalEvents.forEach((function(r){e.on(r,(function(){return t.emitter.emit(r,t)}),e)})))}}],r&&we(e.prototype,r),t}();Pe(je,"layerAdapters",{GEOJSON:H,IMAGE:Ot,TILE:Vt,WMS:ie,OSM:be}),Pe(je,"controlAdapters",{ZOOM:o.Control.Zoom,ATTRIBUTION:f}),Pe(je,"Map",o.Map);var ke=je}}]);
//# sourceMappingURL=main-4aa8b69d5204845.js.map