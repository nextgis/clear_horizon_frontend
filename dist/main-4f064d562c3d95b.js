(self.webpackChunkclear_horizon=self.webpackChunkclear_horizon||[]).push([[42],{1841:function(e,t,n){"use strict";n(5666);var r=n(6601),o=(n(1539),n(8674),n(7941),n(2526),n(7327),n(5003),n(4747),n(9337),n(2479),n(2222),n(9600),n(1249),n(8309),n(9653),n(7042),n(1038),n(8783),n(1817),n(2165),n(6992),n(3948),n(2010)),i=n.n(o),a=n(6826),s=n(757),c=n(8907),u=n(5020),l=n(5502),f=(n(9720),n(8956)),p=n.n(f);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(4916),n(5306),n(4603),n(9714);var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"ngwMap",void 0),_(this,"_resourceItems",{})}var t,n,r,o,i;return t=e,(n=[{key:"setNgwMap",value:function(e){this.ngwMap=e}},{key:"createPopupContent",value:function(e,t){var n=document.createElement("div"),r=document.createElement("div");r.className="properties";var o=Object.entries(e.properties).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||y(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{key:r[0],value:r[1]}}));if(r.innerHTML=this.createPropertiesHtml(o),t){var i=document.createElement("div");i.appendChild(r),n.innerHTML="Загрузка",this.updateElementContent(i,t,e).then((function(){n.innerHTML="",n.appendChild(i)}))}else n.appendChild(r);return n}},{key:"createPropertiesHtml",value:function(e){var t="";return e.forEach((function(e){var n=e.key,r=e.value;"object"===v(r)&&r&&("year"in r?r=[r.day,r.month,r.year].join("."):"hour"in r&&(r=[r.hour,r.minute].join(":"))),t+='\n      <div class="columns is-mobile">\n        <div class="column is-two-fifths">'.concat(n,'</div>\n        <div class="column">').concat(function(e){return"string"==typeof e&&(t=e,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t))?'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>"):e;var t}(r),"</div>\n      </div>\n      ")})),t}},{key:"updateElementContent",value:(i=m(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getResourceItem(n);case 2:return(o=e.sent).feature_layer&&(i=[],o.feature_layer.fields.forEach((function(e){if(e.grid_visibility){var t=r.properties[e.keyname];t&&i.push({key:e.display_name,value:t})}})),a=this.createPropertiesHtml(i),(s=t.getElementsByClassName("properties")[0])&&(s.innerHTML=a)),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"_addPhotos",value:(o=m(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=document.createElement("div")).className="carousel attachment",a=h(n),e.prev=3,a.s();case 5:if((s=a.n()).done){e.next=20;break}return c=s.value,(u=document.createElement("figure")).className="image is-".concat(300,"x").concat(300),e.next=13,this._loadImage(c,{width:300,height:300,id:r,fid:o});case 13:l=e.sent,(f=document.createElement("img")).src=l,u.appendChild(f),i.appendChild(u);case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:t.appendChild(i),p().attach(i);case 30:case"end":return e.stop()}}),e,this,[[3,22,25,28]])}))),function(e,t,n,r){return o.apply(this,arguments)})},{key:"_getResourceItem",value:(r=m(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resourceItems[t]){e.next=5;break}return e.next=3,this.ngwMap.connector.get("resource.item",null,{id:t});case 3:n=e.sent,this._resourceItems[t]=n;case 5:return e.abrupt("return",this._resourceItems[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_loadImage",value:function(e,t){var n=this;return new Promise((function(r,o){var i=t.width,a=t.height,s="/api/resource/"+t.id+"/feature/"+t.fid+"/attachment/".concat(e.id,"/image")+(i&&a?"?size=".concat(i,"x").concat(a):"");n.ngwMap.connector.makeQuery(s,{},{responseType:"blob"}).then((function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){r(t.result)}})).catch((function(e){o(e)}))}))}}])&&g(t.prototype,n),e}(),k=n(6273),O=n.n(k);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,M(this,"_container",document.createElement("div")),M(this,"_content",void 0),M(this,"_toggle",void 0),M(this,"status",void 0),this.status=void 0===this.options.open||this.options.open,this._updateContainer(),this.options.parent&&this.options.parent.appendChild(this.getContainer())}var t,n;return t=e,(n=[{key:"getContainer",value:function(){return this._container}},{key:"open",value:function(){this._content&&!this._content.innerHTML&&this._updateContent(),this._toggle&&(this._toggle.innerHTML=this._getToggleButtonHtml("fas fa-chevron-up")),this.status=!0}},{key:"close",value:function(){this._cleanContent(),this._toggle&&(this._toggle.innerHTML=this._getToggleButtonHtml("fas fa-chevron-down")),this.status=!1}},{key:"toggle",value:function(){this.status?this.close():this.open()}},{key:"_getToggleButtonHtml",value:function(e){return'\n    <a class="button is-small">\n    <span class="icon is-small">\n      <i class="'.concat(e,'"></i>\n    </span>\n    </a>\n    ')}},{key:"_updateContainer",value:function(){if(this._container.innerHTML="",this.options.title){var e=this._createHeader();this._container.appendChild(e)}var t=document.createElement("div");t.className="panel-content",this._content=t,this._container.appendChild(t),this.status?this.open():this.close()}},{key:"_createHeader",value:function(){var e=this,t=document.createElement("div");t.className="level is-mobile panel-header";var n=document.createElement("div");n.className="level-left";var r=document.createElement("div");r.className="level-item panel-header__title",r.innerHTML=this.options.title||"",n.appendChild(r);var o=document.createElement("div");o.className="level-right";var i=document.createElement("div");return i.className="level-item panel-header__toggle",o.appendChild(i),i.onclick=function(){e.toggle()},this._toggle=i,t.appendChild(n),t.appendChild(o),t}},{key:"_cleanContent",value:function(){this._content&&(this._content.innerHTML="")}},{key:"_updateContent",value:function(){if(this._cleanContent(),this._content){var e="function"==typeof this.options.content?this.options.content():this.options.content;this._content.appendChild(e)}return this._content}}])&&C(t.prototype,n),e}(),j=n(9256);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="_container")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r;var o=this._createTreeItem(t);o&&(this._container=o)}var t,n;return t=e,(n=[{key:"getContainer",value:function(){return this._container}},{key:"_createTreeBranch",value:function(e){var t=this,n=document.createElement("div");return n.className="tree-container__item-children",e.forEach((function(e){if(e.item){var r=t._createTreeItem(e);r&&n.appendChild(r)}})),n}},{key:"_createTreeItem",value:function(e){var t=e.item;if(!t)return!1;var n=document.createElement("div");if(n.className="tree-container__item",t.display_name){var r=document.createElement("input");r.setAttribute("type","checkbox");var o="layer"!==t.item_type||t.layer_enabled;r.checked=o;var i=e.properties.property("visibility");i&&(i.emitter.on("change",(function(e){r.checked=e.value})),r.onclick=function(){i.set(r.checked,{propagation:j.y9.keys.pressed("ctrl")})});var a=document.createElement("span");a.innerHTML=t.display_name,n.appendChild(r),n.appendChild(a)}if("group"===t.item_type||"root"===t.item_type&&t.children.length){var s=e.tree.getChildren(),c=this._createTreeBranch(s.reverse());n.appendChild(c)}return n}}])&&E(t.prototype,n),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(8304),n(489),n(2419),n(4819),n(3123),n(3210);var D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,x(this,"ngwMap",void 0),x(this,"_container",void 0),this.ngwMap=t.ngwMap,this._container=this._createContainer()}var t,n;return t=e,(n=[{key:"getContainer",value:function(){return this._container}},{key:"_createContainer",value:function(){var e=this,t=document.createElement("div");t.className="fires-contentainer panel-content-padding ";var n=document.createElement("div");return n.className="fires-contentainer__layers",this.options.fires.forEach((function(t){e._createFireItem(t,n)})),t.appendChild(n),t}},{key:"onLayerAdd",value:function(e,t){var n=this,r=this.options.ngwMap,o=r&&r.getLayer(e);if(o)t(o);else{this.ngwMap.emitter.on("layer:add",(function r(o){o.id===e&&(t(o),n.ngwMap.emitter.off("layer:add",r))}))}}},{key:"_createFireItem",value:function(e,t){var n=this,o=document.createElement("div");o.className="tree-container__item";var i=e.id;(0,r.ri)(i)&&this.onLayerAdd(i,(function(r){return function(r){var a=r.item;if(a){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.checked=!0,s.onclick=function(){n.ngwMap.toggleLayer(i,s.checked)};var c=document.createElement("span"),u=a.resource.display_name.split("__")[0];c.innerHTML=u.replace("fires","").trim();var l=n._createSymbol(e);o.appendChild(s),o.appendChild(l),o.appendChild(c),t.appendChild(o)}}(r)}))}},{key:"_createSymbol",value:function(e){var t,n=document.createElement("span");n.className="item-symbol";var r=(null===(t=e.adapterOptions)||void 0===t?void 0:t.paint).color;return"string"==typeof r&&(n.style.color=r,n.style.borderColor=r,n.style.backgroundColor=r),n}}])&&S(t.prototype,n),e}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=[["24","24 часа"],["48","48 часов"],["72","72 часа"],["168","неделя"]],U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(o);if(i){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function s(){return R(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"_createContainer",value:function(){var e=N(F(s.prototype),"_createContainer",this).call(this),t=this._createSelector();return e.insertBefore(t,e.firstChild),e}},{key:"_createSelector",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("label");n.appendChild(document.createTextNode("Просмотр термоточек: "));var o=document.createElement("select");return H.forEach((function(e){var t=document.createElement("option");t.value=e[0],t.text=e[1],o.appendChild(t)})),o.onchange=function(){e.options.fires.forEach((function(t){var n=t.id;if((0,r.ri)(n)){var i=e.ngwMap.getLayer(n);i.propertiesFilter&&i.propertiesFilter([["timestamp","ge",Math.floor(Date.now()/1e3)-3600*Number(o.value)]])}}))},n.appendChild(o),t.appendChild(n),t}}])&&B(t.prototype,n),s}(D);function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,q(this,"ngwMap",void 0),q(this,"_container",void 0),q(this,"_baseMapsContainer",void 0),this.ngwMap=t.ngwMap,this._container=this._createContainer(),this.ngwMap.emitter.on("layer:add",(function(e){n.ngwMap.isBaseLayer(e)&&n._updateBaseMapContainer()}))}var t,n;return t=e,(n=[{key:"getContainer",value:function(){return this._container}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.className="basemaps-contentainer panel-content-padding control";var t=document.createElement("div");return t.className="basemaps-contentainer__layers",this._baseMapsContainer=t,e.appendChild(t),this._updateBaseMapContainer(),e}},{key:"_updateBaseMapContainer",value:function(){var e=this;this._baseMapsContainer&&(this._baseMapsContainer.innerHTML=""),this._createBaseMapItem(),this.ngwMap.getBaseLayers().forEach((function(t){var n=e.ngwMap.getLayer(t);n&&e._createBaseMapItem(n)}))}},{key:"_createBaseMapItem",value:function(e){var t=this,n=document.createElement("div");n.className="control";var r=document.createElement("label");r.className="radio basemap-container__item";var o=document.createElement("input");o.setAttribute("type","radio"),o.setAttribute("name","basemap"),o.checked=!!e&&this.ngwMap.isLayerVisible(e),o.onclick=function(){if(e&&e.id)t.ngwMap.toggleLayer(e.id,o.checked);else{var n=t.ngwMap.getActiveBaseLayer();n&&t.ngwMap.hideLayer(n)}};var i=e&&(e.name||e.options.name)||"Blank",a=document.createTextNode(i);r.appendChild(o),r.appendChild(a),n.appendChild(r),this._baseMapsContainer&&this._baseMapsContainer.appendChild(n)}}])&&z(t.prototype,n),e}(),G=(n(9826),n(5243));function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,K(this,"ngwMap",void 0),K(this,"_container",void 0),this.ngwMap=t.ngwMap,this._container=this._createContainer()}var t,n;return t=e,(n=[{key:"getContainer",value:function(){return this._container}},{key:"_createContainer",value:function(){var e=this,t=document.createElement("div");t.className="bookmarks-contentainer panel-content-padding ";var n=document.createElement("div");return n.className="bookmarks-contentainer__layers",this.options.bookmarks.forEach((function(n){e.ngwMap.connector.get("resource.item",null,{id:n.id}).then((function(r){if(r.feature_layer){var o=r.feature_layer.fields.find((function(e){return e.label_field}));o&&e.ngwMap.fetchNgwLayerItems({resourceId:n.id}).then((function(n){n.forEach((function(n){var r=e._createBookmarkItem(n,o.keyname);t.appendChild(r)}))}))}}))})),t.appendChild(n),t}},{key:"_createBookmarkItem",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",r=document.createElement("div");r.className="tree-container__item bookmark";var o=document.createElement("div"),i=e.fields[n];return o.innerHTML=String(i),o.onclick=function(){var n=new G.GeoJSON(e.geom),r=t.ngwMap.mapAdapter.map;r&&r.fitBounds(n.getBounds())},r.appendChild(o),r}}])&&$(t.prototype,n),e}(),V=n(8527),Q=n(3550),W=n.n(Q),X=n(8809);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return(ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(r);if(o){var n=fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return le(this,e)});function a(){return ae(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"_createContainer",value:function(){var e=ce(fe(a.prototype),"_createContainer",this).call(this),t=this._createCalendar();return e.insertBefore(t,e.firstChild),e}},{key:"_createCalendar",value:function(){var e=this,t=document.createElement("div"),n=this.options.fires[0],r=this.options.ngwMap.connector,o=n.resource;if(n&&o&&r){var i,a,c=(null===(i=n.adapterOptions)||void 0===i||null===(a=i.props)||void 0===a?void 0:a.dateField)||"field_9";r.getResourceIdOrFail(o).then((function(o){var i={resourceId:o,fields:[c],geom:!1,connector:r,limit:1},a=[(0,s.nm)(oe(oe({},i),{},{orderBy:[c]}))];Promise.all(a).then((function(r){var o=te(r,2),i=[o[0],o[1]].map((function(t){var n=t&&t[0];if(n){var r=n.fields[c];if(r)return e._parseNgwDate(r)}})),a=new Date;e.onLayerAdd(n.id||String(n.resource),(function(n){var r=e._buildCalendarBlock(n,[i[0],a],c);t.appendChild(r)}))}))}))}return t}},{key:"_buildCalendarBlock",value:function(e,t,n){var r=te(t,2),o=r[0],i=r[1],a={onChange:function(t){var r=[];t.start&&r.push([n,"ge",t.start.getTime()]),t.end&&r.push([n,"le",t.end.getTime()]),e.propertiesFilter&&e.propertiesFilter(r)}};return o&&(a.minDate=o,a.startDate=o),i&&(a.maxDate=i,a.endDate=i),function(e){var t=document.createElement("div");t.className="field is-horizontal",t.innerHTML='\n    <div class="field">\n        <input class="input input-from is-small" type="text" >\n    </div>\n    <div class="field">\n        <input class="input input-to is-small" type="text" >\n    </div>\n    ';var n=t.querySelector(".input.input-from"),r=t.querySelector(".input.input-to"),o=[n,r],i=e.onChange,a=e.maxDate,s=e.minDate,c=e.startDate,u=e.endDate,l=new Date,f=c&&u?[c,u]:void 0;return(0,V.Z)(o,{mode:"range",locale:X.Russian,allowInput:!0,maxDate:a||l,minDate:s,defaultDate:f,plugins:[W()({input:r})],onChange:function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];i({start:o,end:a})}}),t}(a)}},{key:"_parseNgwDate",value:function(e){return new Date(e.year,e.month-1,e.day)}}])&&se(t.prototype,n),a}(D);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye={target:"tree"},be=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actionMap=t,ve(this,"options",void 0),ve(this,"sidebar",void 0),ve(this,"_container",void 0),ve(this,"_target",void 0),ve(this,"ngwLayers",void 0),this.options=de(de({},ye),n),"string"==typeof this.options.target){var r=document.getElementById(this.options.target);if(!r)throw new Error("No element with ID #".concat(this.options.target," in document for webmap tree"));this._target=r}else this.options.target instanceof HTMLElement&&(this._target=this.options.target);this.sidebar=new(O())(this._target,{closeButton:!1,position:"left",autoPan:!1}),this.sidebar.addTo(this.actionMap.ngwMap.mapAdapter.map),this.ngwLayers=this.options.ngwLayers,this._container=this._createContainer(),this.options.status||this.hide(),this._target&&this._target.appendChild(this._container)}var t,n;return t=e,(n=[{key:"show",value:function(){this._container.classList.remove("hidden"),this.sidebar.show()}},{key:"hide",value:function(){this.sidebar.hide(),this._container.classList.add("hidden")}},{key:"_createContainer",value:function(){var e=this,t=document.createElement("div");return t.className="tree-container",void 0!==this.options.width&&(t.style.width=this.options.width+"px"),this.options.userFires&&new P({title:"Пожары",content:function(){return e._createUserFiresContainer()},parent:t}),this.options.fires&&new P({title:"Термоточки (FIRMS)",content:function(){return e._createFiresContainer()},parent:t}),new P({title:"Базовые слои",content:function(){return e._createNgwLayers()},open:!1,parent:t}),new P({title:"Подложки",content:function(){return e._createBasemapsContainer()},open:!1,parent:t}),new P({title:"Закладки",content:function(){return e._createBookmarksContainer()},open:!1,parent:t}),t}},{key:"_createNgwLayers",value:function(){var e=document.createElement("div");for(var t in e.className="webmap-tree-container",this.ngwLayers){var n=this.ngwLayers[t],r=new L(n.layer.layer).getContainer();r&&e.appendChild(r)}return e}},{key:"_createBookmarksContainer",value:function(){var e=document.createElement("div"),t=this.options.bookmarks;if(t){var n=new J({bookmarks:t,ngwMap:this.options.ngwMap});e.appendChild(n.getContainer())}return e}},{key:"_createUserFiresContainer",value:function(){var e=document.createElement("div");if(this.options.userFires){var t=new pe({fires:[this.options.userFires],ngwMap:this.options.ngwMap});e.appendChild(t.getContainer())}return e}},{key:"_createFiresContainer",value:function(){var e=document.createElement("div"),t=this.options.fires;if(t){var n=new U({fires:t,ngwMap:this.options.ngwMap});e.appendChild(n.getContainer())}return e}},{key:"_createBasemapsContainer",value:function(){var e=document.createElement("div");if(this.options.fires){var t=new Z({ngwMap:this.options.ngwMap});e.appendChild(t.getContainer())}return e}}])&&me(t.prototype,n),e}(),ge=(n(6977),n(7187));function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};we(this,e),this.actionMap=t,Oe(this,"html",'<i class="fas fa-map-pin btn-control-icon "></i>'),Oe(this,"title",{off:"Полученить координаты с карты",on:"Выключить режим получения координат с карты"}),Oe(this,"addClass","toggle-control webmap-tree-control"),Oe(this,"addClassOn","active"),Oe(this,"status",!1),Oe(this,"emitter",new ge.EventEmitter),Oe(this,"_toggle",void 0),Oe(this,"__onMapClick",void 0),Oe(this,"_layer",void 0),this._toggle=r.toggle,this.actionMap.ngwMap.addLayer("GEOJSON",{id:"show-coordinate-click",visibility:!0,paint:{radius:6},popup:!0,popupOptions:{createPopupContent:function(e){if(e.feature)return n._createPopupContent(e.feature.geometry.coordinates.map((function(e){return e.toFixed(5)})))}}}).then((function(e){e&&(n._layer=e)}))}var t,n;return t=e,(n=[{key:"onClick",value:function(e){this.toggleControl(e)}},{key:"show",value:function(){var e=this;this.actionMap.ngwMap.setCursor("crosshair"),this._removeClickListener(),this.__onMapClick=function(t){return e._onMapClick(t)},this.actionMap.ngwMap.emitter.on("click",this.__onMapClick)}},{key:"hide",value:function(){this.actionMap.ngwMap.setCursor("default"),this._removeClickListener(),this.actionMap.ngwMap.clearLayerData(this._layer)}},{key:"_removeClickListener",value:function(){this.__onMapClick&&(this.actionMap.ngwMap.emitter.off("click",this.__onMapClick),this.__onMapClick=void 0)}},{key:"_onMapClick",value:function(e){var t={type:"Feature",properties:{},geometry:{type:"Point",coordinates:e.lngLat}};this.actionMap.ngwMap.setLayerData(this._layer,t)}},{key:"toggleControl",value:function(e){(e=void 0!==e?e:!this.status)?this.show():this.hide(),this.status=e,this._toggle&&this._toggle(e),this.emitter.emit("status",this.status)}},{key:"_createPopupContent",value:function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],s=document.createElement("div"),c="".concat(a,", ").concat(i);return s.innerHTML='\n    <span>Широта/Долгота:</span>\n    <span class="lat-lng-coord"> '.concat(c,'</span>\n    <a href="#" class="copy-to-clipboard">\n    <i class="far fa-clipboard"></i>\n    </a>'),s.getElementsByClassName("copy-to-clipboard")[0].onclick=function(){r.TU.copy(c)},s}}])&&ke(t.prototype,n),e}(),Me={en:{linearMeasurement:"Distance measurement",areaMeasurement:"Area measurement",start:"Start",meter:"m",kilometer:"km",squareMeter:"m²",squareKilometers:"km²"},ru:{linearMeasurement:"Измерение расстояния",areaMeasurement:"Измерение площади",start:"Старт",meter:"м",kilometer:"км",squareMeter:"м²",squareKilometers:"км²"}};function Pe(e){return e*(Math.PI/180)}function je(e){return Math.pow(e,2)}function Ee(e,t){return e<1e3?Le(e,0)+" "+t.meter:Le(e/1e3,2)+" "+t.kilometer}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=",",r=e<0?"-":"",o=Math.abs(+e||0),i=parseInt(o.toFixed(t),10)+"",a=i.length>3?i.length%3:0;return[r,a?i.substr(0,a)+n:"",i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n),t?"."+Math.abs(o-Number(i)).toFixed(t).slice(2):""].join("")}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1058);var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(r);if(o){var n=Be(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Te(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ne(Re(t=i.call(this,e)),"options",{latlng:null,content:"",className:""}),Ne(Re(t),"_map",void 0),Ne(Re(t),"_offset",new G.Point(0,30)),Ne(Re(t),"_container",void 0),Ne(Re(t),"_contentNode",void 0),Ne(Re(t),"_closeButton",void 0),Ne(Re(t),"_containerBottom",void 0),Ne(Re(t),"_containerLeft",void 0),G.Util.setOptions(Re(t),e),t.options.offset&&(t._offset=t.options.offset),t}return t=a,(n=[{key:"onAdd",value:function(e){return this._map=e,this._container||this._initLayout(),this._container&&e.getPanes().popupPane.appendChild(this._container),e.on("viewreset",this._updatePosition,this),G.Browser.any3d&&e.on("zoomanim",this._zoomAnimation,this),this._update(),this}},{key:"addTo",value:function(e){return e.addLayer(this),this}},{key:"onRemove",value:function(e){return this._container&&e.getPanes().popupPane.removeChild(this._container),e.off("viewreset",this._updatePosition,this),e.off("zoomanim",this._zoomAnimation,this),this._map=null,this}},{key:"setLatLng",value:function(e){return this.options.latlng=(0,G.latLng)(e),this._updatePosition(),this}},{key:"setContent",value:function(e){return this.options.content=e,this._updateContent(),this}},{key:"enableClose",value:function(){return this._closeButton=G.DomUtil.create("span","close",this._container),this._closeButton.innerHTML='<svg class="icon" viewBox="0 0 40 40"><path stroke="#FF0000" stroke-width="3" d="M 10,10 L 30,30 M 30,10 L 10,30" /></svg>',this._closeButton}},{key:"_initLayout",value:function(){this._container=G.DomUtil.create("div",this.options.className),this._contentNode=G.DomUtil.create("div","content",this._container)}},{key:"_update",value:function(){this._map&&(this._updateContent(),this._updatePosition())}},{key:"_updateContent",value:function(){this._contentNode&&this.options.content&&("string"==typeof this.options.content?this._contentNode.innerHTML=this.options.content:(this._contentNode.innerHTML="",this._contentNode.appendChild(this.options.content)))}},{key:"_updatePosition",value:function(){if(this.options.latlng&&this._container){var e=this._map.latLngToLayerPoint(this.options.latlng),t=G.Browser.any3d,n=this._offset;t&&G.DomUtil.setPosition(this._container,e),this._containerBottom=-n.y-(t?0:e.y),this._containerLeft=n.x+(t?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}}},{key:"_zoomAnimation",value:function(e){if(this._container){var t=this._map._latLngToNewLayerPoint(this.options.latlng,e.zoom,e.center);G.DomUtil.setPosition(this._container,t)}}}])&&xe(t.prototype,n),a}(G.Layer);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(r);if(o){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ue(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ze(ze(n=i.call(this,e)),"options",{color:"#FF0080",model:"distance",messages:Me.en}),Ze(ze(n),"_map",void 0),Ze(ze(n),"_measureHandler",void 0),Ze(ze(n),"_finished",void 0),Ze(ze(n),"_startMove",void 0),Ze(ze(n),"_measurementStarted",void 0),Ze(ze(n),"_lastPoint",void 0),Ze(ze(n),"_totalDistance",0),Ze(ze(n),"_trail",{overlays:[],points:[]}),Ze(ze(n),"_directPath",void 0),Ze(ze(n),"_measurePath",void 0),n._map=e,n._measureHandler=ze(n),n._finished=!1,G.Util.setOptions(ze(n),t),n}return t=a,(n=[{key:"setModel",value:function(e){return this.options.model=e,this}},{key:"addHooks",value:function(){this._activeMeasure()}},{key:"removeHooks",value:function(){this._disableMeasure()}},{key:"_activeMeasure",value:function(){this._measureHandler._measurementStarted&&this._measureHandler._finishMeasure(),this._measurementStarted?this._finishMeasure():this._enableMeasure()}},{key:"_onMouseClick",value:function(e){var t=e.latlng||this._map.mouseEventToLatLng(e);if(!this._lastPoint||!t.equals(this._lastPoint)){if(this._trail.points.length>0){var n=this._trail.points;n.push(t);var r=n.length;this._totalDistance+=(o=n[r-2],i=n[r-1],a=Pe(o.lat),c=(s=Pe(i.lat))-a,u=Pe(i.lng-o.lng),l=je(Math.sin(c/2))+Math.cos(a)*Math.cos(s)*je(Math.sin(u/2)),12756274*Math.asin(Math.sqrt(l))),this._addMeasurePoint(t),this._addMarker(t),"area"!==this.options.model&&this._addLable(t,Ee(this._totalDistance,this.options.messages),"leaflet-measure-lable")}else this._totalDistance=0,this._addMeasurePoint(t),this._addMarker(t),"area"!==this.options.model&&this._addLable(t,this.options.messages.start,"leaflet-measure-lable"),this._trail.points.push(t);var o,i,a,s,c,u,l;this._lastPoint=t,this._startMove=!1}}},{key:"_onMouseMove",value:function(e){var t=e.latlng;this._directPath&&this._trail.points.length>0&&(this._startMove?this._directPath.setLatLngs(this._trail.points.concat(t)):(this._directPath.setLatLngs([t]),this._startMove=!0))}},{key:"_enableMeasure",value:function(){this._trail={overlays:[],points:[]};var e=this._map;G.DomUtil.addClass(e.getContainer(),"leaflet-measure-map"),e.contextMenu&&e.contextMenu.disable(),this._measurementStarted=!0,e.on("click",this._onMouseClick,this),e.on("dblclick",this._finishMeasure,this),e.on("contextmenu",this._finishMeasure,this),e.doubleClickZoom.disable(),e.on("mousemove",this._onMouseMove,this),e.fire("measure:start")}},{key:"_disableMeasure",value:function(){var e=this._map;G.DomUtil.removeClass(e.getContainer(),"leaflet-measure-map"),e.contextMenu&&e.contextMenu.enable(),e.off("click",this._onMouseClick,this),e.off("dblclick",this._finishMeasure,this),e.off("contextmenu",this._finishMeasure,this),e.off("mousemove",this._onMouseMove,this),e.doubleClickZoom.enable(),this._measurementStarted=this._startMove=!1,this._finished||this._clearOverlay.call(this),e.fire("measure:stop")}},{key:"_finishMeasure",value:function(e){var t,n,r;this._trail.points.length>0&&(this._trail.points.length>1?(!this._directPath||e&&"contextmenu"!==e.type||this._directPath.setLatLngs(this._trail.points),this._lastPoint&&("area"===this.options.model?this._addLable(this._lastPoint,(t=this._trail.points,n=this.options.messages,(r=Math.round(function(e){for(var t=6378137,n=0,r=e.length,o=e[r-1].lng,i=e[r-1].lat,a=0;a<r;a++){var s=e[a].lng,c=e[a].lat;n+=Pe(s-o)*(2+Math.sin(Pe(i))+Math.sin(Pe(c))),o=s,i=c}return Math.abs(n*t*t/2)}(t)))<1e6?Le(r,0)+" "+n.squareMeter:Le(r/1e6,2)+" "+n.squareKilometers),"leaflet-measure-lable",!0):this._addLable(this._lastPoint,Ee(this._totalDistance,this.options.messages),"leaflet-measure-lable",!0)),this._directPath&&this._map.removeLayer(this._directPath),this._finished=!0):this._clearOverlay.call(this)),this.disable()}},{key:"_resetDirectPath",value:function(e){var t;this._directPath?this._directPath.addLatLng(e):(t="area"===this.options.model?new G.Polygon([e],{weight:2,color:this.options.color,dashArray:[5,5],fillOpacity:0,interactive:!1}):new G.Polyline([e],{weight:2,color:this.options.color,dashArray:[5,5],interactive:!1}),this._map.addLayer(t),this._trail.overlays.push(t),this._directPath=t)}},{key:"_addMeasurePoint",value:function(e){var t;this._measurePath?this._measurePath.addLatLng(e):(t="area"===this.options.model?new G.Polygon([e],{weight:2,color:this.options.color,fillColor:this.options.color,fillOpacity:.5,interactive:!1}):new G.Polyline([e],{weight:2,color:this.options.color,interactive:!1}),this._map.addLayer(t),this._trail.overlays.push(t),this._measurePath=t),this._resetDirectPath(e)}},{key:"_addMarker",value:function(e){var t=new G.CircleMarker(e,{color:this.options.color,opacity:1,weight:1,fillColor:"#FFFFFF",fill:!0,fillOpacity:1,radius:3,interactive:!1});this._map.addLayer(t),this._trail.overlays.push(t)}},{key:"_addLable",value:function(e,t,n,r){var o=this,i=new Ae({latlng:e,content:t,className:n});if(this._map.addLayer(i),this._trail.overlays.push(i),r){var a=i.enableClose();G.DomEvent.on(a,"click",(function(e){G.DomEvent.stopPropagation(e),o._clearOverlay()}),this)}}},{key:"_clearOverlay",value:function(){var e,t=this._trail.overlays,n=0;for(e=t.length;n<e;n++)this._map.removeLayer(t[n])}}])&&Fe(t.prototype,n),a}(G.Handler);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?Xe(e):t}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ye(r);if(o){var n=Ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return We(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),et(Xe(t=i.call(this,e)),"options",{position:"topright",title:"Measurement",collapsed:!0,color:"#FF0080",locale:"en",messages:Me.en}),et(Xe(t),"_map",void 0),et(Xe(t),"_container",void 0),et(Xe(t),"_link",void 0),et(Xe(t),"_contents",void 0),et(Xe(t),"_measureHandler",void 0),G.Util.setOptions(Xe(t),e);var n=e.locale;if(n&&"en"!==n){var r=Me[n];r?t.options.messages=Je(Je({},Me),r):console.error("Measure control has no messages for "+t.options.locale+" locale")}return t}return t=a,(n=[{key:"onAdd",value:function(e){return this._map=e,this._container||this._initLayout()}},{key:"disableMeasure",value:function(){this._measureHandler&&(this._measureHandler.disable(),this._measureHandler=void 0)}},{key:"_buildContainer",value:function(){return this._container=G.DomUtil.create("div","leaflet-control-measure leaflet-bar leaflet-control"),this._contents=G.DomUtil.create("div","leaflet-measure-contents",this._container),this._link=G.DomUtil.create("a","leaflet-measure-toggle",this._container),this._link.title=this.options.title||"Measurement",this._link.href="#",this._buildItems(),this._container}},{key:"_buildItems",value:function(){var e=G.DomUtil.create("ul","leaflet-measure-actions",this._contents),t=G.DomUtil.create("li","leaflet-measure-action",e),n=G.DomUtil.create("a","start",t);n.innerText=this.options.messages.linearMeasurement,n.href="#",G.DomEvent.disableClickPropagation(n),G.DomEvent.on(n,"click",this._enableMeasureLine,this),t=G.DomUtil.create("li","leaflet-measure-action",e);var r=G.DomUtil.create("a","leaflet-measure-action start",t);r.innerText=this.options.messages.areaMeasurement,r.href="#",G.DomEvent.disableClickPropagation(r),G.DomEvent.on(r,"click",this._enableMeasureArea,this)}},{key:"_initLayout",value:function(){var e=this._buildContainer();return G.DomEvent.disableClickPropagation(e),G.DomEvent.disableScrollPropagation(e),this.options.collapsed?G.DomEvent.on(e,{mouseenter:this._expand,mouseleave:this._collapse},this):this._expand(),e}},{key:"_enableMeasureLine",value:function(e){G.DomEvent.stopPropagation(e),this.disableMeasure(),this._map&&(this._measureHandler=new Ge(this._map,{model:"distance",color:this.options.color,messages:this.options.messages}),this._measureHandler.enable())}},{key:"_enableMeasureArea",value:function(e){G.DomEvent.stopPropagation(e),this.disableMeasure(),this._map&&(this._measureHandler=new Ge(this._map,{model:"area",color:this.options.color,messages:this.options.messages}),this._measureHandler.enable())}},{key:"_expand",value:function(){return this._link&&this._container&&(this._link.style.display="none",G.DomUtil.addClass(this._container,"leaflet-measure-expanded")),this}},{key:"_collapse",value:function(){return this._link&&this._container&&(this._link.style.display="block",G.DomUtil.removeClass(this._container,"leaflet-measure-expanded")),this}}])&&Ve(t.prototype,n),a}(G.Control),nt=[];function rt(e,t){nt.push({name:e,stop:t})}function ot(e){nt.forEach((function(t){t.name!==e&&t.stop()}))}function it(e){var t=new tt({locale:"ru"});e.addControl(t,"top-left"),e.onLoad().then((function(){var n=e.mapAdapter.map;n&&(n.on("measure:start",(function(){ot("measure"),e.disableSelection()})),n.on("measure:stop",(function(){e.setCursor("default"),e.enableSelection()}))),rt("measure",(function(){t.disableMeasure()}))}))}function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lt(i,r,o,a,s,"next",e)}function s(e){lt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,ht(this,"ngwMap",void 0),ht(this,"tree",void 0),ht(this,"treeControl",void 0),ht(this,"authControl",void 0),ht(this,"popup",void 0),ht(this,"_promises",{}),this.popup=new w}var t,n,r,o,f,p,h,d;return t=e,(n=[{key:"create",value:(d=ft(regeneratorRuntime.mark((function e(t){var n,r,o,i,s,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ut({},t.mapOptions),r=t.basemaps,o=t.fires,i=t.userFires,s=new a.Z8(ut({mapAdapter:new u.Z,controls:[],minZoom:4,runtimeParams:[new l.Z]},n)),this.ngwMap=s,s.setCursor("default"),this.popup.setNgwMap(s),r&&s.onLoad().then((function(){return r.forEach((function(e,t){s.addBaseLayer("QMS",ut(ut({},e),{},{visibility:0===t}))}))})),s.getPaintFunctions={base:c.q},s.addControl("ZOOM","top-left"),this._createLocateControl(),s.addControl("ATTRIBUTION","bottom-right",{customAttribution:['<a href="https://nextgis.com" target="_blank">©NextGIS</a>']}),it(s),this._createShareControl(),e.next=15,s.getNgwLayers();case 15:return f=e.sent,p=[],Object.values(f).forEach((function(e){var t=e.layer.item&&e.layer.item.webmap&&e.layer.item.webmap.bookmark_resource;t&&p.push(t)})),e.next=20,this._addUserFires(t.userFires);case 20:return e.next=22,this._addFires(t.fires);case 22:this._createGetCoordinateControl(),this._addTreeControl({ngwLayers:f,fires:o,userFires:i,bookmarks:p}),this._addEventsListeners();case 25:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"_locate",value:function(){var e=this;this.ngwMap.locate({setView:!1},{locationfound:function(t){var n=t.lngLat;e.ngwMap.setCenter(n)}})}},{key:"_createAuthControl",value:(h=ft(regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementsByClassName("js-auth-btn")[0],r=function(){return!(!i.ngwMap.connector||!i.ngwMap.connector.user)},o=function(){t.logout(),window.location.reload()},n.innerHTML=r()?"Выйти":"Войти",n.style.display="block",n.addEventListener("click",o);case 6:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"_createShareControl",value:function(){var e=this,t=document.getElementsByClassName("js-modal")[0],n=document.getElementsByClassName("js-modal-close")[0],r=document.getElementsByClassName("js-share-modal-content")[0],o=document.getElementsByClassName("js-share-input")[0];n.addEventListener("click",(function(){r.innerHTML="",t.classList.remove("is-active")}));var a=this.ngwMap.createButtonControl({html:'<i class="fas fa-share-alt btn-control-icon "></i>',onClick:function(){var n,a;n=location.href,a=e._createShareModalContent(n),o.value=n,r.innerHTML=a,i().update(),t.classList.add("is-active")}});this.ngwMap.addControl(a,"bottom-right")}},{key:"_createGetCoordinateControl",value:(p=ft(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ce(this,{toggle:function(e){e?(ot("coordinate"),r.ngwMap.disableSelection()):r.ngwMap.enableSelection()}}),e.next=3,this.ngwMap.createToggleControl(t);case 3:n=e.sent,this.ngwMap.addControl(n,"top-left"),rt("coordinate",(function(){return n.onClick(!1)}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"_createLocateControl",value:function(){var e=this,t=this.ngwMap.createButtonControl({html:'<i class="fas fa-location-arrow btn-control-icon"></i>',title:"Найти меня на карте",onClick:function(){return e._locate()}});this.ngwMap.addControl(t,"top-left")}},{key:"_createShareModalContent",value:function(e){return'<div class="buttons share-btn js-share-btn" data-url="'.concat(e,'" data-title="" data-desc="">\n      ').concat([{id:"tw",name:"Twitter",icon:"fab fa-twitter"},{id:"vk",name:"VK",icon:"fab fa-vk"},{id:"fb",name:"Facebook",icon:"fab fa-facebook-square"}].map((function(e){return'<a class="button is-primary" data-id="'.concat(e.id,'">\n                    <span class="icon">\n                        <i class="').concat(e.icon,'"></i>\n                    </span>\n                    <span>').concat(e.name,"</span>\n                </a>")})).join(""),"\n    </div>")}},{key:"_addUserFires",value:(f=ft(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=t.adapterOptions&&t.adapterOptions.paint?t.adapterOptions.paint:{},this.ngwMap.addNgwLayer({resource:t.resource,id:t.id,adapterOptions:ut({paint:ut(ut({},r),{},{stroke:!0,fillOpacity:.6,radius:5}),selectable:!0,selectedPaint:ut(ut({},r),{},{stroke:!0,fillOpacity:.9,radius:7})},n)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"_addFires",value:(o=ft(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}n=at(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return o=r.value,e.next=8,this._addUserFires(o,{propertiesFilter:[["timestamp","ge",Math.floor(Date.now()/1e3)-3600*Number(this.options.timedelta)]]});case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))),function(e){return o.apply(this,arguments)})},{key:"_addTreeControl",value:(r=ft(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementsByClassName("js-sidebar")[0],r=function(){return n.classList.contains("is-active")},o=function(){return n.classList.add("is-active")},i=function(){return n.classList.remove("is-active")},e.next=6,this.ngwMap.onLoad();case 6:this.tree=new be(this,ut(ut({},t),{},{ngwMap:this.ngwMap})),a=function(e){(e=void 0!==e?e:r())?(ot("tree"),s.tree&&s.tree.show(),o()):(s.tree&&s.tree.hide(),i())},n.addEventListener("click",(function(){a()})),setTimeout((function(){a()}),500),rt("tree",(function(){return a(!1)}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_clean",value:function(){this._promises.getFeaturePromise&&this._promises.getFeaturePromise.cancel&&this._promises.getFeaturePromise.cancel(),this.ngwMap.removeLayer("highlight")}},{key:"_highlighNgwLayer",value:function(e){var t=this;this._clean();var n=(0,s.RP)(e)[0];if(n){var r=n.resourceId;this.ngwMap.fetchIdentifyItem(e,{extensions:["attachment"]}).then((function(e){e&&e.toGeojson().then((function(o){t.ngwMap.addLayer("GEOJSON",{id:"highlight",data:o,visibility:!0,paint:{color:"green",stroke:!0,fillOpacity:"0.8"},selectOnHover:!0,popup:!0,popupOptions:{createPopupContent:function(o){if(o.feature){var i=t.popup.createPopupContent(o.feature,r);return e.extensions.attachment&&e.extensions.attachment.length&&t.popup._addPhotos(i,e.extensions.attachment,n.resourceId,n.featureId),i}}}})}))}))}}},{key:"_addEventsListeners",value:function(){var e=this;this.ngwMap.emitter.on("click",(function(){e.ngwMap.cancelPromises("identify","select")})),this.ngwMap.emitter.on("ngw:select",(function(t){return t&&e._highlighNgwLayer(t)}))}}])&&pt(t.prototype,n),e}();function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n&&n.classList.toggle("is-active")}))}))}));var wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bt(this,e),this.options=t,_t(this,"actionMap",void 0),this.actionMap=new dt(t)}var t,n,r,o;return t=e,(n=[{key:"create",value:(r=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=vt(vt({},this.options),t),this.showContent(),e.next=4,this.actionMap.create(this.options);case 4:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){yt(i,n,o,a,s,"next",e)}function s(e){yt(i,n,o,a,s,"throw",e)}a(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"showContent",value:function(){var e=document.getElementById("app"),t=document.getElementById("app-loading");t&&(t.style.display="none"),e&&(e.style.display="block")}}])&&gt(t.prototype,n),e}(),kt={};try{kt=n(1761).Z}catch(e){console.warn("Config file is not funded, run with default settings")}new wt((0,r.vb)({mapOptions:{target:"map",bounds:[36.59,43.385,49.374,50.214]},timedelta:24},kt)).create()}},function(e){"use strict";e.O(0,[384,956,884,34,484,243,556,385,185,888,365,471,189,692],(function(){return 1841,e(e.s=1841)})),e.O()}]);
//# sourceMappingURL=main-4f064d562c3d95b.js.map