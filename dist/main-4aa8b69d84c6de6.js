/*! For license information please see main-4aa8b69d84c6de6.js.LICENSE.txt */
"use strict";(self.webpackChunkclear_horizon=self.webpackChunkclear_horizon||[]).push([[185],{78907:function(t,e,r){r.d(e,{q:function(){return i}}),r(92222);var n={brill:'<path d="m6 0-5 6 5 6 5-6z"/>',circle:'<circle cx="6" cy="6" r="6"/>',rect:'<rect width="12" height="12"/>',marker:'<path d="m6 0c-1.85 0-4 1.19-4 4.22 0 2.05 3.08 6.59 4 7.78 0.821-1.19 4-5.62 4-7.78 0-3.03-2.15-4.22-4-4.22z"/>',cross:'<path d="M 2.4,12 6,8.4 9.6,12 12,9.6 8.4,6 12,2.4 9.6,0 6,3.6 2.4,0 0,2.4 3.6,6 0,9.6 Z"/>',star:'<path d="m6 0.25 1.71 4.18 4.29-1.04e-4 -3.43 3.14 0.857 4.18-3.43-3.14-3.43 3.14 0.857-4.18-3.43-3.14 4.29-0.209z"/>',triangle:'<path d="m12 11.7h-12l6-11.2z"/>',plus:'<path d="m7.5 12v-4.5h4.5v-3h-4.5v-4.5h-3v4.5h-4.5v3h4.5v4.5z"/>',minus:'<path d="m12 7.5v-3h-12v3z"/>',asterisk:'<path d="m7.59 12v-3.27l2.83 1.64 1.58-2.74-2.85-1.64 2.83-1.64-1.56-2.74-2.83 1.64v-3.24h-3.17v3.24l-2.85-1.64-1.57 2.74 2.84 1.64-2.84 1.64 1.57 2.74 2.85-1.64v3.27z"/>'},o=.8;function i(){var t,e,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=null!==(t=a.shape)&&void 0!==t?t:"circle",c=null!==(e=a.color)&&void 0!==e?e:"blue",s=null!==(r=a.strokeColor)&&void 0!==r?r:"white",l=null!==(i=a.size)&&void 0!==i?i:12,f=l/2,p="number"==typeof a.stroke?a.stroke:o,y=l/12,h=a.p||n[u]||"circle",v="string"==typeof h?h:h(a),b=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml").documentElement}(a.svg||function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=r/2;return'<svg\n    version="1.1"\n    xmlns="http://www.w3.org/2000/svg"\n    width="'.concat(t,'"\n    height="').concat(e,'"\n    viewBox="-').concat(o," -").concat(o," ").concat(t+r," ").concat(e+r,'"\n  >').concat(n,"</svg>")}(l,l,p*y,v)),d=b.firstChild,m="scale(".concat(y,")");return d.setAttribute("fill",c),p&&(d.setAttribute("stroke",s),d.setAttribute("stroke-width",String(p))),d.setAttribute("transform",m),{type:"icon",iconSize:[l,l],iconAnchor:[f,f],html:(new XMLSerializer).serializeToString(b),svg:b}}},76952:function(t,e,r){r.d(e,{w8:function(){return v},ck:function(){return Z}}),r(96649),r(96078),r(82526),r(41817),r(41539),r(9653),r(69070),r(47941),r(57327),r(38880),r(54747),r(49337),r(33321),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(74916);var n=r(44034);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"item",void 0),u(this,"_children",[]),u(this,"_parent",void 0),this.item=e}var e,r;return e=t,(r=[{key:"setParent",value:function(t){this._parent=t}},{key:"addChild",value:function(t){this._children.push(t)}},{key:"getParent",value:function(){return this._parent}},{key:"getParents",value:function(t){var e=this.getParent();return e?(0,n.Zm)(e,t,(function(t){return t.tree.getParent()})):[]}},{key:"getRoot",value:function(){for(var t=this.getParent(),e=t;t;)(t=t.tree.getParent())&&(e=t);return e}},{key:"find",value:function(t){return(0,n.Ql)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"every",value:function(t){return(0,n.qL)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"some",value:function(t){return(0,n.cC)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"all",value:function(t){return this.getDescendants(t)}},{key:"getDescendants",value:function(t){return(0,n.Zm)(this._children,t,(function(t){return t.tree.getChildren()}))}},{key:"getChildren",value:function(){return function(t){if(Array.isArray(t))return i(t)}(t=this._children)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=(r(21249),r(19601),r(68304),r(30489),r(12419),r(69826),r(17187));function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function y(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var v=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"options",void 0),y(this,"emitter",new l.EventEmitter),y(this,"name",void 0),y(this,"item",void 0),y(this,"_blocked",!1),y(this,"_container",void 0),y(this,"_value",void 0),y(this,"_removeEventsListener",void 0),this.item=r,this.options=Object.assign({},n),this.name=e,this._value=this.getProperty()}var e,r;return e=t,(r=[{key:"getProperty",value:function(){return"function"==typeof this.options.getProperty?this.options.getProperty.call(this,this.item):this.options.value}},{key:"getParents",value:function(){return this.item.tree.getParents()||[]}},{key:"getParent",value:function(){return this.item.tree.getParent()}},{key:"getChildren",value:function(){return this.item.tree.getChildren()}},{key:"isGroup",value:function(){return this.item.tree.getDescendants().length}},{key:"isBlocked",value:function(){var t=this;if(void 0===this._blocked){var e=this.item.tree.getParents();if(e){var r=e.find((function(e){var r=e.properties&&e.properties.property(t.name);return!!r&&!r.get()}));this._blocked=!!r}else this._blocked=!1}return this._blocked}},{key:"set",value:function(t,e){this._value=this._prepareValue(t),this.update(this._value,e),this._fireChangeEvent(this._value,e)}},{key:"get",value:function(){return this.getValue()}},{key:"update",value:function(t,e){this._callOnSet(t,e)}},{key:"getContainer",value:function(){return this._container}},{key:"destroy",value:function(){if(this._container){var t=this._container.parentNode;t&&t.removeChild(this._container)}this._removeEventsListener&&this._removeEventsListener()}},{key:"getValue",value:function(){return void 0!==this._value?this._value:this.getProperty()}},{key:"_prepareValue",value:function(t){return t}},{key:"_callOnSet",value:function(t,e){this.options.onSet&&this.options.onSet.call(this,t,e,this.item)}},{key:"_fireChangeEvent",value:function(t,e){var r=this;this.emitter&&(t=void 0!==t?t:this.getValue(),this.emitter.emit("change",{value:t,options:e}),this.item.tree.getParents().forEach((function(n){var o=n.properties&&n.properties.property(r.name);o&&o.emitter.emit("change-tree",{value:t,options:e,item:r.item})})))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){P(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function P(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(n);if(o){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t,e,m(m({},a.options),r))).set(n.get()),n}return e=a,(r=[{key:"update",value:function(t,e){if(t){if(e&&e.bubble||this.options.bubble){this.unBlock(e);var r=this.getParent(),n=r&&r.properties&&r.properties.property(this.name);n&&n.set(t,Object.assign({},e,{bubble:!0,propagation:!1}))}this.isBlocked()||this._turnOn(e)}else this._turnOff(e);(e&&e.propagation||this.options.propagation)&&this._propagation(t,e)}},{key:"getHierarchyValue",value:function(){var t=this;return this.get()&&this.getParents().every((function(e){var r=e.properties&&e.properties.get(t.name);return r&&r.get()}))}},{key:"block",value:function(t){this._blocked=!0,this._block(t)}},{key:"unBlock",value:function(t){this._blocked=!1,this.getValue()&&this._unBlock(t)}},{key:"blockChild",value:function(t){var e=this;this.item.tree.getDescendants().forEach((function(r){return e._blockChild(r,t)}))}},{key:"unblockChild",value:function(t){var e=this;this.item.tree.getChildren().forEach((function(r){return e._unBlockChild(r,t)}))}},{key:"_prepareValue",value:function(t){return t}},{key:"_turnOff",value:function(t){this.options.turnOff&&this.options.turnOff.call(this,t),this._callOnSet(!1,t),this.options.hierarchy&&this.isGroup()&&this.blockChild(t)}},{key:"_turnOn",value:function(t){this.options.turnOn&&this.options.turnOn.call(this,t),this._callOnSet(!0,t),this.options.hierarchy&&this.isGroup()&&this.unblockChild(t)}},{key:"_block",value:function(t){this._turnOff(t)}},{key:"_unBlock",value:function(t){this._turnOn(t)}},{key:"_blockChild",value:function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.block&&r.block(e)}},{key:"_unBlockChild",value:function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.unBlock&&r.unBlock(e)}},{key:"_propagation",value:function(t,e){if(this.isGroup())for(var r=this.item.tree.getChildren(),n=0;n<r.length;n++){var o=r[n],i=o.properties&&o.properties.property(this.name);i&&i.set(t,m(m({},e),{propagation:!0,bubble:!1}))}}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(v);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C(n.key),n)}}function L(t,e,r){return(e=C(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}P(j,"options",{hierarchy:!0,bubble:!1,propagation:!1,label:"Toggle"});var T=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,L(this,"options",{}),L(this,"_properties",{}),L(this,"_propertiesList",void 0),this._propertiesList=[],r&&r.forEach(this._setPropertyHandler.bind(this))}var e,r;return e=t,r=[{key:"add",value:function(t){this._setPropertyHandler(t)}},{key:"_setPropertyHandler",value:function(e){var r=t.handlers,n=e.handler;if(!n&&e.type&&(n="boolean"===e.type?r.CheckProperty:r.BaseProperty),n&&e.name){var o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e||{});this._properties[e.name]=new n(e.name,this.item,o),this._propertiesList.push(e.name)}}},{key:"update",value:function(){this.list().forEach((function(t){t.update()}))}},{key:"get",value:function(t){var e=this.property(t);if(e)return e.get()}},{key:"set",value:function(t,e,r){var n=this.property(t);if(n)return n.set(e,r)}},{key:"property",value:function(t){return this._properties[t]}},{key:"list",value:function(){var t=this;return this._propertiesList.map((function(e){return t._properties[e]}))}},{key:"destroy",value:function(){for(var t in this._properties){var e=this.property(t);e&&e.destroy&&e.destroy()}this._properties={},this._propertiesList=[]}}],r&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function B(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===x(e)?e:String(e)}L(T,"handlers",{CheckProperty:j});var A=0,Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,"options",{}),B(this,"properties",void 0),B(this,"tree",void 0),B(this,"id",A),A+=1,this.options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e),this.tree=new s(this)}var e,r;return e=t,(r=[{key:"initProperties",value:function(){this.properties=new T(this,this.options.properties)}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},35453:function(t,e,r){r.d(e,{Z:function(){return je}}),r(21249),r(74916),r(15306),r(96649),r(96078),r(82526),r(41817),r(41539),r(9653),r(69070),r(47941),r(57327),r(38880),r(54747),r(49337),r(33321),r(32165),r(66992),r(78783),r(33948),r(47042),r(91038);var n=r(17187),o=r(45243);function i(t){var e=t.containerPoint,r=t.latlng,n=r.lat;return{latLng:r,lngLat:[r.lng,n],pixel:{left:e.x,top:e.y},source:t}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new(o.Control.extend({onAdd:function(){var n=document.createElement("div"),i=t.onAdd(r);return n.classList.add("leaflet-control"),e.bar&&n.classList.add("leaflet-bar"),e.addClass&&n.classList.add(e.addClass),e.margin||e.bar||(n.style.marginBottom="0px",n.style.marginTop="0px",n.style.marginLeft="0px",n.style.marginRight="0px"),i&&n.appendChild(i),o.DomEvent.disableClickPropagation(n),n},onRemove:function(){t.onRemove()}}))}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}r(68304),r(30489),r(12419);var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(r);if(n){var o=s(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var r=t&&t.customAttribution;if(r){var n=[];Array.isArray(r)?n=r:r&&(n=[r]),n.forEach((function(t){return e.addAttribution(t)}))}return e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(o.Control.Attribution),f=(r(19601),r(40561),r(34553),r(82772),r(69826),r(88674),r(72443),r(39341),r(73706),r(10408),r(7450)),p=r(48651),y=r(79443);function h(t){var e=t.getNorthEast(),r=t.getSouthWest();return[r.lng,r.lat,e.lng,e.lat]}var v={Point:"point",LineString:"line",MultiPoint:"point",Polygon:"polygon",MultiLineString:"line",MultiPolygon:"polygon",GeometryCollection:"polygon"},b={stroke:!1,opacity:1},d={};for(var m in v){var g=v[m],O=d[g]||[];O.push(m),d[g]=O}function w(t,e){return-1!==(d[e]||[]).indexOf(t)}function P(t){var e=new o.GeoJSON;return(Array.isArray(t)?t:[t]).forEach((function(t){return e.addData(t)})),e.getBounds()}function _(t){return{getBounds:function(){return function(t){return h(P(t))}(t)},getCenter:function(){return function(t){var e=P(t).getCenter(),r=e.lat;return[e.lng,r]}(t)}}}function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function S(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==j(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===j(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1+(e[t[r]]||0);var n="";for(var o in e){var i=n?e[n]:0;e[o]>i&&(n=o)}return n}function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function T(t,e,r){return(e=x(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===L(e)?e:String(e)}var R=function(){function t(e,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.options=r,T(this,"layer",void 0),T(this,"pane","order-0"),void 0!==r.order){var n="order-"+r.order,o=e.getPane(n);o||(o=e.createPane(n)),o.style.zIndex=String(Math.round(100*r.order)),this.pane=n}}var e,r;return e=t,(r=[{key:"addLayer",value:function(t){Object.assign(this.options,t)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new k(o||[]);return n(a,"_invoke",{value:w(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function y(){}function h(){}var v={};c(v,i,(function(){return this}));var b=Object.getPrototypeOf,d=b&&b(b(S([])));d&&d!==e&&r.call(d,i)&&(v=d);var m=h.prototype=p.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==D(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=P(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function P(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:y,configurable:!0}),y.displayName=c(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function A(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Z(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=z(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function z(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){$(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function $(t,e,r){return(e=H(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===D(e)?e:String(e)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(l,t);var e,r,n,a,u,c,s=(u=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(u);if(c){var r=V(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}(this,t)});function l(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),$(N(r=s.call(this,t,e)),"layer",void 0),$(N(r),"selected",!1),$(N(r),"paint",void 0),$(N(r),"selectedPaint",void 0),$(N(r),"type",void 0),$(N(r),"_layers",[]),$(N(r),"_selectedLayers",[]),$(N(r),"_filteredLayers",[]),$(N(r),"_filterFun",void 0),$(N(r),"_openedPopup",[]),$(N(r),"$updateTooltip",(0,f.D)((function(){r.updateTooltip()}),300)),$(N(r),"$unselect",(function(){r.unselect()})),r}return e=l,r=[{key:"addLayer",value:function(t){return Object.assign(this.options,t),this.paint=t.paint,this.layer=new o.FeatureGroup([],F(F({},t.nativeOptions),{},{pane:this.pane})),this.selectedPaint=t.selectedPaint,t.paint=this.paint,t.data&&this.addData(t.data),this._addMapListener(),this.layer}},{key:"beforeRemove",value:function(){this._removeMapListener()}},{key:"select",value:function(t){if(this.unselect(),t){var e,r=Z(this._layers.filter(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;this._selectLayer(n,"api")}}catch(t){r.e(t)}finally{r.f()}}else this.selected||(this.selected=!0,this.selectedPaint&&this._setPaintEachLayer(this.selectedPaint))}},{key:"unselect",value:function(t){var e=this;if(t)this._layers.filter(t).forEach((function(t){e._unSelectLayer(t)}));else if(this.selected){var r,n=Z(this._openedPopup);try{for(n.s();!(r=n.n()).done;){var o=r.value;this._removePopup(o[0])}}catch(t){n.e(t)}finally{n.f()}this.paint&&this._setPaintEachLayer(this.paint),this._selectedLayers.length=0,this.selected=!1}}},{key:"getSelected",value:function(){var t=this;return this._selectedLayers.map((function(e){return F({target:t,feature:e.feature,layer:e},_(e.feature))}))}},{key:"getFiltered",value:function(){return this._filteredLayers}},{key:"filter",value:function(t){var e=this;this._filterFun=t;var r=this.layer,n=r&&r._map;if(r&&n){r.remove();var o=[];this._layers.forEach((function(n){var i=n.feature,a=n.layer;a&&(!t||t(F({target:e,feature:i,layer:a},_(i)))?(r.addLayer(a),o.push(F({target:e,feature:i,layer:a},_(i)))):r.removeLayer(a))})),this._filteredLayers=o,r.addTo(n)}return this._filteredLayers}},{key:"cleanFilter",value:function(){this.filter()}},{key:"getLayers",value:function(){var t=this;return this._layers.map((function(e){var r=e.layer,n=e.feature;return F({feature:n,layer:r,visible:r&&!!r._map,target:t},_(n))}))}},{key:"clearLayer",value:function(t){this.unselect();var e=this.layer;if(e)if(t)for(var r=this._layers.length;r--;){var n=this._layers[r];if(n){var o=n.feature,i=n.layer;o&&i&&t(o)&&(e.removeLayer(i),this._layers.splice(r,1))}}else e.clearLayers(),this._layers=[]}},{key:"setData",value:function(t){this.clearLayer(),this.addData(t)}},{key:"addData",value:function(t){var e,r,n=this.options;if(n){if(t){var i;if(n.type)i=n.type;else{var a="FeatureCollection"===(r=t).type?E(r.features.map((function(t){return t.geometry.type}))):"GeometryCollection"===r.type?E(r.geometries.map((function(t){return t.type}))):"Feature"===r.type?r.geometry.type:r.type;i=v[a]}if(this.type&&this.type!==i)return void console.warn("no other data type than layer can be added");this.type=i,t=function(t,e){if("FeatureCollection"===t.type){var r=t;r.features=r.features.filter((function(t){return w(t.geometry.type,e)}))}else if("Feature"===t.type){if(!w(t.geometry.type,e))return!1}else if("GeometryCollection"===t.type){var n=t;n.geometries=n.geometries.filter((function(t){return w(t.type,e)}))}return t}(t,i),t&&(e=this._getGeoJsonOptions(n,i))}new o.GeoJSON(t||void 0,e)}}},{key:"openPopup",value:function(t,e){var r=this;t&&this._layers.filter(t).forEach((function(t){r._openPopup(t,e,"api")}))}},{key:"closePopup",value:function(t){var e=this;(t?this._openedPopup.filter((function(e){return t(e[2])})):this._openedPopup).forEach((function(t){e._removePopup(t[0])}))}},{key:"updateTooltip",value:function(t){var e=this;t?this._updateTooltip(t):this.getLayers().forEach((function(t){return e._updateTooltip({feature:t.feature,layer:t.layer})}))}},{key:"getExtent",value:function(){return this.getBounds()}},{key:"getBounds",value:function(){if(this.layer){var t=this.layer.getBounds();if(t.isValid())return h(t)}}},{key:"setOpacity",value:function(t){this.options.opacity=t,this.setPaint(this.paint),this.setSelectedPaint(this.selectedPaint)}},{key:"setPaint",value:function(t){if(t){this.paint=t;var e,r=Z(this._layers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"setSelectedPaint",value:function(t){if(t){this.selectedPaint=t;var e,r=Z(this._selectedLayers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"updatePaint",value:function(t){this.paint=F(F({},this.paint),t);var e,r=Z(this._layers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,this.paint)}}catch(t){r.e(t)}finally{r.f()}}},{key:"updateSelectedPaint",value:function(t){this.selectedPaint=F(F({},this.selectedPaint),t);var e,r=Z(this._selectedLayers);try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setPaint(n,this.selectedPaint)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_updateTooltip",value:function(t){var e=t.feature,r=t.layer;if(e&&r&&e.properties&&this.options.labelField){r.unbindTooltip();var n=e.properties[this.options.labelField];if(void 0!==n){var o=!this.options.labelOnHover;r.bindTooltip(String(n),{permanent:o,sticky:!1})}}}},{key:"_openPopup",value:(n=M().mark((function t(e){var r,n,o,i,a,u,c,s,l,f,y,h,v,b,d,m,g,O,w,P,j=this,k=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=k.length>1&&void 0!==k[1]?k[1]:{},n=k.length>2?k[2]:void 0,o=k.length>3?k[3]:void 0,i=e.feature,a=e.layer,u=F({minWidth:300},r),c=u.minWidth,s=u.autoPan,l=u.maxWidth,f=u.closeButton,y=null!=f?f:!this.options.selectOnHover,v=[],b=function(t){v.push(t)},d=function(){h&&j._removePopup(h)},!r.createPopupContent){t.next=15;break}return t.next=12,r.createPopupContent(F({layer:a,feature:i,target:this,type:n,close:d,onClose:b},_(i)));case 12:m=t.sent,t.next=16;break;case 15:m=r.popupContent;case 16:m&&a&&(w={minWidth:c,autoPan:s,closeButton:y,closeOnClick:!1,autoClose:!1},(0,p.r)(l)&&(w.maxWidth=l),h=a.bindPopup(m,w),(null===(g=null===(O=this.options.popupOptions)||void 0===O?void 0:O.unselectOnClose)||void 0===g||g)&&(P=a.getPopup())&&P.once("remove",(function(){d()}),this),this._openedPopup.push([h,v,e]),h.openPopup(o));case 17:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){A(i,r,o,a,u,"next",t)}function u(t){A(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"_removePopup",value:function(t){if(this.map){t.closePopup().unbindPopup();var e=this._openedPopup.findIndex((function(e){return e[0]===t}));if(-1!==e){var r,n,o,i=null===(r=null===(n=this.options.popupOptions)||void 0===n?void 0:n.unselectOnClose)||void 0===r||r,a=B(this._openedPopup[e],3),u=a[1],c=a[2],s=Z(u);try{for(s.s();!(o=s.n()).done;)(0,o.value)(c)}catch(t){s.e(t)}finally{s.f()}u.length=0,i&&this._unSelectLayer(c),this._openedPopup.splice(e,1)}}}},{key:"_setPaintEachLayer",value:function(t){var e=this;this._layers.forEach((function(r){e._setPaint(r,t)}))}},{key:"_setPaint",value:function(t,e){var r=void 0,n=t.layer,o=t.feature;if(n&&o&&((0,y.UY)(e)?r=e(o):(0,y.GY)(e)&&(r=e),r))if("point"===this.type&&"icon"===r.type){var i=n,a=this._createDivIcon(r);i.setIcon(a)}else"setStyle"in n&&n.setStyle(this._preparePaint(r))}},{key:"_preparePaint",value:function(t){if("get-paint"!==t.type){var e="line"===this.type?[["color","strokeColor"],["opacity","strokeOpacity"],["weight","weight"]]:[["color","strokeColor"],["opacity","strokeOpacity"],["stroke","stroke"],["fillColor","fillColor"],["fillOpacity","fillOpacity"],["fill","fill"],["weight","weight"]],r={};"radius"in t&&"number"==typeof t.radius&&(r.radius=t.radius);var n,o=Z(e);try{for(o.s();!(n=o.n()).done;){var i=B(n.value,2),a=i[0],u=i[1],c=t[u];(0,p.r)(this.options.opacity)&&-1!==u.toLowerCase().indexOf("opacity")&&(c=Number(c)*this.options.opacity),void 0!==c&&Object.defineProperty(r,a,{enumerable:!0,value:c})}}catch(t){o.e(t)}finally{o.f()}return r}return b}},{key:"_getGeoJsonOptions",value:function(t,e){var r=this,n=t.paint,o={};return"function"==typeof n?"point"===e?o.pointToLayer=function(t,e){var o=n(t);return r._createPaintToLayer(o)(t,e)}:o={style:function(t){return t?r._preparePaint(F(F({},b),n(t))):r._preparePaint(F(F({},b),{},{type:"path"}))}}:o=this._createPaintOptions(n,e),o.onEachFeature=function(t,e){r._onEachFeature(t,e)},o}},{key:"_onEachFeature",value:function(t,e){var r=this,n=this.layer;if(n){var o=F({target:this,feature:t,layer:e},_(t));e.options.pane=this.pane,this._layers.push(o);var i=!0;if(this._filterFun&&(i=this._filterFun(o)),i){var a=this.options,u=a.popup,c=a.popupOptions,s=a.selectable,l=a.interactive,f=a.selectOnHover;e.options.interactive=!(0,p.r)(l)||l,n.addLayer(e),s&&(f?(e.on("mouseover",(function(){r._selectLayer(o,"hover")})),e.on("mouseout",(function(){r._unSelectLayer(o)}))):e.on("click",(function(t){return r._selectOnLayerClick(t)}),this)),this._handleMouseEvents(e),setTimeout((function(){u&&r._openPopup(F({target:r,layer:e,feature:t},_(t)),c,"api"),r._updateTooltip({layer:e,feature:t})}))}}}},{key:"_handleMouseEvents",value:function(t){var e=this,r=this.options,n=r.onClick,o=r.onLayerClick,i=r.onMouseOut,a=r.onMouseOver,u=n||o;u&&t.on("click",(function(r){var n=!!e._getSelected(t);u(F({selected:n},e._createMouseEvent(r)))}),this),i&&t.on("mouseout",(function(t){i(e._createMouseEvent(t))}),this),a&&t.on("mouseover",(function(t){a(e._createMouseEvent(t))}),this)}},{key:"_createMouseEvent",value:function(t){return function(t){var e=t.layer,r=t.source,n=r.target.feature,o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({layer:e,feature:n,event:i(r),source:r},_(n));return o}({layer:this,source:t})}},{key:"_getSelected",value:function(t){return this._selectedLayers.find((function(e){return e.layer===t}))}},{key:"_selectOnLayerClick",value:function(t){o.DomEvent.stopPropagation(t);var e=t.target,r=e.feature,n=F({target:this,layer:e,feature:r},_(r)),i=this._getSelected(e);i?this.options&&this.options.unselectOnSecondClick&&this._unSelectLayer(i):this._selectLayer(n,"click",t.latlng)}},{key:"_selectLayer",value:function(t,e,r){var n=this;this.options.multiselect||(this.map._addUnselectCb((function(){n._unSelectLayer(t)})),this._selectedLayers.forEach((function(t){return n._unSelectLayer(t)}))),this._selectedLayers.push(t),this.selected=!0;var o=this.options,i=o.selectedPaint,a=o.popupOnSelect,u=o.popupOptions;if(i&&t.layer&&this._setPaint(t,i),a&&this._openPopup(t,u,e,r),this.options.onSelect){var c=t.feature?[t.feature]:[];this.options.onSelect(F({type:e,layer:this,features:c},_(c)))}}},{key:"_unSelectLayer",value:function(t){var e=this._selectedLayers.indexOf(t);-1!==e&&(this._selectedLayers.splice(e,1),this.options&&(this.options.paint&&this._setPaint(t,this.options.paint),this.options.popupOnSelect&&t.layer&&this._removePopup(t.layer))),this.selected=this._selectedLayers.length>0}},{key:"_createDivIcon",value:function(t){var e=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));return new o.DivIcon(F({className:""},e))}},{key:"_createPaintToLayer",value:function(t){var e=this;if(t&&t.type)if("icon"===t.type){var r=t.className,n=t.html;if(r||n)return function(r,n){var i=e._createDivIcon(t);return new o.Marker(n,{icon:i})}}else if("pin"===t.type)return function(t,e){return new o.Marker(e)};return function(r,n){var i=b;return new o.CircleMarker(n,e._preparePaint(F(F({},i),t)))}}},{key:"_createPaintOptions",value:function(t,e){var r={},n=t&&this._preparePaint(t)||{};return t&&(r.style=function(){return n}),"point"===e?r.pointToLayer=this._createPaintToLayer(t):"line"===e&&(n.stroke=!0),r}},{key:"_addMapClickListener",value:function(){var t=this.map;if(t){var e=this.options.unselectOnClick;(null==e||e)&&t.on("click",this.$unselect)}}},{key:"_removeMapClickListener",value:function(){this.map.off("zoomend",this.$updateTooltip),this.map.off("moveend",this.$updateTooltip),this.map.off("click",this.$unselect)}},{key:"_addMapListener",value:function(){var t=this.map;if(t){var e=this.options,r=e.labelField,n=e.labelOnHover;this._addMapClickListener(),r&&!n&&(t.on("zoomend",this.$updateTooltip),t.on("moveend",this.$updateTooltip))}}},{key:"_removeMapListener",value:function(){this._removeMapClickListener(),this.map.off("zoomend",this.$updateTooltip),this.map.off("moveend",this.$updateTooltip)}}],r&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(R);function J(t,e,r){var n=new XMLHttpRequest;for(var o in n.open("GET",t),n.responseType="arraybuffer",r)n.setRequestHeader(o,r[o]);return n.onload=function(){var t=new Uint8Array(this.response),r=new Blob([t],{type:"image/png"}),n=(window.URL||window.webkitURL).createObjectURL(r);e(n)},n.send(),function(){n.abort()}}function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rt(n.key),n)}}function Q(){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Q.apply(this,arguments)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function rt(t){var e=function(t,e){if("object"!==Y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Y(e)?e:String(e)}r(92222),r(54678),r(74819),r(82472),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(12974),r(15016),r(60285),r(41637);var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(n);if(o){var r=et(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(this,t)});function a(t,e,r){var n,o,u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=tt(n=i.call(this,t,e,r)),c=[],(u=rt(u="_abort"))in o?Object.defineProperty(o,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[u]=c,n}return e=a,r=[{key:"cancelLoad",value:function(){this._abort&&(this._abort.forEach((function(t){return t()})),this._abort=[])}},{key:"_initImage",value:function(){Q(et(a.prototype),"_initImage",this).call(this);var t=this.options.headers;if(t){var e=this._image,r=e.src;e.src="",this._abort.push(J(r,(function(t){e.src=t}),t))}}}],r&&X(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.ImageOverlay);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lt(n.key),n)}}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function st(t,e,r){return(e=lt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(t){var e=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ot(e)?e:String(e)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ct(n);if(i){var r=ct(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}(this,t)});function u(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),st(ut(r=a.call(this,e)),"defaultWmsParams",{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1}),st(ut(r),"options",{crs:null,uppercase:!1,attribution:"",opacity:1,isBack:!1,minZoom:0,pane:"tilePane",headers:null,viewPortBuffer:0,setViewDelay:100}),st(ut(r),"wmsParams",void 0),st(ut(r),"_url",void 0),st(ut(r),"_currentUrl",void 0),st(ut(r),"_currentOverlay",void 0),r._url=t;var n,i={},c={};for(n in e)n in r.options?c[n]=e[n]:i[n]=e[n];return o.Util.setOptions(ut(r),c),r.wmsParams=o.Util.extend({},r.defaultWmsParams,i),r}return e=u,(r=[{key:"setParams",value:function(t){o.Util.extend(this.wmsParams,t),this.update()}},{key:"getAttribution",value:function(){return this.options.attribution||""}},{key:"onAdd",value:function(){return this.update(),this}},{key:"onRemove",value:function(t){return this._currentOverlay&&(this._currentOverlay.cancelLoad(),t.removeLayer(this._currentOverlay),delete this._currentOverlay),this._currentUrl&&delete this._currentUrl,this}},{key:"getEvents",value:function(){return{moveend:(0,f.D)(this.update,this.options.setViewDelay)}}},{key:"update",value:function(){var t=this;if(this._map){this.updateWmsParams();var e=this.getImageUrl();if(this._currentUrl!==e){this._currentUrl=e;var r=this.options.viewPortBuffer||0,n=this._map.getBounds().pad(r),o=new nt(e,n,{opacity:0,pane:this.options.pane,headers:this.options.headers});o.addTo(this._map),this._currentOverlay&&this._currentOverlay.cancelLoad(),o.once("load",(function(){t._map&&(o._url===t._currentUrl?(t._currentOverlay&&t._map.removeLayer(t._currentOverlay),t._currentOverlay=o,o.setOpacity(void 0!==t.options.opacity?t.options.opacity:1),!0===t.options.isBack&&o.bringToBack(),!1===t.options.isBack&&o.bringToFront(),void 0!==t.options.zIndex&&o.setZIndex(t.options.zIndex)):t._map.removeLayer(o))}),this);var i=this.options,a=i.minZoom,u=i.maxZoom;(a&&this._map.getZoom()<a||u&&this._map.getZoom()>u)&&this._map.removeLayer(o)}}}},{key:"setOpacity",value:function(t){this.options.opacity=t,this._currentOverlay&&this._currentOverlay.setOpacity(t)}},{key:"bringToBack",value:function(){this.options.isBack=!0,this._currentOverlay&&this._currentOverlay.bringToBack()}},{key:"bringToFront",value:function(){this.options.isBack=!1,this._currentOverlay&&this._currentOverlay.bringToFront()}},{key:"setZIndex",value:function(t){this.options.zIndex=t,this._currentOverlay&&this._currentOverlay.setZIndex(t)}},{key:"updateWmsParams",value:function(t){t||(t=this._map);var e=this.options.viewPortBuffer||0,r=t.getBounds().pad(e),n=t.getSize();if(0!==this.options.viewPortBuffer){var i=e+1;n.x=Math.ceil(n.x*i),n.y=Math.ceil(n.y*i)}var a=parseFloat(this.wmsParams.version),u=this.options.crs||t.options.crs,c=a>=1.3?"crs":"srs";if(u){var s=u.project(r.getNorthWest()),l=u.project(r.getSouthEast()),f={width:n.x,height:n.y};f[c]=u.code,f.bbox=(a>=1.3&&u===o.CRS.EPSG4326?[l.y,s.x,s.y,l.x]:[s.x,l.y,l.x,s.y]).join(","),o.Util.extend(this.wmsParams,f)}}},{key:"getImageUrl",value:function(){var t=this.options.uppercase||!1,e=o.Util.getParamString(this.wmsParams,this._url,t);return this._url+e}}])&&it(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(o.Layer);function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(r),!0).forEach((function(e){gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function gt(t,e,r){return(e=Ot(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ot(t){var e=function(t,e){if("object"!==pt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===pt(e)?e:String(e)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mt(n);if(o){var r=mt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return gt(dt(t=i.call.apply(i,[this].concat(r))),"layer",void 0),t}return e=a,(r=[{key:"addLayer",value:function(t){var e=t&&t.url;if(e){var r=(t=ht({transparent:!0},t)).updateWmsParams;if(this.layer=new ft(e,ht(ht(ht({pane:this.pane,headers:t.headers,setViewDelay:t.setViewDelay},t),t.params),t.nativeOptions)),r){var n=this.layer.updateWmsParams;this.layer.updateWmsParams=function(t){n.call(this,t),this.wmsParams=r(this.wmsParams)}}return this.layer}}}])&&vt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Pt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Pt(o)?o:String(o)),n)}var o}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Et(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(n);if(i){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}(this,t)});function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=a.call.apply(a,[this].concat(r))).options.setViewDelay&&(t._update=(0,f.D)((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(e=o.GridLayer.prototype._update).call.apply(e,[kt(t)].concat(n))}),t.options.setViewDelay)),t}return e=u,(r=[{key:"createTile",value:function(t,e){var r=this.getTileUrl(t),n=document.createElement("img");return n.abort=J(r,(function(t){n.src=t,e(null,n)}),this.options.headers),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n}},{key:"_abortLoading",value:function(){var t=this._tiles,e=this._tileZoom;for(var r in t)if(t[r].coords.z!==e){var n=t[r].el;n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.complete||(n.abort&&n.abort(),n.src=o.Util.emptyImageUrl,o.DomUtil.remove(n),delete t[r])}}}])&&_t(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(t)}function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Ct(t,e){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ct(t,e)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}var xt=Et(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tt(r);if(n){var o=Tt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,t,e),Object.assign(r.options,e),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(o.TileLayer));function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}var Dt=["url"];function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function At(t,e,r){return(e=zt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zt(n.key),n)}}function zt(t){var e=function(t,e){if("object"!==Rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Rt(e)?e:String(e)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ut(n);if(i){var r=Ut(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(r=[{key:"addLayer",value:function(t){if(this.options=Object.assign(this.options,t),t){var e=t.url,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Dt);if(e){var n=Mt({pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom},r.nativeOptions);return r.subdomains&&(n.subdomains=r.subdomains),r.headers?new xt(e,Mt(Mt({},n),{},{headers:r.headers,setViewDelay:r.setViewDelay})):new o.TileLayer(e,n)}}}}])&&Zt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(R);function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Wt(t,e){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wt(t,e)}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}var Vt=Et(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wt(t,e)}(i,t);var e,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nt(r);if(n){var o=Nt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(o.TileLayer.WMS));function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}var Ht=["url"];function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){Yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t,e,r){return(e=Qt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qt(n.key),n)}}function Qt(t){var e=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===$t(e)?e:String(e)}function Kt(t,e){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}(u,t);var e,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(n);if(i){var r=te(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(r=[{key:"addLayer",value:function(t){Object.assign(this.options,t);var e=t.url,r=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Ht);if(e){var n=Jt({pane:this.pane,attribution:r.attribution,minZoom:r.minZoom,maxZoom:r.maxZoom,layers:t.layers,format:t.format},t.nativeOptions);return r.headers?new Vt(e,Jt(Jt({},n),{},{headers:r.headers})):new o.TileLayer.WMS(e,n)}}}])&&Xt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(R);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(r),!0).forEach((function(e){ie(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ie(t,e,r){return(e=ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ue(n.key),n)}}function ue(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===re(e)?e:String(e)}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ce.apply(this,arguments)}function se(t,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},se(t,e)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&se(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=le(n);if(o){var r=le(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"addLayer",value:function(t){return ce(le(a.prototype),"addLayer",this).call(this,oe(oe({name:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},t),{},{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}))}}])&&ae(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function pe(t){var e=t;return[[e[3],e[0]],[e[1],e[2]]]}function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function he(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=be(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,e)||be(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(t,e){if(t){if("string"==typeof t)return de(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(t,e):void 0}}function de(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?me(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pe(n.key),n)}}function we(t,e,r){return(e=Pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pe(t){var e=function(t,e){if("object"!==ye(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ye(e)?e:String(e)}var _e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,"options",{target:"map"}),we(this,"layerAdapters",t.layerAdapters),we(this,"controlAdapters",t.controlAdapters),we(this,"emitter",new n.EventEmitter),we(this,"map",void 0),we(this,"_resizeObserver",void 0),we(this,"_unselectCb",[]),we(this,"_universalEvents",["move","zoom","zoomend","zoomstart","moveend","movestart"]),we(this,"_positionEvents",["mousemove","mouseout","mouseover"])}var e,r;return e=t,r=[{key:"create",value:function(t){var e=this;if(this.options=ge({},t),this.options.target){var r=this.options,n=r.zoom,i=r.center,a=r.maxZoom,u=r.minZoom,c=r.maxBounds,s=r.mapAdapterOptions;this.map=this.options.map||new o.Map(this.options.target,ge({attributionControl:!1,zoomControl:!1,maxBounds:c?pe(c):void 0,maxZoom:a,minZoom:u,center:i&&[i[1],i[0]],zoom:n},s));var l=this.map.createPane("order-0");this.map._addUnselectCb=function(t){e._addUnselectCb(t)},l.style.zIndex=String(0),this.emitter.emit("create",this),this._addMapListeners()}}},{key:"destroy",value:function(){this.map&&this.map.remove(),this._stopWatchSizeChangeToUpdateMinZoom()}},{key:"getContainer",value:function(){return this.map&&this.map.getContainer()}},{key:"getControlContainer",value:function(){var t=this.map&&this.map._controlContainer;if(t)return t;throw new Error("Leaflet Map is not initialized yet")}},{key:"setCursor",value:function(t){this.map&&(this.map.getContainer().style.cursor=t)}},{key:"setView",value:function(t,e){var r=this.map;if(r)if(Array.isArray(t)){var n=ve(t,2),o=n[0],i=n[1];this.map&&("number"==typeof e?this.map.setView([i,o],e,{animate:!1}):this.setCenter([o,i]))}else{var a=t.zoom,u=t.center,c=t.maxBounds,s=t.bounds,l=t.minZoom,f=t.maxZoom;if(u&&void 0!==a?this.setView(u,a):(void 0!==a&&this.setZoom(a),u&&this.setCenter(u)),s&&this.fitBounds(s),void 0!==c)if(c){var p=pe(c);r.setMaxBounds(p),r.setMinZoom(r.getBoundsZoom(p)),this._watchSizeChangeToUpdateMinZoom(p)}else r.setMaxBounds(null),this._stopWatchSizeChangeToUpdateMinZoom();void 0!==f&&r.setMaxZoom(f),void 0!==l&&(this._stopWatchSizeChangeToUpdateMinZoom(),r.setMinZoom(l))}}},{key:"setCenter",value:function(t){var e=ve(t,2),r=e[0],n=e[1];this.map&&this.map.panTo([n,r])}},{key:"getCenter",value:function(){var t=this.map;if(t){var e=t.getBounds().getCenter();return[e.lng,e.lat]}}},{key:"setZoom",value:function(t){this.map&&this.map.setZoom(t)}},{key:"getZoom",value:function(){var t;return null!==(t=this.map&&this.map.getZoom())&&void 0!==t?t:void 0}},{key:"getBounds",value:function(){if(this.map){var t=this.map.getBounds(),e=t.getSouthWest(),r=t.getNorthEast();return[e.lng,e.lat,r.lng,r.lat]}}},{key:"fitBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.map){var r=e.maxZoom,n=e.offset,o=e.padding,i={};r&&(i.maxZoom=r),o&&(i.padding=[o,o]),n&&(i.padding=n),this.map.fitBounds(pe(t),i)}}},{key:"getLayerAdapter",value:function(e){return t.layerAdapters[e]}},{key:"createControl",value:function(t,e){return a(t,e,this)}},{key:"createButtonControl",value:function(t){return function(t,e){var r=document.createElement("a"),n=t.title||"";r.href="#",r.title=n,r.setAttribute("role","button"),r.setAttribute("aria-label",n),t.addClass&&r.classList.add(t.addClass),o.DomEvent.disableClickPropagation(r),o.DomEvent.on(r,"click",o.DomEvent.stop),t.html instanceof HTMLElement?r.appendChild(t.html):"string"==typeof t.html&&(r.innerHTML=t.html);var i=function(e){e.stopPropagation(),t.onClick()};return a({onAdd:function(){return void 0!==t.onClick&&r.addEventListener("click",i),r},onRemove:function(){var e=r.parentNode;e&&e.removeChild(r),void 0!==t.onClick&&r.removeEventListener("click",i)}},{bar:!0},e)}(t,this)}},{key:"addControl",value:function(t,e){if(t.options.position=e.replace("-",""),this.map)return this.map.addControl(t),t}},{key:"removeControl",value:function(t){this.map&&this.map.removeControl(t)}},{key:"removeLayer",value:function(t){t&&t.remove&&t.remove()}},{key:"showLayer",value:function(t){this.map&&t.addTo(this.map)}},{key:"hideLayer",value:function(t){t.remove()}},{key:"setLayerOpacity",value:function(t,e){"setOpacity"in t&&t.setOpacity(e)}},{key:"setLayerOrder",value:function(t,e,r){}},{key:"onMapClick",value:function(t){var e=i(t);this.emitter.emit("preclick",e),this.emitter.emit("click",e)}},{key:"locate",value:function(t,e){var r=this.map;if(r&&(r.locate(t),e)){var n=e.locationfound,o=e.locationerror,i=function(t){var e=t,r=[e.latlng.lng,e.latlng.lat];n({lngLat:r})};return void 0!==n&&r.on("locationfound",i,this),o&&r.on("locationerror",o,this),{stop:function(){void 0!==n&&r.off("locationfound",i),o&&r.off("locationerror",o)}}}return{stop:function(){}}}},{key:"_addUnselectCb",value:function(t){var e,r=he(this._unselectCb);try{for(r.s();!(e=r.n()).done;)(0,e.value)()}catch(t){r.e(t)}finally{r.f()}this._unselectCb.length=0,this._unselectCb.push(t)}},{key:"_watchSizeChangeToUpdateMinZoom",value:function(t){this._stopWatchSizeChangeToUpdateMinZoom();var e=this.getContainer(),r=this.map;e&&r&&window.ResizeObserver&&(this._resizeObserver=new ResizeObserver((function(){r.setMinZoom(r.getBoundsZoom(t))})),this._resizeObserver.observe(e))}},{key:"_stopWatchSizeChangeToUpdateMinZoom",value:function(){var t=this.map;t&&t.setMinZoom(0),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0)}},{key:"_addMapListeners",value:function(){var t=this,e=this.map;if(e){e.on("click",(function(e){t.onMapClick(e)}));var r,n=he(this._universalEvents);try{var o=function(){var n=r.value;e.on(n,(function(){return t.emitter.emit(n,t)}),e)};for(n.s();!(r=n.n()).done;)o()}catch(t){n.e(t)}finally{n.f()}var a,u=he(this._positionEvents);try{var c=function(){var r=a.value;e.on(r,(function(e){return t.emitter.emit(r,i(e))}),e)};for(u.s();!(a=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}}}}],r&&Oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();we(_e,"layerAdapters",{GEOJSON:q,IMAGE:wt,TILE:Ft,WMS:ee,OSM:fe}),we(_e,"controlAdapters",{ZOOM:o.Control.Zoom,ATTRIBUTION:l}),we(_e,"Map",o.Map);var je=_e}}]);
//# sourceMappingURL=main-4aa8b69d84c6de6.js.map