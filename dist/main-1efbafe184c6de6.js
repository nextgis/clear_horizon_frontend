/*! For license information please see main-1efbafe184c6de6.js.LICENSE.txt */
"use strict";(self.webpackChunkclear_horizon=self.webpackChunkclear_horizon||[]).push([[252],{89256:function(t,e,r){r.d(e,{y9:function(){return Jt}}),r(41539),r(88674),r(69070),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68304),r(47042),r(12419),r(96649),r(96078),r(9653),r(47941),r(82772),r(92222),r(40561),r(2707),r(26833),r(21249),r(57327),r(26699),r(32023),r(69826),r(23157),r(74916),r(15306),r(38880),r(49337),r(33321),r(91038);var n=r(48651),o=r(79443),i=r(78133);function a(t){for(var e,r={},n=0;n<t.length;n++)r[t[n]]=1+(r[t[n]]||0);for(var o in r){var i=void 0!==e?r[e]:0;r[o]>(i||0)&&(e=o)}return e}var u={polygon:"path",line:"path",point:"circle"},s={Point:"point",LineString:"line",MultiPoint:"point",Polygon:"polygon",MultiLineString:"line",MultiPolygon:"polygon"};r(39714),r(69720);var c=r(17187),l=r(90390),f=r(70584),p=r(61521),h=r(93614);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function d(t,e,r){return e&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}var g=d((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"backspace",8),m(this,"tab",9),m(this,"enter",13),m(this,"shift",16),m(this,"ctrl",17),m(this,"alt",18),m(this,"pause/break",19),m(this,"caps_lock",20),m(this,"escape",27),m(this,"page_up",33),m(this,"page_down",34),m(this,"end",35),m(this,"home",36),m(this,"left_arrow",37),m(this,"up_arrow",38),m(this,"right_arrow",39),m(this,"down_arrow",40),m(this,"insert",45),m(this,"delete",46),m(this,"left_window_key",91),m(this,"right_window_key",92),m(this,"select_key",93),m(this,"numpad_0",96),m(this,"numpad_1",97),m(this,"numpad_2",98),m(this,"numpad_3",99),m(this,"numpad_4",100),m(this,"numpad_5",101),m(this,"numpad_6",102),m(this,"numpad_7",103),m(this,"numpad_8",104),m(this,"numpad_9",105),m(this,"multiply",106),m(this,"add",107),m(this,"subtract",109),m(this,"decimal_point",110),m(this,"divide",111),m(this,"f1",112),m(this,"f2",113),m(this,"f3",114),m(this,"f4",115),m(this,"f5",116),m(this,"f6",117),m(this,"f7",118),m(this,"f8",119),m(this,"f9",120),m(this,"f10",121),m(this,"f11",122),m(this,"f12",123),m(this,"num_lock",144),m(this,"scroll_lock",145),m(this,"semi-colon",186),m(this,"equal_sign",187),m(this,",",188),m(this,"-",189),m(this,".",190),m(this,"/",191),m(this,"`",192),m(this,"[",219),m(this,"\\",220),m(this,"]",221),m(this,"'",222)}));function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function L(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===w(e)?e:String(e)}var x=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,"keyCodeAlias",new g),L(this,"keys",{}),L(this,"_windowOnFocus",void 0),L(this,"_keysPressed",void 0),L(this,"_keysReleased",void 0),this._windowOnFocus=this.windowOnFocus.bind(this),this._keysPressed=this.keysPressed.bind(this),this._keysReleased=this.keysReleased.bind(this),this.addKeyboardEventsListener()}var e,r;return e=t,(r=[{key:"pressed",value:function(t){var e=this.keyCodeAlias[t];return!!e&&this.keys[e]}},{key:"addKeyboardEventsListener",value:function(){"undefined"!=typeof window&&(window.addEventListener("focus",this._windowOnFocus,!1),window.addEventListener("keydown",this._keysPressed,!1),window.addEventListener("keyup",this._keysReleased,!1))}},{key:"removeKeyboardEventsListener",value:function(){"undefined"!=typeof window&&(window.removeEventListener("focus",this._windowOnFocus,!1),window.removeEventListener("keydown",this._keysPressed,!1),window.removeEventListener("keyup",this._keysReleased,!1))}},{key:"keysPressed",value:function(t){t.stopPropagation(),this.keys[t.keyCode]||(this.keys[t.keyCode]=!0)}},{key:"keysReleased",value:function(t){t.stopPropagation(),this.keys[t.keyCode]=!1}},{key:"windowOnFocus",value:function(){this.keys={}}}])&&k(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function E(t,e,r){return(e=S(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===O(e)?e:String(e)}var j=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.webMap=e,E(this,"name",void 0),E(this,"event",void 0),E(this,"value",void 0),r&&(r.value&&this.setValue(r.value),r.name&&(this.name=r.name),r.event&&(this.event=r.event))}var e,r;return e=t,(r=[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(t){this.value=t}}])&&P(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function I(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===C(e)?e:String(e)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=G(n);if(o){var r=G(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return I(F(t=i.call.apply(i,[this].concat(r))),"name","center"),I(F(t),"event","moveend"),t}return e=a,(r=[{key:"getValue",value:function(){return this.webMap.getCenter()}},{key:"setValue",value:function(t){this.webMap.setCenter(t)}},{key:"toString",value:function(t){var e=t.map((function(t){return t.toFixed(5)}));return e[0]+"_"+e[1]}},{key:"parse",value:function(t){return t.split("_").map(Number)}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(j);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function Z(t,e,r){return(e=J(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(t){var e=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===R(e)?e:String(e)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=D(n);if(o){var r=D(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Z(V(t=i.call.apply(i,[this].concat(r))),"name","zoom"),Z(V(t),"event","zoomend"),t}return e=a,(r=[{key:"getValue",value:function(){var t=this.webMap.getZoom();return void 0!==t?Math.round(t):void 0}},{key:"setValue",value:function(t){this.webMap.setZoom(t)}},{key:"toString",value:function(t){return String(t)}},{key:"parse",value:function(t){return Number(t)}}])&&B(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(j);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Q(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=H(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function H(t,e){if(t){if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(t,e):void 0}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(){W=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new O(o||[]);return n(a,"_invoke",{value:k(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function y(){}var v={};s(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var s=l(t[n],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==K(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=L(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,u,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function $(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function q(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$(i,n,o,a,u,"next",t)}function u(t){$(i,n,o,a,u,"throw",t)}a(void 0)}))}}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function tt(t,e,r){return(e=et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function et(t){var e=function(t,e){if("object"!==K(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===K(e)?e:String(e)}var rt=0,nt={minZoom:0,maxZoom:22,paint:{color:"#0000ff",opacity:.4,strokeOpacity:1,stroke:!0,radius:8,weight:1},selectedPaint:{color:"#00008b",opacity:.4,strokeOpacity:1,stroke:!0,radius:12,weight:1},create:!0},ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,"options",nt),tt(this,"emitter",new c.EventEmitter),tt(this,"keys",t.keys),tt(this,"mapAdapter",void 0),tt(this,"runtimeParams",[]),tt(this,"getPaintFunctions",t.getPaintFunctions),tt(this,"mapState",[N,Y]),tt(this,"id",rt++),tt(this,"_initMapState",{}),tt(this,"_starterKits",void 0),tt(this,"_mapState",[]),tt(this,"_extent",void 0),tt(this,"_eventsStatus",{}),tt(this,"_coordFromMapClickPromise",void 0),tt(this,"_mapEvents",{}),this.mapAdapter=e.mapAdapter,this._starterKits=e.starterKits||[],e&&(this.options=(0,l.v)(nt||{},e)),this.options.runtimeParams&&(this.runtimeParams=this.options.runtimeParams),this._addEventsListeners(),this.options.tileJson&&this._setTileJsonOptions(this.options.tileJson),this.options.create&&this.create()}var e,r,o,i,a,u;return e=t,r=[{key:"getId",value:function(){return this.id}},{key:"create",value:(u=q(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.getEventStatus("create")){t.next=6;break}return t.next=3,this._setInitMapState(this.mapState);case 3:return t.next=5,this._setupMap();case 5:this._emitStatusEvent("create",this);case 6:return t.abrupt("return",this);case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setRuntimeParams",value:function(t){this.runtimeParams.push(t)}},{key:"destroy",value:function(){this._removeEventListeners(),function(t){for(var e in t)delete t[e]}(this._emitStatusEvent),this.mapAdapter.destroy&&this.mapAdapter.destroy()}},{key:"getState",value:function(){var t={};return this._mapState.forEach((function(e){t[e.name]=e.getValue()})),t}},{key:"getRuntimeParams",value:function(){var t=this,e={};return this._mapState.forEach((function(r){var n,o=Q(t.runtimeParams);try{for(o.s();!(n=o.n()).done;){var i=n.value.get(r.name);if(void 0!==i){e[r.name]=r.parse(i);break}}}catch(t){o.e(t)}finally{o.f()}})),e}},{key:"getContainer",value:function(){if(this.mapAdapter.getContainer)return this.mapAdapter.getContainer();if(this.options.target){if(this.options.target instanceof HTMLElement)return this.options.target;if("string"==typeof this.options.target){var t=document.getElementById(this.options.target);if(t)return t}}}},{key:"setCursor",value:function(t){this.mapAdapter.setCursor&&this.mapAdapter.setCursor(t)}},{key:"getCursor",value:function(){if(this.mapAdapter.getCursor)return this.mapAdapter.getCursor();var t=this.getContainer();return t?t.style.cursor:void 0}},{key:"setCenter",value:function(t){return this.mapAdapter.setCenter(t),this}},{key:"getCenter",value:function(){return this.mapAdapter.getCenter()}},{key:"getBounds",value:function(){if(this.mapAdapter.getBounds)return this.mapAdapter.getBounds()}},{key:"getBoundsPolygon",value:function(){var t=this.getBounds();if(t)return(0,f.pv)(t)}},{key:"setZoom",value:function(t){return this.mapAdapter.setZoom(t),this}},{key:"getZoom",value:function(){var t=this.mapAdapter.getZoom();if("number"==typeof t)return t}},{key:"zoomIn",value:function(){if(this.mapAdapter.zoomIn)this.mapAdapter.zoomIn();else{var t=this.getZoom();if(void 0!==t){var e=t+1;this.setZoom(e)}}}},{key:"zoomOut",value:function(){if(this.mapAdapter.zoomOut)this.mapAdapter.zoomOut();else{var t=this.getZoom();if(void 0!==t){var e=t-1;this.setZoom(e)}}}},{key:"setView",value:function(t,e){if(Array.isArray(t)){var r=t;this.mapAdapter.setView&&r&&(0,n.r)(e)?this.mapAdapter.setView(r,e):(r&&this.mapAdapter.setCenter(r),(0,n.r)(e)&&this.mapAdapter.setZoom(e))}else{var o=t;this.mapAdapter.setView&&this.mapAdapter.setView(o)}}},{key:"fitBounds",value:function(t,e){return t.every((function(t){return(0,n.r)(t)}))&&(t[1]<-85.06&&(t[1]=-85.06),t[3]>85.06&&(t[3]=85.06),this.mapAdapter.fitBounds(t,e)),this}},{key:"getEventStatus",value:function(t){var e=t,r=this._eventsStatus[e];return null!=r&&r}},{key:"onLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create";return new Promise((function(r){t.getEventStatus(e)?r(t):t.emitter.once(e,(function(){r(t)}))}))}},{key:"onMapLoad",value:function(t){var e=this;return new Promise((function(r){var n,o=function(){var n=e.mapAdapter;t&&t(n),n&&r(n)},i=null===(n=e.mapAdapter.isLoaded)||void 0===n||n;e.mapAdapter.map&&i?o():e.mapAdapter.emitter.once("create",(function(){o()}))}))}},{key:"getLayerAdapters",value:function(){return this.mapAdapter.layerAdapters}},{key:"getLayerAdapter",value:function(t){return this.mapAdapter.layerAdapters[t]}},{key:"locate",value:function(t,e){return this.mapAdapter&&this.mapAdapter.locate?this.mapAdapter.locate(t,e):{stop:function(){return{}}}}},{key:"stopGetCoordFromMapClick",value:function(){this._coordFromMapClickPromise&&this._coordFromMapClickPromise.cancel()}},{key:"getCoordFromMapClick",value:function(){var t=this;return this._coordFromMapClickPromise?this.getCoordFromMapClick():(this._coordFromMapClickPromise=new p.Z((function(e,r,n){var o=t.getCursor()||"grab";t._removeEventListeners({include:["click"]}),t.setCursor("crosshair");var i=function(){t.setCursor(o),t._addEventsListeners({include:["click"]}),t.mapAdapter.emitter.off("click",a),t._coordFromMapClickPromise=void 0},a=function(t){i(),(0,h.V)(t),e(t.lngLat)};t.mapAdapter.emitter.once("click",a),n(i)})),this._coordFromMapClickPromise)}},{key:"_emitStatusEvent",value:function(t,e){var r=t;this._eventsStatus[r]=!0,this.emitter.emit(r,e)}},{key:"_addLayerProviders",value:(a=q(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"_onLoadSync",value:(i=q(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"_setupMap",value:(o=q(W().mark((function t(){return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mapAdapter){t.next=2;break}throw new Error("WebMap `mapAdapter` option is not set");case 2:return t.next=4,this.mapAdapter.create(this.options);case 4:return this._zoomToInitialExtent(),t.next=7,this._addLayerProviders();case 7:return t.next=9,this._onLoadSync();case 9:return this._emitStatusEvent("build-map",this.mapAdapter),t.abrupt("return",this);case 11:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"_setTileJsonOptions",value:function(t){t.center&&(this.options.center=t.center),t.bounds&&(this.options.bounds=t.bounds),(0,n.r)(t.maxzoom)&&(this.options.maxZoom=t.maxzoom,this.options.zoom=t.maxzoom),(0,n.r)(t.minzoom)&&(this.options.minZoom=t.minzoom,this.options.zoom=t.minzoom),(0,n.r)(t.maxzoom)&&(0,n.r)(t.minzoom)&&(this.options.zoom=(t.maxzoom+t.minzoom)/2)}},{key:"_zoomToInitialExtent",value:function(){var t=this.options,e=t.center,r=t.zoom,n=t.bounds;this._extent?this.fitBounds(this._extent):e&&r?this.setView(e,r):n&&this.fitBounds(n)}},{key:"_setInitMapState",value:function(t){var e,r=Q(t);try{for(r.s();!(e=r.n()).done;){var n=new(0,e.value)(this);this._mapState.push(n);var o,i=Q(this.runtimeParams);try{for(i.s();!(o=i.n()).done;){var a=o.value.get(n.name);if(void 0!==a){var u=n.parse(a);this._initMapState[n.name]=u,Object.defineProperty(this.options,n.name,{value:u,configurable:!0,enumerable:!0});break}}}catch(t){i.e(t)}finally{i.f()}}}catch(t){r.e(t)}finally{r.f()}}},{key:"_addEventsListeners",value:function(t){var e=this,r=["preclick","click","zoomstart","zoom","zoomend","movestart","move","moveend","mousemove","mouseout","mouseover"];t&&t.include&&(r=r.filter((function(e){return t.include.includes(e)}))),r.forEach((function(t){e._mapEvents[t]=function(r){if(e.runtimeParams.length){var n=e._mapState.find((function(e){return e.event===t}));if(n){var o=n.toString(n.getValue());e.runtimeParams.forEach((function(t){t.set(n.name,o)}))}}e._eventsStatus&&e.emitter.emit(t,r)};var r=e._mapEvents[t];r&&e.mapAdapter.emitter.on(t,r)}))}},{key:"_removeEventListeners",value:function(t){var e=this,r=Object.entries(this._mapEvents);t&&t.include&&(r=r.filter((function(e){return t.include.includes(e[0])}))),r.forEach((function(t){var r,n,o=(n=2,function(t){if(Array.isArray(t))return t}(r=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(r,n)||H(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];a&&e.mapAdapter.emitter.removeListener(i,a)}))}}],r&&X(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ut(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?st(Object(r),!0).forEach((function(e){mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lt(){lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new O(o||[]);return n(a,"_invoke",{value:k(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function y(){}var v={};s(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var s=l(t[n],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==it(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=L(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,u,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function ft(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function pt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ft(i,n,o,a,u,"next",t)}function u(t){ft(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(t)}function mt(t,e,r){return(e=bt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bt(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===it(e)?e:String(e)}tt(ot,"keys",new x),tt(ot,"getPaintFunctions",void 0);var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(b,t);var e,r,c,l,f,p,h,y,v,d,m=(v=b,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dt(v);if(d){var r=dt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}(this,t)});function b(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),mt(vt(e=m.call(this,t)),"_layersIdCounter",1),mt(vt(e),"_layersOrderCounter",1),mt(vt(e),"_baselayers",[]),mt(vt(e),"_layers",{}),mt(vt(e),"_selectedLayers",[]);var r=e.options.tileJson;return r&&e.emitter.once("build-map",(function(){return e.addTileJsonLayer(r)})),e}return e=b,r=[{key:"fitLayer",value:(y=pt(lt().mark((function t(e,r){var n,o,i;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getLayer(e),!(o=n&&(n.getBounds||n.getExtent))){t.next=7;break}return t.next=5,o.call(n);case 5:(i=t.sent)&&this.fitBounds(i,r);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return y.apply(this,arguments)})},{key:"isBaseLayer",value:function(t){var e=this.getLayer(t);if(e&&e.id)return-1!==this._baselayers.indexOf(e.id)}},{key:"getBaseLayers",value:function(){var t=this,e=[];return this._baselayers.forEach((function(r){var n=t._layers[r];n&&e.push(n)})),e}},{key:"getBaseLayersIds",value:function(){return this._baselayers}},{key:"getLayer",value:function(t){return"string"==typeof t?this._layers[t]:t}},{key:"getLayerId",value:function(t){var e=this.getLayer(t);if(e){if(e.id)return null==e?void 0:e.id;if(e&&e.options)return e.options.id}throw new Error("No id for layer")}},{key:"getLayers",value:function(){return Object.keys(this._layers)}},{key:"allLayers",value:function(){return this._layers}},{key:"orderedLayers",value:function(){return Object.values(this._layers).sort((function(t,e){return t.order&&e.order?t.order-e.order:0}))}},{key:"findLayer",value:function(t){for(var e in this._layers){var r=this._layers[e];if(t(r))return r}}},{key:"isLayerVisible",value:function(t){var e=this.getLayer(t);return!(!e||void 0===e.options.visibility)&&e.options.visibility}},{key:"addBaseLayer",value:(h=pt(lt().mark((function t(e,r){var n;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.addLayer(e,ct(ct({},r),{},{baselayer:!0}),void 0);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"addLayer",value:(p=pt(lt().mark((function t(e){var r,o,i,a,u,s,c,l,f,p,h,y,v,d,m,b,g=arguments;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=g.length>1&&void 0!==g[1]?g[1]:{},i=g.length>2?g[2]:void 0,a=this._layersIdCounter++,u=(0,n.r)(i)?i:void 0!==o.order?o.order:this.reserveOrder(),"string"!=typeof e){t.next=8;break}s=this.getLayerAdapter(e),t.next=16;break;case 8:if("function"!=typeof e){t.next=12;break}s=e,t.next=16;break;case 12:if(!("then"in e)){t.next=16;break}return t.next=15,e;case 15:s=t.sent;case 16:if(c=o,this._updateGeoJsonOptions(c),o=ct({id:String(a),order:u},o),l=null===(r=o.visibility)||void 0===r||r,o.visibility=!1,o.baselayer&&(o.order=0),this.options.onBeforeAddLayer&&(f=this.options.onBeforeAddLayer({options:o,adapter:s}))&&(f.options&&(o=f.options),f.adapter&&(s=f.adapter)),void 0===s){t.next=64;break}return(h=new s(this.mapAdapter.map,o)).options=ct(ct({},o),h.options),h.options.baselayer&&(o.baselayer=!0,o.order=0,h.options.order=0),h.options.id&&(y=String(h.options.id),this._layers[y]=h),this._emitLayerEvent("layer:preadd",y||"",h),t.next=31,this.onMapLoad();case 31:return h.map=this.mapAdapter.map,t.next=34,h.addLayer(h.options);case 34:if(v=t.sent,h.layer=v,h.id=h.options.id||String(a),h.options.id=h.id,o.baselayer&&(h.options.order=0),h.order=null!==(p=h.options.order)&&void 0!==p?p:u,y&&delete this._layers[y],y=String(h.id),!this._layers[y]){t.next=44;break}throw Error("layer with id '".concat(y,"' already exist"));case 44:if(!y){t.next=51;break}if(this._layers[y]=h,c.filter&&this.filterLayer(h,c.filter),o.baselayer&&this._baselayers.push(y),!l){t.next=51;break}return t.next=51,this.showLayer(y);case 51:if(void 0!==(d=o.opacity)&&d<=1&&this.setLayerOpacity(h,d),m=v&&(h.getBounds||h.getExtent),!o.fit||!m){t.next=61;break}return t.next=57,m.call(h);case 57:if(!(b=t.sent)){t.next=61;break}return t.next=61,this.fitBounds(b);case 61:return o.onAdded&&o.onAdded(h),this._emitLayerEvent("layer:add",y,h),t.abrupt("return",h);case 64:return t.abrupt("return",Promise.reject("No adapter"));case 65:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"addLayerFromAsyncAdapter",value:(f=pt(lt().mark((function t(e,r,n){var o,i,a;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n||void 0!==r.order?r.order:this.reserveOrder(),i=e(),t.next=5,i;case 5:if(!(a=t.sent)){t.next=8;break}return t.abrupt("return",this.addLayer(a,r,o));case 8:return t.abrupt("return",Promise.reject("No adapter"));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return f.apply(this,arguments)})},{key:"removeLayers",value:function(t){for(var e in this._layers){var r=!0;t&&(r=t(e,this._layers[e])),r&&(this.removeLayer(e),delete this._layers[e])}}},{key:"reserveOrder",value:function(){return this._layersOrderCounter++}},{key:"removeOverlays",value:function(){this.removeLayers((function(t,e){return!(e&&e.options&&e.options.baselayer)}))}},{key:"removeLayer",value:function(t){var e=this.getLayer(t),r=e&&this.getLayerId(e);if(e&&r){if(this.emitter.emit("layer:preremove",e),e.beforeRemove&&e.beforeRemove(),e.removeLayer?e.removeLayer():this.mapAdapter.removeLayer(e.layer),e.options&&e.options.baselayer){var n=this._baselayers.indexOf(r);n&&this._baselayers.splice(n,1)}delete this._layers[r],this.emitter.emit("layer:remove",e)}}},{key:"addGeoJsonLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return(t=t||{}).multiselect=void 0!==t.multiselect&&t.multiselect,t.unselectOnSecondClick=void 0===t.unselectOnSecondClick||t.unselectOnSecondClick,e||(t=function(t){if(t.data){var e=s[(n=t.data,"FeatureCollection"===n.type?a(n.features.map((function(t){return t.geometry.type}))):"GeometryCollection"===n.type?a(n.geometries.map((function(t){return t.type}))):"Feature"===n.type?n.geometry.type:n.type)],r=t.paint;r&&(0,o.GY)(r)&&(r.type=r.type?r.type:"polygon"===e||"line"===e?"path":"html"in r||"className"in r?"icon":u[e]),t.type=t.type||e}var n;return t}(t)),t.paint=t.paint||{},this.addLayer(e||"GEOJSON",t)}},{key:"addFeatureLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addGeoJsonLayer(t)}},{key:"addTileLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addLayer("TILE",ct(ct({},e),{},{url:t}))}},{key:"addImageLayer",value:function(t,e){var r;return"string"==typeof t?r=t:(r=t.url,e=t),this.addLayer("IMAGE",ct(ct({},e),{},{url:r}))}},{key:"showLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toggleLayer(t,!0,e)}},{key:"hideLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toggleLayer(t,!1,e)}},{key:"toggleLayer",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getLayer(t),i=o&&o.options.visibility,a=void 0!==e?e:!i,u=void 0!==n.silent&&n.silent,s=function(){var t=pt(lt().mark((function t(e){var n,o,i,s,c,l,f,p;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=String(e.id),o=a?"layer:preshow":"layer:prehide",i=a?"layer:show":"layer:hide",u||(r._emitLayerEvent(o,n,e),r._emitLayerEvent("layer:pretoggle",n,e)),!a||!r.mapAdapter){t.next=36;break}if(s=e.options.baselayer?0:e.options.order,!e.options.baselayer||!r._baselayers.length){t.next=25;break}c=r._baselayers.filter((function(t){return t!==e.id&&r.isLayerVisible(t)})),l=at(c),t.prev=9,l.s();case 11:if((f=l.n()).done){t.next=17;break}return p=f.value,t.next=15,r.hideLayer(p);case 15:t.next=11;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),l.e(t.t0);case 22:return t.prev=22,l.f(),t.finish(22);case 25:if(!e.showLayer){t.next=30;break}return t.next=28,e.showLayer.call(e,e.layer);case 28:t.next=33;break;case 30:if(void 0===e.layer){t.next=33;break}return t.next=33,r.mapAdapter.showLayer(e.layer);case 33:void 0!==s&&r.mapAdapter.setLayerOrder(e.layer,s,r._layers),t.next=44;break;case 36:if(!e.hideLayer){t.next=41;break}return t.next=39,e.hideLayer.call(e,e.layer);case 39:t.next=44;break;case 41:if(void 0===e.layer){t.next=44;break}return t.next=44,r.mapAdapter.hideLayer(e.layer);case 44:e.options.visibility=a,u||(r._emitLayerEvent(i,n,e),r._emitLayerEvent("layer:toggle",n,e));case 46:case"end":return t.stop()}}),t,null,[[9,19,22,25]])})));return function(e){return t.apply(this,arguments)}}();return o?this.onMapLoad().then((function(){return s(o)})):Promise.resolve()}},{key:"updateLayer",value:function(t){var e=this,r=this.getLayer(t);if(r){if(r.updateLayer)return Promise.resolve(r.updateLayer());if(this.isLayerVisible(r))return this.hideLayer(r,{silent:!0}).then((function(){return e.showLayer(r,{silent:!0})}))}return Promise.resolve()}},{key:"setLayerOpacity",value:function(t,e){var r=this.getLayer(t);r&&(r.setOpacity?r.setOpacity(e):this.mapAdapter.setLayerOpacity&&this.mapAdapter.setLayerOpacity(r.layer,e))}},{key:"selectLayer",value:function(t,e){var r=this.getLayer(t);if(r){var n=r;n&&n.select&&n.select(e);var o=this.getLayerId(r);o&&this._selectedLayers.push(o)}}},{key:"unSelectLayer",value:function(t,e){var r=this.getLayer(t);if(r){var n=r&&r;n.unselect&&n.unselect(e);var o=this.getLayerId(r);if(o){var i=this._selectedLayers.indexOf(o);-1!==i&&this._selectedLayers.splice(i,1)}}}},{key:"unSelectLayers",value:function(){for(var t,e=0,r=Object.values(this.allLayers());e<r.length;e++)(t=r[e]).unselect&&t.unselect()}},{key:"filterLayer",value:function(t,e){var r=this.getLayer(t);return r.filter?r.filter(e):[]}},{key:"propertiesFilter",value:function(t,e,r){var n=this.getLayer(t);if(n){var o=n;if(o.propertiesFilter)return o.propertiesFilter(e,r);o.filter&&this.filterLayer(o,(function(t){return!t.feature||!t.feature.properties||(0,i.Ml)(t.feature.properties,e)}))}return Promise.resolve()}},{key:"removeLayerFilter",value:function(t){var e=this.getLayer(t);e.removeFilter?e.removeFilter():e.filter&&e.filter((function(){return!0}))}},{key:"setLayerData",value:function(t,e){var r=this.getLayer(t);if(r){if(r.setData)return r.setData(e);if(r.clearLayer&&r.addData)return r.clearLayer(),r.addData(e)}return Promise.resolve()}},{key:"addLayerData",value:function(t,e){var r=this.getLayer(t);r.addData&&r.addData(e)}},{key:"clearLayerData",value:function(t,e){var r=this.getLayer(t);r&&r.clearLayer&&r.clearLayer(e)}},{key:"setLayerPaint",value:function(t,e){var r=this.getLayer(t);e&&r&&r.setPaint&&r.setPaint(e)}},{key:"setLayerSelectedPaint",value:function(t,e){var r=this.getLayer(t);e&&r&&r.setSelectedPaint&&r.setSelectedPaint(e)}},{key:"updateLayerPaint",value:function(t,e){var r=this.getLayer(t);e&&r&&r.updatePaint&&r.updatePaint(e)}},{key:"updateLayerSelectedPaint",value:function(t,e){var r=this.getLayer(t);e&&r&&r.updateSelectedPaint&&r.updateSelectedPaint(e)}},{key:"getAttributions",value:function(t){var e=[];for(var r in this._layers){var n=this._layers[r],o=!(void 0===t.onlyVisible||t.onlyVisible)||n.options.visibility;if(o&&t.onlyBaselayer&&(o=this._baselayers.includes(r)),o){var i=n.options&&n.options.attribution;i&&e.push(i)}}return e}},{key:"getActiveBaseLayer",value:function(){var t=this,e=this.getBaseLayers().find((function(e){return t.isLayerVisible(e)}));if(e)return this.getLayer(e)}},{key:"addTileJsonLayer",value:function(t){var e=t.tiles[0];return this.addLayer("TILE",{url:e,maxZoom:t.maxzoom,minZoom:t.minzoom,subdomains:t.scheme,attribution:t.attribution})}},{key:"_emitLayerEvent",value:function(t,e,r){var o=String(t);if((0,n.r)(e)&&o.startsWith("layer:")){var i=o.replace("layer:","layer-"+e+":");this.emitter.emit(i,r)}this.emitter.emit(t,r)}},{key:"_onLayerClick",value:(l=pt(lt().mark((function t(e){var r;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.layer.id,this._emitLayerEvent("layer:click",r||"",e),t.abrupt("return",Promise.resolve(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"_onLayerSelect",value:(c=pt(lt().mark((function t(e){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._emitLayerEvent("layer:select",e.layer.id||"",e),t.abrupt("return",Promise.resolve(e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"_updateGeoJsonOptions",value:function(t){var e=this,r=t.onSelect,i=t.onLayerSelect,a=t.onClick,u=t.onLayerClick,s=t.onMouseOut,c=t.onMouseOver,l=a||u;t.onClick=function(t){return l&&l(t),e._onLayerClick(t)},t.onMouseOut=function(t){var r=t.layer.id;s&&s(t),(0,n.r)(r)&&e._emitLayerEvent("layer:mouseout",r,t)},t.onMouseOver=function(t){var r=t.layer.id;c&&c(t),(0,n.r)(r)&&e._emitLayerEvent("layer:mouseover",r,t)};var f=r||i;t.onSelect=function(t){return f&&f(t),e._onLayerSelect(t)},t.nativePaint||(this.options.paint&&(t.paint=(0,o.Yx)(t.paint||{},this.options.paint,this.getPaintFunctions)),t.selectedPaint&&this.options.selectedPaint&&(t.selectedPaint=(0,o.Yx)(t.selectedPaint,this.options.selectedPaint,this.getPaintFunctions)))}}],r&&ht(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),b}(ot);function wt(t,e){var r=document.createElement("div"),n=!1;e.getStatus?n=e.getStatus():e.status&&(n=e.status);var o=e.title||"",i=e.html;function a(){o&&(r.title="string"==typeof o?o:n?o.on:o.off,r.setAttribute("aria-label",r.title))}function u(t){t instanceof HTMLElement?(r.innerHTML="",r.appendChild(t)):"string"==typeof t&&(r.innerHTML=t)}function s(){i&&("string"==typeof i||i instanceof HTMLElement?u(i):u(n?i.on:i.off),r.setAttribute("aria-label",r.title))}function c(t,e){t.split(" ").forEach((function(t){e?r.classList.add(t):r.classList.remove(t)}))}function l(){e.addClassOn&&c(e.addClassOn,n),e.addClassOff&&c(e.addClassOff,!n)}a(),s(),e.addClass&&c(e.addClass,!0),l();var f=function(t){void 0!==t&&(n=t),s(),a(),l()},p=function(t){if(n=void 0!==t?t:!n,e.onClick){var r=e.onClick(n);Promise.resolve(r).then((function(){return f()})).catch((function(){return n=!n}))}else f()},h=t({html:r,onClick:p});return h.onClick=p,h.changeStatus=f,h}function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Lt(){Lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new O(o||[]);return n(a,"_invoke",{value:k(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function y(){}var v={};s(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var s=l(t[n],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==kt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=L(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,u,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function _t(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function xt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_t(i,n,o,a,u,"next",t)}function u(t){_t(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pt(t,e)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function jt(t,e,r){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t){var e=function(t,e){if("object"!==kt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===kt(e)?e:String(e)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(f,t);var e,r,n,o,i,a,u,s,c,l=(s=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(s);if(c){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Et(t)}(this,t)});function f(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return jt(Et(t=l.call.apply(l,[this].concat(r))),"_loadControlQueue",{"top-right":[],"bottom-right":[],"top-left":[],"bottom-left":[]}),jt(Et(t),"_isControlLoading",{"top-right":!1,"bottom-right":!1,"top-left":!1,"bottom-left":!1}),t}return e=f,r=[{key:"addControl",value:(u=xt(Lt().mark((function t(e,r,n){var o,i,a=this;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null!==(o=r)&&void 0!==o?o:"top-left",!(i="string"==typeof e?this.getControl(e,n):e)){t.next=4;break}return t.abrupt("return",new Promise((function(t){var e=function(){var e=xt(Lt().mark((function e(){var n,o;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:n=e.sent,o=a.mapAdapter.addControl(n,r),t(o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a._setControlQueue(r,e)})));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return u.apply(this,arguments)})},{key:"createControl",value:(a=xt(Lt().mark((function t(e,r){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onLoad("build-map");case 2:if(!this.mapAdapter.createControl){t.next=4;break}return t.abrupt("return",this.mapAdapter.createControl(e,r));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"createButtonControl",value:(i=xt(Lt().mark((function t(e){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onLoad("build-map");case 2:if(!this.mapAdapter.createButtonControl){t.next=4;break}return t.abrupt("return",this.mapAdapter.createButtonControl(e));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"createToggleControl",value:(o=xt(Lt().mark((function t(e){return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onLoad("build-map");case 2:if(!this.mapAdapter.createToggleControl){t.next=6;break}return t.abrupt("return",this.mapAdapter.createToggleControl(e));case 6:if(!this.mapAdapter.createButtonControl){t.next=8;break}return t.abrupt("return",wt(this.mapAdapter.createButtonControl,e));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"removeControl",value:function(t){var e=this;"remove"in t?t.remove():this.mapAdapter.removeControl&&Promise.resolve(t).then((function(t){e.mapAdapter.removeControl(t)}))}},{key:"getControl",value:function(t,e){var r=this.mapAdapter.controlAdapters[t];if(r)return new r(e);var n=f.controls[t];return n?n(this,e):void 0}},{key:"getControlContainer",value:function(){if(this.mapAdapter.getControlContainer)return this.mapAdapter.getControlContainer()}},{key:"_setControlQueue",value:function(t,e){this._loadControlQueue[t].push(e),this._isControlLoading[t]||this._applyControls(t)}},{key:"_applyControls",value:(n=xt(Lt().mark((function t(e){var r;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._loadControlQueue[e].length){t.next=9;break}return this._isControlLoading[e]=!0,r=this._loadControlQueue[e][0],t.next=5,r();case 5:this._loadControlQueue[e].splice(0,1),this._applyControls(e),t.next=10;break;case 9:this._isControlLoading[e]=!1;case 10:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}],r&&Ot(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(gt);jt(At,"controls",{CONTROL:function(t,e){return t.createControl(e.control,e.options)},BUTTON:function(t,e){return t.createButtonControl(e)},TOGGLE:function(t,e){return t.createToggleControl(e)}});var Tt={};function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}var Gt=["position"];function It(){It=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new O(o||[]);return n(a,"_invoke",{value:k(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function y(){}var v={};s(v,i,(function(){return this}));var d=Object.getPrototypeOf,m=d&&d(d(P([])));m&&m!==e&&r.call(m,i)&&(v=m);var b=y.prototype=p.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var s=l(t[n],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Ft(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function k(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=L(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function L(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=y,n(b,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,u,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Mt(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function Nt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Mt(i,n,o,a,u,"next",t)}function u(t){Mt(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ft(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ft(o)?o:String(o)),n)}var o}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vt(t)}function Dt(t){var e,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new Zt(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Zt(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Zt=function(t){this.s=t,this.n=t.next},Zt.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new Zt(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(c,t);var e,r,n,o,i,a,u,s=(a=c,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vt(a);if(u){var r=Vt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}(this,t)});function c(t){var e,r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this,t))._addControls(),r=e.id,n=zt(e),Tt[r]=n,e}return e=c,r=[{key:"_addLayerProviders",value:(i=Nt(It().mark((function t(){var e,r,n,o,i,a,u,s,c,l,f,p,h,y;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!1,r=!1,t.prev=2,o=Dt(this._starterKits);case 4:return t.next=6,o.next();case 6:if(!(e=!(i=t.sent).done)){t.next=47;break}if(!(a=i.value).getLayerAdapters){t.next=44;break}return t.next=11,a.getLayerAdapters.call(a);case 11:if(!(u=t.sent)){t.next=44;break}s=!1,c=!1,t.prev=15,f=Dt(u);case 17:return t.next=19,f.next();case 19:if(!(s=!(p=t.sent).done)){t.next=28;break}return h=p.value,t.next=23,h.createAdapter(this);case 23:(y=t.sent)&&(this.mapAdapter.layerAdapters[h.name]=y);case 25:s=!1,t.next=17;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(15),c=!0,l=t.t0;case 34:if(t.prev=34,t.prev=35,!s||null==f.return){t.next=39;break}return t.next=39,f.return();case 39:if(t.prev=39,!c){t.next=42;break}throw l;case 42:return t.finish(39);case 43:return t.finish(34);case 44:e=!1,t.next=4;break;case 47:t.next=53;break;case 49:t.prev=49,t.t1=t.catch(2),r=!0,n=t.t1;case 53:if(t.prev=53,t.prev=54,!e||null==o.return){t.next=58;break}return t.next=58,o.return();case 58:if(t.prev=58,!r){t.next=61;break}throw n;case 61:return t.finish(58);case 62:return t.finish(53);case 63:case"end":return t.stop()}}),t,this,[[2,49,53,63],[15,30,34,44],[35,,39,43],[54,,58,62]])}))),function(){return i.apply(this,arguments)})},{key:"_onLoadSync",value:(o=Nt(It().mark((function t(){var e,r,n,o,i,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=!1,r=!1,t.prev=2,o=Dt(this._starterKits);case 4:return t.next=6,o.next();case 6:if(!(e=!(i=t.sent).done)){t.next=20;break}if(!(a=i.value).onLoadSync){t.next=17;break}return t.prev=9,t.next=12,a.onLoadSync.call(a,this);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9),console.error(t.t0);case 17:e=!1,t.next=4;break;case 20:t.next=26;break;case 22:t.prev=22,t.t1=t.catch(2),r=!0,n=t.t1;case 26:if(t.prev=26,t.prev=27,!e||null==o.return){t.next=31;break}return t.next=31,o.return();case 31:if(t.prev=31,!r){t.next=34;break}throw n;case 34:return t.finish(31);case 35:return t.finish(26);case 36:case"end":return t.stop()}}),t,this,[[2,22,26,36],[9,14],[27,,31,35]])}))),function(){return o.apply(this,arguments)})},{key:"_addControls",value:function(){var t=this;this.options.controls&&this.options.controls.forEach((function(e){var r=e,n={};"string"==typeof e&&t.options.controlsOptions&&t.options.controlsOptions[e]&&void 0!==(n=t.options.controlsOptions[e]).control&&(r=n.control);var o=n,i=o.position,a=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(o,Gt);t.addControl(r,i||"top-left",a)})),this._emitStatusEvent("controls:create")}}],n=[{key:"get",value:function(t){return function(t){return Tt[t]}(t)}}],r&&Rt(e.prototype,r),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(At)}}]);
//# sourceMappingURL=main-1efbafe184c6de6.js.map